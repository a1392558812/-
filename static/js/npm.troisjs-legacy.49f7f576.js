"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[888],{rx55:function(e,t,r){r.d(t,{CD:function(){return Ge},JF:function(){return Ce},JO:function(){return Ee},Ku:function(){return Ne},T_:function(){return we},Th:function(){return O},Tz:function(){return Te},V1:function(){return _},ZA:function(){return I},aL:function(){return Oe},ce:function(){return ve},mi:function(){return Ye},xC:function(){return Re},xE:function(){return ke},xs:function(){return R},xv:function(){return Me}});var i=r("oekR"),n=r("XEAi"),s=r("Womt"),a=r("z6iS"),o=r("Nz+E"),h=r("eLPZ"),d=r("7vCB"),u=r("QrJ9"),l=r("JVck"),c=r("Ojbj"),m=r("+9t9"),p=r("ryU0"),f=r("aM+t"),g=r("ND3/"),y=r("+cJv"),b=r("phP8"),v=r("GQOs"),w=r("lGWi"),S=r("X2BA"),x=r("46T8");function P(e,t,r){t instanceof Object&&Object.entries(t).forEach((([t,i])=>{r?r(e,t,i):e[t]=i}))}function C(e,t,r,s=!0,a){return s&&P(r,e[t],a),s=(0,i.Vh)(e,t),(0,n.YP)(s,(e=>{P(r,e,a)}))}function N(e,t){t instanceof Object&&Object.entries(t).forEach((([t,r])=>{e[t]=r}))}function L(e,t,r,s){const a=s||t;(s=(0,i.Vh)(e,t)).value instanceof Object?(N(r[a],s.value),(0,n.YP)(s,(e=>{N(r[a],e)}),{deep:!0})):(void 0!==s.value&&(r[a]=e[t]),(0,n.YP)(s,(e=>{r[a]=e})))}function z(e,t=[]){const r={};return Object.entries(e).forEach((([e,i])=>{t&&t.includes(e)||(r[e]=i)})),r}function k(e){const{camera:t,domElement:r,intersectObjects:i,intersectRecursive:n=!1,touch:a=!0,resetOnEnd:o=!1,onEnter:h=(()=>{}),onMove:d=(()=>{}),onLeave:u=(()=>{}),onClick:l=(()=>{}),onIntersectEnter:c=(()=>{}),onIntersectOver:m=(()=>{}),onIntersectMove:p=(()=>{}),onIntersectLeave:f=(()=>{}),onIntersectClick:g=(()=>{})}=e,y=new s.Vector2(0,0),b=new s.Vector2(0,0),v=function(e){const{camera:t,resetPosition:r=new s.Vector3(0,0,0)}=e,i=new s.Raycaster,n=r.clone(),a=new s.Plane(new s.Vector3(0,0,1),0);return{position:n,updatePosition:e=>{i.setFromCamera(e,t),t.getWorldDirection(a.normal),i.ray.intersectPlane(a,n)},intersect:(e,r,n=!1)=>(i.setFromCamera(e,t),i.intersectObjects(r,n))}}({camera:t}),w=v.position,S={position:y,positionN:b,positionV3:w,intersectObjects:i,listeners:!1,addListeners:function(){r.addEventListener("mouseenter",C),r.addEventListener("mousemove",N),r.addEventListener("mouseleave",z),r.addEventListener("click",L),a&&(r.addEventListener("touchstart",C),r.addEventListener("touchmove",N),r.addEventListener("touchend",z)),S.listeners=!0},removeListeners:function(){r.removeEventListener("mouseenter",C),r.removeEventListener("mousemove",N),r.removeEventListener("mouseleave",z),r.removeEventListener("click",L),r.removeEventListener("touchstart",C),r.removeEventListener("touchmove",N),r.removeEventListener("touchend",z),S.listeners=!1},intersect:P};return S;function x(e){let t,i;i=e.touches&&0<e.touches.length?(t=e.touches[0].clientX,e.touches[0].clientY):(t=e.clientX,e.clientY),e=r.getBoundingClientRect(),y.x=t-e.left,y.y=i-e.top,b.x=y.x/e.width*2-1,b.y=-y.y/e.height*2+1,v.updatePosition(b)}function P(){var e=E();if(e.length){const t=v.intersect(b,e,n),r=[...e],i=[];t.forEach((e=>{var t;const n=e.object;var a,o=k(n);if(n instanceof s.InstancedMesh){if(-1!==i.indexOf(n))return;i.push(n)}n.userData.over||(a={...h={type:"pointerover",over:n.userData.over=!0,component:o,intersect:e},type:"pointerenter"},m(h),c(a),null!=(t=null==o?void 0:o.onPointerOver)&&t.call(o,h),null!=(t=null==o?void 0:o.onPointerEnter)&&t.call(o,a));var h={type:"pointermove",component:o,intersect:e};p(h),null!=(t=null==o?void 0:o.onPointerMove)&&t.call(o,h),r.splice(r.indexOf(n),1)})),r.forEach((e=>{var t,r,i=k(e);e.userData.over&&(r={...e={type:"pointerover",over:e.userData.over=!1,component:i},type:"pointerleave"},m(e),f(r),null!=(t=null==i?void 0:i.onPointerOver)&&t.call(i,e),null!=(t=null==i?void 0:i.onPointerLeave)&&t.call(i,r))}))}}function C(e){x(e),h({type:"pointerenter",position:y,positionN:b,positionV3:w})}function N(e){x(e),d({type:"pointermove",position:y,positionN:b,positionV3:w}),P()}function L(e){if(x(e),(e=E()).length){const t=v.intersect(b,e,n),r=[];t.forEach((e=>{var t=e.object,i=k(t);if(t instanceof s.InstancedMesh){if(-1!==r.indexOf(t))return;r.push(t)}g(t={type:"click",component:i,intersect:e}),null!=(e=null==i?void 0:i.onClick)&&e.call(i,t)}))}l({type:"click",position:y,positionN:b,positionV3:w})}function z(){o&&(y.set(0,0),b.set(0,0),w.set(0,0,0)),u({type:"pointerleave"})}function k(e){if(e.userData.component)return e.userData.component;let t=e.parent;for(;t;){if(t.userData.component)return t.userData.component;t=t.parent}}function E(){return"function"==typeof i?i():i}}const E=Symbol("Renderer");var O=(0,n.aZ)({name:"Renderer",props:{params:{type:Object,default:()=>({})},antialias:Boolean,alpha:Boolean,autoClear:{type:Boolean,default:!0},orbitCtrl:{type:[Boolean,Object],default:!1},pointer:{type:[Boolean,Object],default:!1},resize:{type:[Boolean,String],default:!1},shadow:Boolean,width:String,height:String,pixelRatio:Number,xr:Boolean,props:{type:Object,default:()=>({})},onReady:Function},inheritAttrs:!1,setup(e,{attrs:t}){const r=document.createElement("canvas"),i=(Object.entries(t).forEach((([e,t])=>{const i=e.match(/^on([A-Z][a-zA-Z]*)$/);i?r.addEventListener(i[1].toLowerCase(),t):r.setAttribute(e,t)})),{canvas:r,params:e.params,antialias:e.antialias,alpha:e.alpha,autoClear:e.autoClear,orbitCtrl:e.orbitCtrl,pointer:e.pointer,resize:e.resize}),o=(e.width&&(i.width=parseInt(e.width)),e.height&&(i.height=parseInt(e.height)),function(e){const t={antialias:!0,alpha:!1,autoClear:!0,orbitCtrl:!1,pointer:!1,resize:!1,width:300,height:150},r=(e&&Object.entries(e).forEach((([e,r])=>{t[e]=r})),{width:1,height:1,wWidth:1,wHeight:1,ratio:1}),i=[],n=[];e=function(){const e=new s.WebGLRenderer({canvas:t.canvas,antialias:t.antialias,alpha:t.alpha,...t.params});return e.autoClear=t.autoClear,e}();const o={config:t,renderer:e,size:r,init:function(){if(!o.scene)return!1;if(!o.camera)return!1;if(t.resize?(d(),window.addEventListener("resize",d)):t.width&&t.height&&u(t.width,t.height),function(){let e={camera:o.camera,domElement:o.renderer.domElement,intersectObjects:n};t.pointer&&t.pointer instanceof Object&&(e={...e,...t.pointer});const r=o.pointer=k(e);(t.pointer||n.length)&&(r.addListeners(),"frame"===e.intersectMode&&h(r.intersect))}(),t.orbitCtrl){const e=new a.z(o.camera,o.renderer.domElement);t.orbitCtrl instanceof Object&&Object.entries(t.orbitCtrl).forEach((([t,r])=>{e[t]=r})),h((()=>{e.update()})),o.cameraCtrl=e}return!0},dispose:function(){window.removeEventListener("resize",d),o.pointer&&o.pointer.removeListeners(),o.cameraCtrl&&o.cameraCtrl.dispose(),o.renderer&&o.renderer.dispose()},render:function(){i.forEach((e=>e())),o.renderer.render(o.scene,o.camera)},renderC:function(){i.forEach((e=>e())),o.composer.render()},setSize:u,addIntersectObject:function(e){-1===n.indexOf(e)&&n.push(e),o.pointer&&!o.pointer.listeners&&o.pointer.addListeners()},removeIntersectObject:function(e){-1!==(e=n.indexOf(e))&&n.splice(e,1),o.pointer&&!t.pointer&&0===n.length&&o.pointer.removeListeners()}};return o;function h(e){i.push(e)}function d(){var e;"window"===t.resize?u(window.innerWidth,window.innerHeight):(e=o.renderer.domElement.parentNode)&&u(e.clientWidth,e.clientHeight),null!=(e=t.onResize)&&e.call(t,r)}function u(e,t){if(r.width=e,r.height=t,r.ratio=e/t,o.renderer.setSize(e,t,!1),"PerspectiveCamera"===(e=o.camera).type){const t=e;t.aspect=r.ratio,t.updateProjectionMatrix()}"OrthographicCamera"===e.type?(t=e,r.wWidth=t.right-t.left,r.wHeight=t.top-t.bottom):(t=(e=o.camera).fov*Math.PI/180,e=[e=(t=2*Math.tan(t/2)*Math.abs(e.position.z))*e.aspect,t],r.wWidth=e[0],r.wHeight=e[1])}}(i));return C(e,"props",o.renderer),(0,n.m0)((()=>{e.pixelRatio&&o.renderer.setPixelRatio(e.pixelRatio)})),{canvas:r,three:o,renderer:o.renderer,size:o.size,renderFn:()=>{},raf:!0,initCallbacks:[],mountedCallbacks:[],beforeRenderCallbacks:[],afterRenderCallbacks:[],resizeCallbacks:[]}},computed:{camera:{get:function(){return this.three.camera},set:function(e){this.three.camera=e}},scene:{get:function(){return this.three.scene},set:function(e){this.three.scene=e}},composer:{get:function(){return this.three.composer},set:function(e){this.three.composer=e}}},provide(){return{[E]:this}},mounted(){var e;this.$el.parentNode.insertBefore(this.canvas,this.$el),this.three.init()&&(this.three.pointer&&(this.$pointer=this.three.pointer),this.three.config.onResize=e=>{this.resizeCallbacks.forEach((t=>t({type:"resize",renderer:this,size:e})))},this.shadow&&(this.renderer.shadowMap.enabled=!0),this.renderFn=this.three.composer?this.three.renderC:this.three.render,this.initCallbacks.forEach((e=>e({type:"init",renderer:this}))),null!=(e=this.onReady)&&e.call(this,this),this.xr?(this.renderer.xr.enabled=!0,this.renderer.setAnimationLoop(this.render)):requestAnimationFrame(this.renderLoop)),this.mountedCallbacks.forEach((e=>e({type:"mounted",renderer:this})))},beforeUnmount(){this.canvas.remove(),this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[],this.raf=!1,this.three.dispose()},methods:{onInit(e){this.addListener("init",e)},onMounted(e){this.addListener("mounted",e)},onBeforeRender(e){this.addListener("beforerender",e)},offBeforeRender(e){this.removeListener("beforerender",e)},onAfterRender(e){this.addListener("afterrender",e)},offAfterRender(e){this.removeListener("afterrender",e)},onResize(e){this.addListener("resize",e)},offResize(e){this.removeListener("resize",e)},addListener(e,t){this.getCallbacks(e).push(t)},removeListener(e,t){const r=this.getCallbacks(e);-1!==(e=r.indexOf(t))&&r.splice(e,1)},getCallbacks(e){return"init"===e?this.initCallbacks:"mounted"===e?this.mountedCallbacks:"beforerender"===e?this.beforeRenderCallbacks:"afterrender"===e?this.afterRenderCallbacks:this.resizeCallbacks},render(e){this.beforeRenderCallbacks.forEach((t=>t({type:"beforerender",renderer:this,time:e}))),this.renderFn({renderer:this,time:e}),this.afterRenderCallbacks.forEach((t=>t({type:"afterrender",renderer:this,time:e})))},renderLoop(e){this.raf&&requestAnimationFrame(this.renderLoop),this.render(e)}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"Renderer"});function M(e,t,r,i=!0){e[t]=r,i&&e.updateProjectionMatrix()}t=(0,n.aZ)({props:{props:{type:Object,default:()=>({})}},render(){return this.$slots.default?this.$slots.default():[]}}),(0,n.aZ)({extends:t,name:"OrthographicCamera",props:{left:{type:Number,default:-1},right:{type:Number,default:1},top:{type:Number,default:1},bottom:{type:Number,default:-1},near:{type:Number,default:.1},far:{type:Number,default:2e3},zoom:{type:Number,default:1},position:{type:Object,default:()=>({x:0,y:0,z:0})}},setup(e){const t=(0,n.f3)(E);if(t){const r=new s.OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far);return t.camera=r,L(e,"position",r),C(e,"props",r,!0,M),["left","right","top","bottom","near","far","zoom"].forEach((t=>{(0,n.YP)((()=>e[t]),(e=>{M(r,t,e)}))})),{renderer:t,camera:r}}},__hmrId:"OrthographicCamera"});var _=(0,n.aZ)({extends:t,name:"PerspectiveCamera",props:{aspect:{type:Number,default:1},far:{type:Number,default:2e3},fov:{type:Number,default:50},near:{type:Number,default:.1},position:{type:Object,default:()=>({x:0,y:0,z:0})},lookAt:{type:Object,default:null}},setup(e){var t;const r=(0,n.f3)(E);if(r){const i=new s.PerspectiveCamera(e.fov,e.aspect,e.near,e.far);return r.camera=i,L(e,"position",i),e.lookAt&&i.lookAt(null!=(t=e.lookAt.x)?t:0,e.lookAt.y,e.lookAt.z),(0,n.YP)((()=>e.lookAt),(e=>{var t;i.lookAt(null!=(t=e.x)?t:0,e.y,e.z)}),{deep:!0}),C(e,"props",i,!0,M),["aspect","far","fov","near"].forEach((t=>{(0,n.YP)((()=>e[t]),(e=>{M(i,t,e)}))})),{renderer:r,camera:i}}},__hmrId:"PerspectiveCamera"});const j=Symbol("Scene");var R=(0,n.aZ)({name:"Scene",props:{background:[String,Number,Object]},setup(e){const t=(0,n.f3)(E),r=new s.Scene;var i;if(t)return t.scene=r,(0,n.JJ)(j,r),i=e=>{e&&("string"==typeof e||"number"==typeof e?r.background instanceof s.Color?r.background.set(e):r.background=new s.Color(e):e instanceof s.Texture&&(r.background=e))},i(e.background),(0,n.YP)((()=>e.background),i),{scene:r,add:e=>{r.add(e)},remove:e=>{r.remove(e)}}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"Scene"}),I=(r={onPointerEnter:Function,onPointerOver:Function,onPointerMove:Function,onPointerLeave:Function,onPointerDown:Function,onPointerUp:Function,onClick:Function},t=(0,n.aZ)({name:"Object3D",inject:{renderer:E,scene:j},emits:["created","ready"],props:{position:{type:Object,default:()=>({x:0,y:0,z:0})},rotation:{type:Object,default:()=>({x:0,y:0,z:0})},scale:{type:Object,default:()=>({x:1,y:1,z:1,order:"XYZ"})},lookAt:{type:Object,default:null},userData:{type:Object,default:()=>({})},visible:{type:Boolean,default:!0},props:{type:Object,default:()=>({})},disableAdd:{type:Boolean,default:!1},disableRemove:{type:Boolean,default:!1},...r},setup:()=>({}),created(){this.renderer,this.scene},unmounted(){this.disableRemove||this.removeFromParent(),this.o3d&&this.renderer&&this.renderer.three.removeIntersectObject(this.o3d)},methods:{initObject3D(e){var t;(((this.o3d=e).userData.component=this).onPointerEnter||this.onPointerOver||this.onPointerMove||this.onPointerLeave||this.onPointerDown||this.onPointerUp||this.onClick)&&this.renderer&&this.renderer.three.addIntersectObject(e),L(this,"position",e),L(this,"rotation",e),L(this,"scale",e),L(this,"userData",e.userData),L(this,"visible",e),C(this,"props",e),this.$emit("created",e),this.lookAt&&e.lookAt(null!=(t=this.lookAt.x)?t:0,this.lookAt.y,this.lookAt.z),(0,n.YP)((()=>this.lookAt),(t=>{var r;e.lookAt(null!=(r=t.x)?r:0,t.y,t.z)}),{deep:!0}),this.parent=this.getParent(),this.disableAdd||this.addToParent()&&this.$emit("ready",this)},getParent(){let e=this.$parent;var t;for(e||(t=(0,n.FN)())&&t.parent&&(e=t.parent.ctx);e;){if(e.add)return e;e=e.$parent}},addToParent(e){return e=e||this.o3d,!!this.parent&&(this.parent.add(e),!0)},removeFromParent(e){return e=e||this.o3d,!!this.parent&&(this.parent.remove(e),!0)},add(e){var t;null!=(t=this.o3d)&&t.add(e)},remove(e){var t;null!=(t=this.o3d)&&t.remove(e)}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"Object3D"}),(0,n.aZ)({name:"Group",extends:t,setup:()=>({group:new s.Group}),created(){this.initObject3D(this.group)},__hmrId:"Group"}));r=()=>{},(0,n.aZ)({name:"Raycaster",props:{onPointerEnter:{type:Function,default:r},onPointerOver:{type:Function,default:r},onPointerMove:{type:Function,default:r},onPointerLeave:{type:Function,default:r},onClick:{type:Function,default:r},intersectMode:{type:String,default:"move"},intersectRecursive:{type:Boolean,default:!1}},setup:()=>({renderer:(0,n.f3)(E)}),mounted(){if(this.renderer){const e=this.renderer;this.renderer.onMounted((()=>{e.camera&&(this.pointer=k({camera:e.camera,domElement:e.canvas,intersectObjects:()=>e.scene?e.scene.children:[],intersectRecursive:this.intersectRecursive,onIntersectEnter:this.onPointerEnter,onIntersectOver:this.onPointerOver,onIntersectMove:this.onPointerMove,onIntersectLeave:this.onPointerLeave,onIntersectClick:this.onClick}),this.pointer.addListeners(),"frame"===this.intersectMode&&e.onBeforeRender(this.pointer.intersect))}))}},unmounted(){var e;this.pointer&&(this.pointer.removeListeners(),null!=(e=this.renderer)&&e.offBeforeRender(this.pointer.intersect))},render:()=>[],__hmrId:"Raycaster"}),(0,n.aZ)({extends:t,props:{cubeRTSize:{type:Number,default:256},cubeCameraNear:{type:Number,default:.1},cubeCameraFar:{type:Number,default:2e3},autoUpdate:Boolean,hideMeshes:{type:Array,default:()=>[]}},setup(e){const t=(0,n.f3)(E);if(!t||!t.scene)return{};const r=t.renderer,i=t.scene;var a=new s.WebGLCubeRenderTarget(e.cubeRTSize,{format:s.RGBFormat,generateMipmaps:!0,minFilter:s.LinearMipmapLinearFilter});const o=new s.CubeCamera(e.cubeCameraNear,e.cubeCameraFar,a),h=()=>{e.hideMeshes.forEach((e=>{e.visible=!1})),o.update(r,i),e.hideMeshes.forEach((e=>{e.visible=!0}))};return e.autoUpdate?(t.onBeforeRender(h),(0,n.Ah)((()=>{t.offBeforeRender(h)}))):t.onMounted(h),{cubeRT:a,cubeCamera:o,updateRT:h}},created(){this.cubeCamera&&this.initObject3D(this.cubeCamera)},render:()=>[],__hmrId:"CubeCamera"});const G=Symbol("Mesh"),A=(0,n.aZ)({name:"Mesh",extends:t,props:{castShadow:Boolean,receiveShadow:Boolean},setup:()=>({}),provide(){return{[G]:this}},mounted(){this.mesh||this.loading||this.initMesh()},methods:{initMesh(){var e=new s.Mesh(this.geometry,this.material);L(this,"castShadow",e),L(this,"receiveShadow",e),this.mesh=e,this.initObject3D(e)},createGeometry(){},addGeometryWatchers(e){Object.keys(e).forEach((e=>{(0,n.YP)((()=>this[e]),(()=>{this.refreshGeometry()}))}))},setGeometry(e){this.geometry=e,this.mesh&&(this.mesh.geometry=e)},setMaterial(e){this.material=e,this.mesh&&(this.mesh.material=e)},refreshGeometry(){const e=this.geometry;this.createGeometry(),this.mesh&&this.geometry&&(this.mesh.geometry=this.geometry),null!=e&&e.dispose()}},unmounted(){this.geometry&&this.geometry.dispose(),this.material&&this.material.dispose()},__hmrId:"Mesh"});function D(e,t,r){return(0,n.aZ)({name:e,extends:A,props:t,created(){this.createGeometry(),this.addGeometryWatchers(t)},methods:{createGeometry(){this.geometry=r(this)}}})}const T=(0,n.aZ)({emits:["created"],props:{rotateX:Number,rotateY:Number,rotateZ:Number,attributes:{type:Array,default:()=>[]}},inject:{mesh:G},setup:()=>({}),created(){this.mesh&&(this.createGeometry(),this.rotateGeometry(),this.geometry&&this.mesh.setGeometry(this.geometry),Object.keys(this.$props).forEach((e=>{(0,n.YP)((()=>this[e]),this.refreshGeometry)})))},unmounted(){var e;null!=(e=this.geometry)&&e.dispose()},methods:{createGeometry(){const e={},t=new s.BufferGeometry;this.attributes.forEach((r=>{var i;r.name&&r.itemSize&&r.array&&(i=e[r.name]=new s.BufferAttribute(r.array,r.itemSize,r.normalized),t.setAttribute(r.name,i))})),t.computeBoundingBox(),(t.userData.component=this).geometry=t,this.$emit("created",t)},rotateGeometry(){this.geometry&&(this.rotateX&&this.geometry.rotateX(this.rotateX),this.rotateY&&this.geometry.rotateY(this.rotateY),this.rotateZ&&this.geometry.rotateZ(this.rotateZ))},refreshGeometry(){const e=this.geometry;this.createGeometry(),this.rotateGeometry(),this.geometry&&this.mesh&&this.mesh.setGeometry(this.geometry),null!=e&&e.dispose()}},render:()=>[]});function Z(e,t,r){return(0,n.aZ)({name:e,extends:T,props:t,methods:{createGeometry(){this.geometry=r(this),(this.geometry.userData.component=this).$emit("created",this.geometry)}}})}function B(e){return e.size?new s.BoxGeometry(e.size,e.size,e.size,e.widthSegments,e.heightSegments,e.depthSegments):new s.BoxGeometry(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}function F(e){return new s.CircleGeometry(e.radius,e.segments,e.thetaStart,e.thetaLength)}Z("BoxGeometry",r={size:Number,width:{type:Number,default:1},height:{type:Number,default:1},depth:{type:Number,default:1},widthSegments:{type:Number,default:1},heightSegments:{type:Number,default:1},depthSegments:{type:Number,default:1}},B),Z("CircleGeometry",Fe={radius:{type:Number,default:1},segments:{type:Number,default:8},thetaStart:{type:Number,default:0},thetaLength:{type:Number,default:2*Math.PI}},F);var U={radius:{type:Number,default:1},height:{type:Number,default:1},radialSegments:{type:Number,default:8},heightSegments:{type:Number,default:1},openEnded:{type:Boolean,default:!1},thetaStart:{type:Number,default:0},thetaLength:{type:Number,default:2*Math.PI}};function Y(e){return new s.ConeGeometry(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}Z("ConeGeometry",U,Y);var $={radiusTop:{type:Number,default:1},radiusBottom:{type:Number,default:1},height:{type:Number,default:1},radialSegments:{type:Number,default:8},heightSegments:{type:Number,default:1},openEnded:{type:Boolean,default:!1},thetaStart:{type:Number,default:0},thetaLength:{type:Number,default:2*Math.PI}};function V(e){return new s.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}Z("CylinderGeometry",$,V);var W={radius:{type:Number,default:1},detail:{type:Number,default:0}};function q(e){return new s.DodecahedronGeometry(e.radius,e.detail)}Z("DodecahedronGeometry",W,q),Z("ExtrudeGeometry",{shapes:{type:[Object,Array]},options:{type:Object}},(function(e){return new s.ExtrudeGeometry(e.shapes,e.options)}));var H={radius:{type:Number,default:1},detail:{type:Number,default:0}};function X(e){return new s.IcosahedronGeometry(e.radius,e.detail)}Z("IcosahedronGeometry",H,X);var J={points:Array,segments:{type:Number,default:12},phiStart:{type:Number,default:0},phiLength:{type:Number,default:2*Math.PI}};function K(e){return new s.LatheGeometry(e.points,e.segments,e.phiStart,e.phiLength)}Z("LatheGeometry",J,K);var Q={radius:{type:Number,default:1},detail:{type:Number,default:0}};function ee(e){return new s.OctahedronGeometry(e.radius,e.detail)}Z("OctahedronGeometry",Q,ee);var te={width:{type:Number,default:1},height:{type:Number,default:1},widthSegments:{type:Number,default:1},heightSegments:{type:Number,default:1}};function re(e){return new s.PlaneGeometry(e.width,e.height,e.widthSegments,e.heightSegments)}Z("PlaneGeometry",te,re);var ie={vertices:Array,indices:Array,radius:{type:Number,default:1},detail:{type:Number,default:0}};function ne(e){return new s.PolyhedronGeometry(e.vertices,e.indices,e.radius,e.detail)}Z("PolyhedronGeometry",ie,ne);var se={innerRadius:{type:Number,default:.5},outerRadius:{type:Number,default:1},thetaSegments:{type:Number,default:8},phiSegments:{type:Number,default:1},thetaStart:{type:Number,default:0},thetaLength:{type:Number,default:2*Math.PI}};function ae(e){return new s.RingGeometry(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}Z("RingGeometry",se,ae);var oe={radius:{type:Number,default:1},widthSegments:{type:Number,default:12},heightSegments:{type:Number,default:12},phiStart:{type:Number,default:0},phiLength:{type:Number,default:2*Math.PI},thetaStart:{type:Number,default:0},thetaLength:{type:Number,default:Math.PI}};function he(e){return new s.SphereGeometry(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}Z("SphereGeometry",oe,he),Z("ShapeGeometry",{shapes:{type:[Object,Array]},curveSegments:{type:Number}},(function(e){return new s.ShapeGeometry(e.shapes,e.curveSegments)}));var de={radius:{type:Number,default:1},detail:{type:Number,default:0}};function ue(e){return new s.TetrahedronGeometry(e.radius,e.detail)}Z("TetrahedronGeometry",de,ue);var le={radius:{type:Number,default:1},tube:{type:Number,default:.4},radialSegments:{type:Number,default:8},tubularSegments:{type:Number,default:6},arc:{type:Number,default:2*Math.PI}};function ce(e){return new s.TorusGeometry(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}Z("TorusGeometry",le,ce);var me={radius:{type:Number,default:1},tube:{type:Number,default:.4},tubularSegments:{type:Number,default:64},radialSegments:{type:Number,default:8},p:{type:Number,default:2},q:{type:Number,default:3}};function pe(e){return new s.TorusKnotGeometry(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}Z("TorusKnotGeometry",me,pe);const fe={points:Array,path:s.Curve,tubularSegments:{type:Number,default:64},radius:{type:Number,default:1},radialSegments:{type:Number,default:8},closed:{type:Boolean,default:!1}};function ge(e){let t;return e.points?t=new s.CatmullRomCurve3(e.points):e.path&&(t=e.path),new s.TubeGeometry(t,e.tubularSegments,e.radius,e.radiusSegments,e.closed)}function ye(e,t){const r=new s.CatmullRomCurve3(t),{radialSegments:i,radius:n,tubularSegments:a,closed:o}=e.parameters,h=r.computeFrenetFrames(a,o),d=(e.tangents=h.tangents,e.normals=h.normals,e.binormals=h.binormals,e.parameters.path=r,e.getAttribute("position")),u=e.getAttribute("normal"),l=new s.Vector3,c=new s.Vector3;for(let e=0;e<a;e++)m(e);function m(e){r.getPointAt(e/a,c);var t=h.normals[e],s=h.binormals[e];for(let r=0;r<=i;r++){var o=r/i*Math.PI*2,m=Math.sin(o);o=-Math.cos(o),l.x=o*t.x+m*s.x,l.y=o*t.y+m*s.y,l.z=o*t.z+m*s.z,l.normalize(),o=e*(i+1)+r,u.setXYZ(o,l.x,l.y,l.z),d.setXYZ(o,c.x+n*l.x,c.y+n*l.y,c.z+n*l.z)}}m(a),e.attributes.position.needsUpdate=!0,e.attributes.normal.needsUpdate=!0}(0,n.aZ)({extends:T,props:fe,methods:{createGeometry(){this.geometry=ge(this)},updatePoints(e){ye(this.geometry,e)}}});var be=(0,n.aZ)({extends:t,name:"Light",props:{color:{type:String,default:"#ffffff"},intensity:{type:Number,default:1},castShadow:{type:Boolean,default:!1},shadowMapSize:{type:Object,default:()=>({x:512,y:512})},shadowCamera:{type:Object,default:()=>({})}},setup:()=>({}),unmounted(){(this.light instanceof s.SpotLight||this.light instanceof s.DirectionalLight)&&this.removeFromParent(this.light.target)},methods:{initLight(e){(this.light=e).shadow&&(e.castShadow=this.castShadow,N(e.shadow.mapSize,this.shadowMapSize),N(e.shadow.camera,this.shadowCamera)),["color","intensity","castShadow"].forEach((t=>{(0,n.YP)((()=>this[t]),(r=>{"color"===t?e.color.set(r):e[t]=r}))})),this.initObject3D(e),(e instanceof s.SpotLight||e instanceof s.DirectionalLight)&&(L(this,"target",e.target,"position"),this.addToParent(e.target))}},__hmrId:"Light"}),ve=((0,n.aZ)({extends:be,created(){this.initLight(new s.AmbientLight(this.color,this.intensity))},__hmrId:"AmbientLight"}),(0,n.aZ)({extends:be,props:{target:{type:Object,default:()=>({x:0,y:0,z:0})}},created(){this.initLight(new s.DirectionalLight(this.color,this.intensity))},__hmrId:"DirectionalLight"}),(0,n.aZ)({extends:be,props:{groundColor:{type:String,default:"#444444"}},created(){const e=new s.HemisphereLight(this.color,this.groundColor,this.intensity);(0,n.YP)((()=>this.groundColor),(t=>{e.groundColor.set(t)})),this.initLight(e)},__hmrId:"HemisphereLight"}),(0,n.aZ)({extends:be,props:{distance:{type:Number,default:0},decay:{type:Number,default:1}},created(){this.initLight(new s.PointLight(this.color,this.intensity,this.distance,this.decay))},__hmrId:"PointLight"})),we=(0,n.aZ)({extends:be,props:{width:{type:Number,default:10},height:{type:Number,default:10},helper:Boolean},created(){o.a.init();const e=new s.RectAreaLight(this.color,this.intensity,this.width,this.height);var t;["width","height"].forEach((t=>{(0,n.YP)((()=>this[t]),(r=>{e[t]=r}))})),this.helper&&(t=new h.Z(e),e.add(t)),this.initLight(e)},__hmrId:"RectAreaLight"});(0,n.aZ)({extends:be,props:{angle:{type:Number,default:Math.PI/3},decay:{type:Number,default:1},distance:{type:Number,default:0},penumbra:{type:Number,default:0},target:Object},created(){const e=new s.SpotLight(this.color,this.intensity,this.distance,this.angle,this.penumbra,this.decay);["angle","decay","distance","penumbra"].forEach((t=>{(0,n.YP)((()=>this[t]),(r=>{e[t]=r}))})),this.initLight(e)},__hmrId:"SpotLight"});const Se=Symbol("Material"),xe=(0,n.aZ)({emits:["created"],props:{color:{type:String,default:"#ffffff"},props:{type:Object,default:()=>({})}},inject:{mesh:G},setup:()=>({}),provide(){return{[Se]:this}},created(){if(this.mesh&&this.createMaterial){const e=this.material=this.createMaterial();(0,n.YP)((()=>this.color),(t=>{e.color.set(t)})),C(this,"props",e,!1,this.setProp),this.$emit("created",e),this.mesh.setMaterial(e)}},unmounted(){var e;null!=(e=this.material)&&e.dispose()},methods:{getMaterialParams(){return{...z(this.$props,["props"]),...this.props}},setProp(e,t,r,i=!1){const n=e[t];n instanceof s.Color?n.set(r):e[t]=r,e.needsUpdate=i},setTexture(e,t="map"){this.setProp(this.material,t,e,!0)}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"Material"});function Pe(e,t,r){return(0,n.aZ)({name:e,extends:xe,props:t,methods:{createMaterial(){return r(this.getMaterialParams())}}})}Pe("BasicMaterial",{props:{type:Object,default:()=>({})}},(e=>new s.MeshBasicMaterial(e))),Pe("LambertMaterial",{props:{type:Object,default:()=>({})}},(e=>new s.MeshLambertMaterial(e)));const Ce=Pe("PhongMaterial",{props:{type:Object,default:()=>({})}},(e=>new s.MeshPhongMaterial(e)));Pe("PhysicalMaterial",{props:{type:Object,default:()=>({})}},(e=>new s.MeshPhysicalMaterial(e))),Pe("PointsMaterial",{props:{type:Object,default:()=>({})}},(e=>new s.PointsMaterial(e))),Pe("ShadowMaterial",{color:{type:String,default:"#000000"},props:{type:Object,default:()=>({})}},(e=>new s.ShadowMaterial(e)));const Ne=Pe("StandardMaterial",{props:{type:Object,default:()=>({})}},(e=>new s.MeshStandardMaterial(e)));Pe("ToonMaterial",{props:{type:Object,default:()=>({})}},(e=>new s.MeshToonMaterial(e))),Pe("MatcapMaterial",{src:String,name:{type:String,default:"0404E8_0404B5_0404CB_3333FC"}},(e=>{var t=e.src||function(e="0404E8_0404B5_0404CB_3333FC",t=1024){return`https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d/${t}/`+e+function(e){switch(e){case 64:return"-64px";case 128:return"-128px";case 256:return"-256px";case 512:return"-512px";default:return""}}(t)+".png"}(e.name);const r=z(e,["src","name"]);return r.matcap=(new s.TextureLoader).load(t),new s.MeshMatcapMaterial(r)})),Pe("ShaderMaterial",{props:{type:Object,default:()=>({uniforms:{},vertexShader:"\n  varying vec2 vUv;\n  void main(){\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n  }\n",fragmentShader:"\n  varying vec2 vUv;\n  void main() {\n    gl_FragColor = vec4(vUv.x, vUv.y, 0., 1.0);\n  }\n"})}},(e=>new s.ShaderMaterial(z(e,["color"])))),be=s.ShaderChunk.meshphong_frag.slice(0,s.ShaderChunk.meshphong_frag.indexOf("void main() {"));const Le=s.ShaderChunk.meshphong_frag.slice(s.ShaderChunk.meshphong_frag.indexOf("void main() {")),ze={uniforms:s.UniformsUtils.merge([s.ShaderLib.phong.uniforms,{thicknessColor:{value:new s.Color(16777215)},thicknessDistortion:{value:.1},thicknessAmbient:{value:0},thicknessAttenuation:{value:.1},thicknessPower:{value:2},thicknessScale:{value:10}}]),vertexShader:`\n    #define USE_UV\n    ${s.ShaderChunk.meshphong_vert}\n  `,fragmentShader:`\n    #define USE_UV\n    #define SUBSURFACE\n\n    ${be}\n\n    uniform float thicknessPower;\n    uniform float thicknessScale;\n    uniform float thicknessDistortion;\n    uniform float thicknessAmbient;\n    uniform float thicknessAttenuation;\n    uniform vec3 thicknessColor;\n\n    void RE_Direct_Scattering(const in IncidentLight directLight, const in vec2 uv, const in GeometricContext geometry, inout ReflectedLight reflectedLight) {\n      #ifdef USE_COLOR\n        vec3 thickness = vColor * thicknessColor;\n      #else\n        vec3 thickness = thicknessColor;\n      #endif\n      vec3 scatteringHalf = normalize(directLight.direction + (geometry.normal * thicknessDistortion));\n      float scatteringDot = pow(saturate(dot(geometry.viewDir, -scatteringHalf)), thicknessPower) * thicknessScale;\n      vec3 scatteringIllu = (scatteringDot + thicknessAmbient) * thickness;\n      reflectedLight.directDiffuse += scatteringIllu * thicknessAttenuation * directLight.color;\n    }\n  `+Le.replace("#include <lights_fragment_begin>",(be=s.ShaderChunk.lights_fragment_begin,_e="RE_Direct( directLight, geometry, material, reflectedLight );",Ie="\n        RE_Direct( directLight, geometry, material, reflectedLight );\n        #if defined( SUBSURFACE ) && defined( USE_UV )\n          RE_Direct_Scattering(directLight, vUv, geometry, reflectedLight);\n        #endif\n      ",be.split(_e).join(Ie)))};(0,n.aZ)({extends:xe,props:{uniforms:{type:Object,default:()=>({diffuse:"#ffffff",thicknessColor:"#ffffff",thicknessDistortion:.4,thicknessAmbient:.01,thicknessAttenuation:.7,thicknessPower:2,thicknessScale:4})}},methods:{createMaterial(){var e=ze,t=s.UniformsUtils.clone(e.uniforms);return C(this,"uniforms",t,!0,((e,t,r)=>{const i=e[t].value;i instanceof s.Color?i.set(r):e[t].value=r})),e=new s.ShaderMaterial({...e,lights:!0,...this.props,uniforms:t})}}});var ke=(0,n.aZ)({inject:{material:Se},props:{name:{type:String,default:"map"},uniform:String,src:String,onLoad:Function,onProgress:Function,onError:Function,props:{type:Object,default:()=>({})}},setup:()=>({}),created(){this.refreshTexture(),(0,n.YP)((()=>this.src),this.refreshTexture)},unmounted(){var e;null!=(e=this.material)&&e.setTexture(null,this.name),null!=(e=this.texture)&&e.dispose()},methods:{createTexture(){if(this.src)return(new s.TextureLoader).load(this.src,this.onLoaded,this.onProgress,this.onError)},initTexture(){this.texture&&(C(this,"props",this.texture),this.material&&(this.material.setTexture(this.texture,this.name),this.material.material instanceof s.ShaderMaterial&&this.uniform&&(this.material.material.uniforms[this.uniform]={value:this.texture})))},refreshTexture(){var e;null!=(e=this.texture)&&e.dispose(),this.texture=this.createTexture(),this.initTexture()},onLoaded(e){var t;null!=(t=this.onLoad)&&t.call(this,e)}},render:()=>[]}),Ee=((0,n.aZ)({extends:ke,props:{name:{type:String,default:"envMap"},path:{type:String,required:!0},urls:{type:Array,default:()=>["px.jpg","nx.jpg","py.jpg","ny.jpg","pz.jpg","nz.jpg"]},props:{type:Object,default:()=>({mapping:s.CubeReflectionMapping})}},created(){(0,n.YP)((()=>this.path),this.refreshTexture),(0,n.YP)((()=>this.urls),this.refreshTexture)},methods:{createTexture(){return(new s.CubeTextureLoader).setPath(this.path).load(this.urls,this.onLoaded,this.onProgress,this.onError)}}}),(0,n.aZ)({extends:ke,props:{videoId:{type:String,required:!0}},created(){(0,n.YP)((()=>this.videoId),this.refreshTexture)},methods:{createTexture(){var e=document.getElementById(this.videoId);return new s.VideoTexture(e)}}}),D("Box",r,B),D("Circle",Fe,F),D("Cone",U,Y),D("Cylinder",$,V),D("Dodecahedron",W,q),D("Icosahedron",H,X),D("Lathe",J,K),D("Octahedron",Q,ee),D("Plane",te,re)),Oe=(D("Polyhedron",ie,ne),D("Ring",se,ae),D("Sphere",oe,he)),Me=(D("Tetrahedron",de,ue),be={text:{type:String,required:!0,default:"Text"},fontSrc:{type:String,required:!0},size:{type:Number,default:80},height:{type:Number,default:5},depth:{type:Number,default:1},curveSegments:{type:Number,default:12},bevelEnabled:{type:Boolean,default:!1},bevelThickness:{type:Number,default:10},bevelSize:{type:Number,default:8},bevelOffset:{type:Number,default:0},bevelSegments:{type:Number,default:5},align:{type:[Boolean,String],default:!1}},(0,n.aZ)({extends:A,props:be,setup:()=>({}),created(){if(this.fontSrc){["text","size","height","curveSegments","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","align"].forEach((e=>{(0,n.YP)((()=>this[e]),(()=>{this.font&&this.refreshGeometry()}))}));const e=new u.J;this.loading=!0,e.load(this.fontSrc,(e=>{this.loading=!1,this.font=e,this.createGeometry(),this.initMesh()}))}},methods:{createGeometry(){this.geometry=new d.M(this.text,{font:this.font,size:this.size,height:this.height,depth:this.depth,curveSegments:this.curveSegments,bevelEnabled:this.bevelEnabled,bevelThickness:this.bevelThickness,bevelSize:this.bevelSize,bevelOffset:this.bevelOffset,bevelSegments:this.bevelSegments}),"center"===this.align&&this.geometry.center()}}})),_e=(D("Torus",le,ce),D("TorusKnot",me,pe),(0,n.aZ)({extends:A,props:fe,created(){this.createGeometry(),this.addGeometryWatchers(fe)},methods:{createGeometry(){this.geometry=ge(this)},updatePoints(e){ye(this.geometry,e)}},__hmrId:"Tube"}),(0,n.aZ)({emits:["loaded"],extends:A,props:{src:{type:String,required:!0},width:Number,height:Number,widthSegments:{type:Number,default:1},heightSegments:{type:Number,default:1},keepSize:Boolean},setup:()=>({}),created(){this.renderer&&(this.geometry=new s.PlaneGeometry(1,1,this.widthSegments,this.heightSegments),this.material=new s.MeshBasicMaterial({side:s.DoubleSide,map:this.loadTexture()}),(0,n.YP)((()=>this.src),this.refreshTexture),["width","height"].forEach((e=>{(0,n.YP)((()=>this[e]),this.resize)})),this.resize(),this.keepSize&&this.renderer.onResize(this.resize))},unmounted(){var e;null!=(e=this.renderer)&&e.offResize(this.resize)},methods:{loadTexture(){return(new s.TextureLoader).load(this.src,this.onLoaded)},refreshTexture(){var e;null!=(e=this.texture)&&e.dispose(),this.material&&(this.material.map=this.loadTexture(),this.material.needsUpdate=!0)},onLoaded(e){this.texture=e,this.resize(),this.$emit("loaded",e)},resize(){if(this.renderer&&this.texture){var e=this.renderer.size,t=this.texture.image.width/this.texture.image.height;let r=1,i=1;this.width&&this.height?(r=this.width*e.wWidth/e.width,i=this.height*e.wHeight/e.height):this.width?(r=this.width*e.wWidth/e.width,i=r/t):this.height?(i=this.height*e.wHeight/e.height,r=i*t):1<t?r=i*t:i=r/t,this.mesh&&(this.mesh.scale.x=r,this.mesh.scale.y=i)}}},__hmrId:"Image"}),(0,n.aZ)({extends:A,props:{count:{type:Number,required:!0}},methods:{initMesh(){if(this.renderer){if(!this.geometry||!this.material)return!1;this.mesh=new s.InstancedMesh(this.geometry,this.material,this.count),L(this.mesh.userData.component=this,"castShadow",this.mesh),L(this,"receiveShadow",this.mesh),(this.onPointerEnter||this.onPointerOver||this.onPointerMove||this.onPointerLeave||this.onPointerDown||this.onPointerUp||this.onClick)&&this.renderer.three.addIntersectObject(this.mesh),this.initObject3D(this.mesh)}}},__hmrId:"InstancedMesh"}),(0,n.aZ)({extends:t,emits:["loaded"],props:{src:{type:String,required:!0}},setup:()=>({}),created(){this.texture=(new s.TextureLoader).load(this.src,this.onLoaded),this.material=new s.SpriteMaterial({map:this.texture}),this.sprite=new s.Sprite(this.material),this.initObject3D(this.sprite)},unmounted(){var e;null!=(e=this.texture)&&e.dispose(),null!=(e=this.material)&&e.dispose()},methods:{onLoaded(){this.updateUV(),this.$emit("loaded")},updateUV(){if(this.texture&&this.sprite){var e=this.texture.image.width/this.texture.image.height;let t=.5,r=.5;1<e?t=.5*e:r=.5/e;const i=this.sprite.geometry.attributes.position.array;i[0]=-t,i[1]=-r,i[5]=t,i[6]=-r,i[10]=t,i[11]=r,i[15]=-t,i[16]=r,this.sprite.geometry.attributes.position.needsUpdate=!0}}},__hmrId:"Sprite"}),(0,n.aZ)({extends:t,setup:()=>({}),provide(){return{[G]:this}},mounted(){this.mesh=this.points=new s.Points(this.geometry,this.material),this.initObject3D(this.mesh)},methods:{setGeometry(e){this.geometry=e,this.mesh&&(this.mesh.geometry=e)},setMaterial(e){this.material=e,this.mesh&&(this.mesh.material=e)}}}),(0,n.aZ)({extends:t,emits:["before-load","load","progress","error"],props:{src:{type:String,required:!0}},data:()=>({progress:0}),methods:{onLoad(e){this.$emit("load",e)},onProgress(e){this.progress=e.loaded/e.total,this.$emit("progress",e)},onError(e){this.$emit("error",e)}}}));(0,n.aZ)({extends:_e,created(){const e=new l.E;this.$emit("before-load",e),e.load(this.src,(e=>{this.onLoad(e),this.initObject3D(e.scene)}),this.onProgress,this.onError)}}),(0,n.aZ)({extends:_e,created(){const e=new c.y;this.$emit("before-load",e),e.load(this.src,(e=>{this.onLoad(e),this.initObject3D(e)}),this.onProgress,this.onError)}});const je=Symbol("Composer");var Re=(0,n.aZ)({setup:()=>({renderer:(0,n.f3)(E)}),provide(){return{[je]:this}},created(){if(this.renderer){const t=this.renderer;var e=new m.xC(this.renderer.renderer);this.composer=e,this.renderer.composer=e,t.addListener("init",(()=>{t.renderer.autoClear=!1,this.resize(),t.addListener("resize",this.resize)}))}},unmounted(){var e;null!=(e=this.renderer)&&e.removeListener("resize",this.resize)},methods:{addPass(e){var t;null!=(t=this.composer)&&t.addPass(e)},removePass(e){var t;null!=(t=this.composer)&&t.removePass(e)},resize(){this.composer&&this.renderer&&this.composer.setSize(this.renderer.size.width,this.renderer.size.height)}},render(){return this.$slots.default?this.$slots.default():[]},__hmrId:"EffectComposer"}),Ie=(0,n.aZ)({inject:{renderer:E,composer:je},emits:["ready"],setup:()=>({}),created(){this.composer,this.renderer},unmounted(){var e,t;this.pass&&(null!=(e=this.composer)&&e.removePass(this.pass),null!=(t=(e=this.pass).dispose)&&t.call(e))},methods:{initEffectPass(e){var t;this.pass=e,null!=(t=this.composer)&&t.addPass(e),this.$emit("ready",e)}},render:()=>[],__hmrId:"EffectPass"}),Ge=(0,n.aZ)({extends:Ie,created(){var e;this.renderer&&this.renderer.scene&&this.renderer.camera&&(e=new p.C(this.renderer.scene,this.renderer.camera),this.initEffectPass(e))},__hmrId:"RenderPass"});const Ae={focus:{type:Number,default:1},aperture:{type:Number,default:.025},maxblur:{type:Number,default:.01}};(0,n.aZ)({extends:Ie,props:Ae,created(){if(this.renderer&&this.renderer.scene&&this.renderer.camera){var e={focus:this.focus,aperture:this.aperture,maxblur:this.maxblur,width:this.renderer.size.width,height:this.renderer.size.height};const t=new f.A(this.renderer.scene,this.renderer.camera,e);Object.keys(Ae).forEach((e=>{(0,n.YP)((()=>this[e]),(r=>{t.uniforms[e].value=r}))})),this.initEffectPass(t)}},__hmrId:"BokehPass"});const De={noiseIntensity:{type:Number,default:.5},scanlinesIntensity:{type:Number,default:.05},scanlinesCount:{type:Number,default:4096},grayscale:{type:Number,default:0}};(0,n.aZ)({extends:Ie,props:De,created(){const e=new g.t(this.noiseIntensity,this.scanlinesIntensity,this.scanlinesCount,this.grayscale);Object.keys(De).forEach((t=>{(0,n.YP)((()=>this[t]),(r=>{e.uniforms[t].value=r}))})),this.initEffectPass(e)},__hmrId:"FilmPass"});var Te=(0,n.aZ)({extends:Ie,created(){var e,t=new y.T(b.C);null!=(e=this.renderer)&&e.addListener("resize",this.resize),this.initEffectPass(t)},unmounted(){var e;null!=(e=this.renderer)&&e.removeListener("resize",this.resize)},methods:{resize({size:e}){if(this.pass){const t=this.pass.material.uniforms.resolution;t.value.x=1/e.width,t.value.y=1/e.height}}},__hmrId:"FXAAPass"});const Ze={shape:{type:Number,default:1},radius:{type:Number,default:4},rotateR:{type:Number,default:Math.PI/12*1},rotateG:{type:Number,default:Math.PI/12*2},rotateB:{type:Number,default:Math.PI/12*3},scatter:{type:Number,default:0}};(0,n.aZ)({extends:Ie,props:Ze,created(){if(this.renderer){const e=new v.y(this.renderer.size.width,this.renderer.size.height,{});Object.keys(Ze).forEach((t=>{e.uniforms[t].value=this[t],(0,n.YP)((()=>this[t]),(r=>{e.uniforms[t].value=r}))})),this.initEffectPass(e)}},__hmrId:"HalftonePass"}),(0,n.aZ)({extends:Ie,created(){var e;this.renderer&&(e=new w.d(this.renderer.size.width,this.renderer.size.height),this.initEffectPass(e))},__hmrId:"SMAAPass"}),(0,n.aZ)({extends:Ie,props:{options:{type:Object,default:()=>({})}},created(){if(this.renderer&&this.renderer.scene&&this.renderer.camera){const e=new S.G(this.renderer.scene,this.renderer.camera,this.renderer.size.width,this.renderer.size.height);Object.keys(this.options).forEach((t=>{e[t]=this.options[t]})),this.initEffectPass(e)}},__hmrId:"SSAOPass"}),r={uniforms:{},vertexShader:"\n    varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  ",fragmentShader:"\n    varying vec2 vUv;\n    void main() {\n      gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n    }\n  "};var Be={uniforms:{tDiffuse:{value:null},blurRadius:{value:0},gradientRadius:{value:0},start:{value:new s.Vector2},end:{value:new s.Vector2},delta:{value:new s.Vector2},texSize:{value:new s.Vector2}},vertexShader:r.vertexShader,fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform float blurRadius;\n    uniform float gradientRadius;\n    uniform vec2 start;\n    uniform vec2 end;\n    uniform vec2 delta;\n    uniform vec2 texSize;\n    varying vec2 vUv;\n\n    float random(vec3 scale, float seed) {\n      /* use the fragment position for a different seed per-pixel */\n      return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n    }\n\n    void main() {\n      vec4 color = vec4(0.0);\n      float total = 0.0;\n\n      /* randomize the lookup values to hide the fixed number of samples */\n      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n      vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n      float radius = smoothstep(0.0, 1.0, abs(dot(vUv * texSize - start, normal)) / gradientRadius) * blurRadius;\n      for (float t = -30.0; t <= 30.0; t++) {\n          float percent = (t + offset - 0.5) / 30.0;\n          float weight = 1.0 - abs(percent);\n          vec4 texel = texture2D(tDiffuse, vUv + delta / texSize * percent * radius);\n          // vec4 texel2 = texture2D(tDiffuse, vUv + vec2(-delta.y, delta.x) / texSize * percent * radius);\n\n          /* switch to pre-multiplied alpha to correctly blur transparent images */\n          texel.rgb *= texel.a;\n          // texel2.rgb *= texel2.a;\n\n          color += texel * weight;\n          total += 2.0 * weight;\n      }\n\n      gl_FragColor = color / total;\n\n      /* switch back from pre-multiplied alpha */\n      gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n    }\n  "},Fe={blurRadius:{type:Number,default:10},gradientRadius:{type:Number,default:100},start:{type:Object,default:()=>({x:0,y:100})},end:{type:Object,default:()=>({x:10,y:100})}};(0,n.aZ)({extends:Ie,props:Fe,setup:()=>({uniforms1:{},uniforms2:{}}),created(){if(this.composer){this.pass1=new y.T(Be),this.pass2=new y.T(Be);const e=this.uniforms1=this.pass1.uniforms,t=this.uniforms2=this.pass2.uniforms;t.blurRadius=e.blurRadius,t.gradientRadius=e.gradientRadius,t.start=e.start,t.end=e.end,t.texSize=e.texSize,L(this,"blurRadius",e.blurRadius,"value"),L(this,"gradientRadius",e.gradientRadius,"value"),this.updateFocusLine(),["start","end"].forEach((e=>{(0,n.YP)((()=>this[e]),this.updateFocusLine,{deep:!0})})),this.pass1.setSize=(t,r)=>{e.texSize.value.set(t,r)},this.initEffectPass(this.pass1),this.composer.addPass(this.pass2)}},unmounted(){this.composer&&this.pass2&&this.composer.removePass(this.pass2)},methods:{updateFocusLine(){this.uniforms1.start.value.copy(this.start),this.uniforms1.end.value.copy(this.end);var e=(new s.Vector2).copy(this.end).sub(this.start).normalize();this.uniforms1.delta.value.copy(e),this.uniforms2.delta.value.set(-e.y,e.x)}},__hmrId:"TiltShiftPass"});const Ue={strength:{type:Number,default:1.5},radius:{type:Number,default:0},threshold:{type:Number,default:0}};var Ye=(0,n.aZ)({extends:Ie,props:Ue,created(){if(this.renderer){var e=new s.Vector2(this.renderer.size.width,this.renderer.size.height);const t=new x.m(e,this.strength,this.radius,this.threshold);Object.keys(Ue).forEach((e=>{(0,n.YP)((()=>this[e]),(r=>{t.uniforms[e].value=r}))})),this.initEffectPass(t)}},__hmrId:"UnrealBloomPass"}),$e={uniforms:{tDiffuse:{value:null},center:{value:new s.Vector2(.5,.5)},strength:{value:0}},vertexShader:r.vertexShader,fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform vec2 center;\n    uniform float strength;\n    varying vec2 vUv;\n\n    float random(vec3 scale, float seed) {\n      /* use the fragment position for a different seed per-pixel */\n      return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n    }\n    \n    void main() {\n      vec4 color = vec4(0.0);\n      float total = 0.0;\n      vec2 toCenter = center - vUv;\n      \n      /* randomize the lookup values to hide the fixed number of samples */\n      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n      \n      for (float t = 0.0; t <= 40.0; t++) {\n        float percent = (t + offset) / 40.0;\n        float weight = 4.0 * (percent - percent * percent);\n        vec4 texel = texture2D(tDiffuse, vUv + toCenter * percent * strength);\n\n        /* switch to pre-multiplied alpha to correctly blur transparent images */\n        texel.rgb *= texel.a;\n\n        color += texel * weight;\n        total += weight;\n      }\n\n      gl_FragColor = color / total;\n\n      /* switch back from pre-multiplied alpha */\n      gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n    }\n  "};(0,n.aZ)({extends:Ie,props:{center:{type:Object,default:()=>({x:.5,y:.5})},strength:{type:Number,default:.5}},created(){var e=new y.T($e);L(this,"center",e.uniforms.center,"value"),L(this,"strength",e.uniforms.strength,"value"),this.initEffectPass(e)},__hmrId:"ZoomBlurPass"})}}]);
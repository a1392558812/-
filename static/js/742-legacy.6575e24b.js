(self.webpackChunkblog=self.webpackChunkblog||[]).push([[742],{H55z:function(e){e.exports=e=>{const t=e.renderer.rules.fence;e.renderer.rules.fence=(...e)=>{const n=t(...e);return e=n.slice(n.indexOf("<code>"),n.indexOf("</code>")).split("\n"),e=[...Array(e.length-1)].map(((e,t)=>`<span class="line-number">${t+1}</span><br>`)).join(""),n.replace("\x3c!--beforeend--\x3e",`<div class="line-numbers-wrapper">${e}</div>\x3c!--beforeend--\x3e`).replace("extra-class","line-numbers-mode")}}},"+QRC":function(e,t,n){"use strict";var i=n("E9nw"),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,r,l,o,c=!1;t=t||{};try{var d=i(),s=document.createRange(),u=document.getSelection();if((r=document.createElement("span")).textContent=e,r.style.all="unset",r.style.position="fixed",r.style.top=0,r.style.clip="rect(0, 0, 0, 0)",r.style.whiteSpace="pre",r.style.webkitUserSelect="text",r.style.MozUserSelect="text",r.style.msUserSelect="text",r.style.userSelect="text",r.addEventListener("copy",(function(n){var i;n.stopPropagation(),t.format&&(n.preventDefault(),void 0===n.clipboardData?(window.clipboardData.clearData(),i=a[t.format]||a.default,window.clipboardData.setData(i,e)):(n.clipboardData.clearData(),n.clipboardData.setData(t.format,e))),t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(r),s.selectNodeContents(r),u.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(r){try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(r){l="message"in t?t.message:"Copy to clipboard: #{key}, Enter",o=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",n=l.replace(/#{\s*key\s*}/g,o),window.prompt(n,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(s):u.removeAllRanges()),r&&document.body.removeChild(r),d()}return c}},RoiK:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},E9nw:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],i=0;i<e.rangeCount;i++)n.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},"1xFP":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var i=n("XEAi"),a=(n("TeQF"),n("07d7"),n("pjDv"),n("PKPk"),n("SYor"),n("ToJy"),n("YGK4"),n("3bBZ"),n("2B1R"),n("oekR")),r=n("n/QL"),l={class:"width100 height100 markdown-title-inner"},o=function(e){return(0,i.dD)("data-v-5d967766"),e=e(),(0,i.Cn)(),e}((function(){return(0,i._)("div",{class:"width100 text-align-center markdown-title-navigator"}," 标题导航 ",-1)})),c=["onClick"];function d(){(0,s.sj)((function(e){return{"15948bdf":e.markdownTitleWidth,21326559:e.headerH}}))}var s=n("gw9Z"),u=n("EVdn"),h=(t={name:"NavigatorTitle",props:{ifLarger:{type:Boolean,default:!0},markdownTitleWidth:{type:String,default:"10px"},articleTitles:{type:Array,default:function(){return[]}},headerH:{type:String,default:"70px"}},setup:function(e,t){var n=t.emit,r=(0,a.iH)(0),l=(0,a.iH)(0);return(0,i.bv)((function(){var t,n,i;r.value=e.ifLarger?((t=document.createElement("div")).style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t),n=t.offsetWidth,t.style.overflow="scroll",(i=document.createElement("div")).style.width="100%",t.appendChild(i),i=i.offsetWidth,document.body.removeChild(t),n-i):0,l.value=u(".home").height()})),{barWidth:r,articleTitlesHeight:l,handleAnchorClick:function(e){n("handleAnchorClick",e)}}}},t.setup),p=(t.setup=h?function(e,t){return d(),h(e,t)}:d,n("uaZu")),f=(t=(0,p.Z)(t,[["render",function(e,t,n,a,d,s){return n.articleTitles.length?((0,i.wg)(),(0,i.iD)("div",{key:0,style:(0,r.j5)({right:"".concat(a.barWidth,"px"),height:a.articleTitlesHeight+"px"}),class:"fixed markdown-title"},[(0,i._)("div",l,[o,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.articleTitles,(function(e,t){return(0,i.wg)(),(0,i.iD)("div",{key:t,class:"markdown-title-item",style:(0,r.j5)({padding:"10px 0 10px ".concat(20*e.indent,"px")})},[(0,i._)("a",{style:{cursor:"pointer"},onClick:function(t){return a.handleAnchorClick(e)}},(0,r.zw)(e.title),9,c)],4)})),128))])],4)):(0,i.kq)("",!0)}],["__scopeId","data-v-5d967766"]]),n("GbPD")),m=(f=n.n(f),n("YDpD")),g=(m=n.n(m),n("FIf5")),v=(g=n.n(g),n("3vcW")),y=n("nTDo"),w=n("EVdn"),x=(f().use(m(),{Hljs:g()}),f().use((0,v.Z)()),f().use((0,y.Z)()),n={name:"Markdown",components:{navigatorTitle:t,VMdPreview:f()},props:{headerH:{type:String,default:"70px"},loading:{type:Boolean,default:!0},ifLarger:{type:Boolean,default:!0},htmlMD:{type:String,default:""},markdownTitleWidth:{type:String,default:""},title:{type:String,default:""}},setup:function(e){function t(){l.value="calc(100% - ".concat(100+w(".home .title").outerHeight(),"px)")}var n=(0,a.iH)(null),r=(0,a.iH)([]),l=(0,a.iH)("calc(100% - 170px)");return(0,i.YP)((function(){return e.htmlMD}),(function(){return(0,i.Y3)().then((function(){var e,t;t=n.value.$el.querySelectorAll("h1,h2,h3,h4,h5,h6"),(t=Array.from(t).filter((function(e){return!!e.innerText.trim()}))).length?(e=Array.from(new Set(t.map((function(e){return e.tagName})))).sort(),r.value=t.map((function(t){return{title:t.innerText,lineIndex:t.getAttribute("data-v-md-line"),indent:e.indexOf(t.tagName)}}))):r.value=[]}))})),(0,i.YP)((function(){return e.title}),(function(){t()})),(0,i.bv)(t),{preview:n,articleTitles:r,markdownMinHeight:l,handelClick:function(e){var t,n,i=w(e.target);i.hasClass("v-md-copy-code-btn")?(t=i.html(),n={width:i.width(),height:i.height(),lineHeight:i.css("line-height")},i.html("复制成功"),i.css({width:"5em",height:"2em",lineHeight:"1.5em",transition:"all 0.3s"}),setTimeout((function(){i.css(n),i.html(t),n=t=i=null}),1e3)):i=null},handleCopyCodeSuccess:function(e){},handleAnchorClick:function(e){e=e.lineIndex,(e=n.value.$el.querySelector('[data-v-md-line="'.concat(e,'"]')))&&n.value.scrollToTarget({target:e,scrollContainer:w(".home")[0],top:30})}}},render:function(){var e=this;return(0,i.Wm)(i.HY,null,[(0,i.Wm)("div",{style:this.ifLarger&&this.articleTitles.length?{width:"calc(100% - ".concat(this.markdownTitleWidth,")")}:{width:"100%"},className:"title flex align-items-center justify-content-center"},[this.title]),(0,i.wy)((0,i.Wm)("div",{className:"relative markdown",style:{minHeight:this.markdownMinHeight}},[this.loading?null:(0,i.Wm)("div",{className:"flex height100"},[(0,i.Wm)((0,i.up)("v-md-preview"),{style:this.ifLarger&&this.articleTitles.length?{width:"calc(100% - ".concat(this.markdownTitleWidth,")")}:{width:"100%"},onClick:this.handelClick,"onCopy-code-success":this.handleCopyCodeSuccess,ref:"preview",text:this.htmlMD},null),this.ifLarger?(0,i.Wm)((0,i.up)("navigator-title"),{ifLarger:this.ifLarger,markdownTitleWidth:this.markdownTitleWidth,articleTitles:this.articleTitles,onHandleAnchorClick:function(t){e.handleAnchorClick(t)}},null):null])]),[[(0,i.Q2)("loading"),this.loading]])])}},(0,p.Z)(n,[["__scopeId","data-v-7c69cab2"]]))}}]);
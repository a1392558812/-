(self.webpackChunkblog=self.webpackChunkblog||[]).push([[4839],{qQfd:function(t){function e(t){var r=o[t];return void 0!==r||(r=o[t]={id:t,exports:{}},n[t](r,r.exports,e)),r.exports}var n,o,r;t.exports=(n={498:function(t,e,n){"use strict";n.r(e);var o=n(81),r=(o=n.n(o),n(645));(n=n.n(r)()(o())).push([t.id,".nplayer_danmaku_screen{bottom:0;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0}.nplayer_danmaku_send{align-items:center;background:rgba(255,255,255,.15);display:flex;flex:1;font-size:0;margin:0 10px!important}.nplayer_danmaku_send input{background:transparent;border:0;color:currentColor;flex:1;font-size:13px;outline:0;padding:0;width:100px}.nplayer_danmaku_send input::-moz-placeholder{color:rgba(255,255,255,.5)}.nplayer_danmaku_send input:-ms-input-placeholder{color:rgba(255,255,255,.5)}.nplayer_danmaku_send input::placeholder{color:rgba(255,255,255,.5)}.nplayer_danmaku_send_btn{cursor:pointer;font-size:12px;padding:0 10px;white-space:nowrap}.nplayer_danmaku_send .nplayer_popover_panel{font-size:13px;padding:0 15px}.nplayer_danmaku_send .nplayer_checkbox{margin-top:3px}.nplayer_danmaku_send .nplayer_checkbox+.nplayer_checkbox{margin-left:10px}.nplayer_danmaku_colors{align-items:center;display:flex;flex-wrap:wrap;padding-bottom:12px}.nplayer_danmaku_color{height:19px;margin-bottom:5px;margin-right:5px;width:19px}.nplayer_danmaku_color_row{align-items:stretch;display:flex;margin:5px 0}.nplayer_danmaku_color_row input{border:1px solid rgba(255,255,255,.8);flex:3;letter-spacing:1px;padding:0 5px;width:0}.nplayer_danmaku_color_preview{flex:2;height:20px;margin-left:5px}.nplayer_danmaku_color:hover{transform:scale(1.1)}.nplayer_danmaku_row{justify-content:space-between;margin:12px 0}.nplayer_danmaku_onoff_label{margin-right:5px;margin-top:-2px}.nplayer_danmaku_reset{border:1px solid rgba(255,255,255,.5);margin-left:auto;padding:2px 5px;transition:opacity .2s ease}.nplayer_danmaku_reset:hover{opacity:.7}.nplayer_danmaku_setting{font-size:13px;padding:10px 20px}.nplayer_danmaku_setting .nplayer_slider{margin:3px 12px}.nplayer_danmaku_setting .nplayer_checkbox{margin-top:5px}.nplayer_danmaku_setting .nplayer_checkbox+.nplayer_checkbox{margin-left:15px}.nplayer_danmaku_item{color:#fff;letter-spacing:1px;line-height:1.125;position:absolute;text-shadow:#000 1px 0 1px,#000 0 1px 1px,#000 0 -1px 1px,#000 -1px 0 1px;white-space:nowrap;will-change:transform}.nplayer_danmaku_item-center{left:50%;transform:translateX(-50%);will-change:auto;z-index:1}.nplayer_danmaku_item-me{outline:2px solid;z-index:2}",""]),e.default=n},645:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(0<e[5].length?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(o)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(a[s]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);o&&a[u[0]]||(void 0!==i&&(void 0!==u[5]&&(u[1]="@layer".concat(0<u[5].length?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]&&(u[1]="@media ".concat(u[2]," {").concat(u[1],"}")),u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),e.push(u))}},e}},81:function(t){"use strict";t.exports=function(t){return t[1]}},132:function(t,e,n){var o,r;"undefined"!=typeof window&&window.document&&(n="string"==typeof(n=(n=n(498)).__esModule?n.default:n)?n:n[0][1],r=!1,o||((o=document.createElement("style")).setAttribute("type","text/css"),r=!0),"textContent"in o?o.textContent=n:o.styleSheet.cssText=n,r)&&document.head.appendChild(o)}},o={},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r={},function(){"use strict";function t(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function n(t){return!t||"string"==typeof t&&("#fff"===(t=t.toLowerCase())||"#ffffff"===t)}e.d(r,{default:function(){return H}}),e(132);var o="nplayer:danmaku",i="Send settings",a="Scroll",l="Bottom",s="Danmaku settings",c="Restore settings",u="Block by type",p="Opacity &nbsp;",f="Area &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",h="Speed &nbsp;&nbsp;&nbsp;",d="Font size",y="Unlimited",m="Bottom to top",b=(t(M={},i,"发送设置"),t(M,"Send","发送"),t(M,"Mode","模式"),t(M,a,"滚动"),t(M,"Top","顶部"),t(M,l,"底部"),t(M,"Color","颜色"),t(M,"Color","彩色"),t(M,s,"弹幕设置"),t(M,"On/Off","开/关"),t(M,c,"恢复默认设置"),t(M,u,"按类型屏蔽"),t(M,p,"不透明度"),t(M,f,"显示区域"),t(M,"Half","半屏"),t(M,"Full","全屏"),t(M,h,"弹幕速度"),t(M,"Slow","慢"),t(M,"Fast","快"),t(M,d,"字体大小"),t(M,"Small","小"),t(M,"Big","大"),t(M,y,"不限弹幕"),t(M,m,"从下到上"),M),v={DANMAKU_SEND:"DanmakuSend",DANMAKU_UPDATE_OPTIONS:"DanmakuUpdateOptions"};function g(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var _="nplayer_danmaku_item",w=(function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(k.prototype,[{key:"init",value:function(t,e){var n,o;return this.el.textContent=t.text,this.type=t.type||"scroll",this.track=e.track,t.color&&(this.el.style.color=this.color=t.color),t.isMe&&this.el.classList.add("nplayer_danmaku_item-me"),(t=this.el.style).fontSize="".concat(this.danmaku.fontsize,"px"),this.startAt=this.danmaku.timer.now(),"scroll"===this.type?(this.el.addEventListener("transitionend",this.end),n=this.el.getBoundingClientRect(),this.width=(this.danmaku.heightGtWidth?n.height:n.width)+20,n=this.danmaku.width,e=e.prev,this.left=n,this.speed=this.danmaku.speedScale*(n+this.width)/this.danmaku.opts.duration,e&&!e.ended&&(0<=(o=e.length-n-(this.startAt-e.startAt)*e.speed)?(this.speed=e.speed,this.left+=o):(o=this.danmaku.width/(e.endAt-this.startAt),this.speed>o&&(this.speed=o))),this.length=this.left+this.width,e=this.length/this.speed,this.showAt=this.startAt+(this.length-n)/this.speed,this.endAt=this.startAt+e,this.updateScrollY(),t.left="".concat(this.left,"px"),t.transition="transform ".concat(e,"s linear"),t.transform="translate3d(-".concat(this.length,"px,0,0)")):(t[this.type]=this.pos(),this.el.classList.add("nplayer_danmaku_item-center"),o=this.danmaku.speedScale*this.danmaku.opts.duration,this.endAt=this.startAt+o,this.centerTimer=setTimeout(this.end,1e3*o)),this.ended=!1,this.show(),this.danmaku.paused&&this.pause(this.startAt),this}},{key:"pos",value:function(){return"".concat(this.track*this.danmaku.trackHeight+2,"px")}},{key:"updateScrollY",value:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.danmaku.opts.bottomUp;"scroll"===this.type&&((t=this.el.style).top=t.bottom="",t[e?"bottom":"top"]=this.pos())}},{key:"show",value:function(){this.el.style.visibility=""}},{key:"hide",value:function(){this.el.style.visibility="hidden"}},{key:"pause",value:function(t){var e;"scroll"===this.type?((e=this.el.style).transition="transform 0s linear",e.transform="translate3d(-".concat((t-this.startAt)*this.speed,"px,0,0)")):clearTimeout(this.centerTimer)}},{key:"run",value:function(t){var e;"scroll"===this.type?((e=this.el.style).transition="transform ".concat(this.endAt-t,"s linear"),e.transform="translate3d(-".concat(this.length,"px,0,0)")):this.centerTimer=setTimeout(this.end,1e3*(this.endAt-t))}}]),k);function k(t,e,n,o){var r=this;if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");g(this,"width",0),g(this,"left",0),g(this,"length",0),g(this,"startAt",0),g(this,"showAt",0),g(this,"endAt",0),g(this,"speed",0),g(this,"track",0),g(this,"ended",!1),g(this,"color",""),g(this,"end",(function(){r.el.removeEventListener("transitionend",r.end),clearTimeout(r.centerTimer),r.el.style.cssText="",r.color="",r.el.className=_,r.ended=!0,r.hide(),r.danmaku.recycleBullet(r)})),this.danmaku=e,this.el=t.appendChild(document.createElement("div")),this.el.className=_,this.init(n,o)}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function O(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)),o}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function T(){return{disable:!1,blocked:[],fontsize:24,fontsizeScale:1,opacity:1,speed:1,area:.5,unlimited:!1,bottomUp:!1,colors:["#FE0302","#FF7204","#FFAA02","#FFD302","#FFFF00","#A0EE00","#00CD00","#019899","#4266BE","#CC0273","#222222","#FFFFFF"],duration:5,items:[],zIndex:5,persistOptions:!1,isDefaultColor:n,maxPerInsert:20,poolSize:50,discard:function(){return!1}}}!function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(j.prototype,[{key:"width",get:function(){return this.heightGtWidth?this.player.rect.height:this.player.rect.width}},{key:"currentTime",get:function(){return this.player.currentTime}},{key:"playbackRate",get:function(){return this.player.playbackRate}},{key:"fontsize",get:function(){return this.opts.fontsize*this.opts.fontsizeScale}},{key:"speedScale",get:function(){return this.playbackRate*this.opts.speed}},{key:"createBullet",value:function(t,e){var n=this.bulletPool.pop();return n?n.init(t,e):n=new w(this.el,this,t,e),this.aliveBullets.add(n),n}},{key:"unmountBullet",value:function(t){t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el)}},{key:"getShortestTrack",value:function(){var t=this.scrollBullets[0];if(!t||t.ended)return[0];for(var e,n=1;n<this.track;++n){if(!(e=this.scrollBullets[n])||e.ended)return[n];t.showAt>e.showAt&&(t=e)}return[t.track,t]}},{key:"getEmptyTrack",value:function(t,e){for(var n=0;n<this.track;++n)if(!e[n]||e[n]<=t)return n;return-1}},{key:"shouldDiscard",value:function(t){return!(!this.opts.blocked.includes(t.type||"scroll")&&!this.opts.discard(t)&&(!t.color||!this.opts.blocked.includes("color")||this.opts.isDefaultColor(t.color)))}},{key:"storeOptions",value:function(){if(this.player.emit(v.DANMAKU_UPDATE_OPTIONS,this.opts),this.opts.persistOptions){var t=this.opts,e={blocked:t.blocked,fontsizeScale:t.fontsizeScale,opacity:t.opacity,speed:t.speed,area:t.area,unlimited:t.unlimited,bottomUp:t.bottomUp};try{window.localStorage.setItem(o,JSON.stringify(e))}catch(e){}}}},{key:"recycleBullet",value:function(t){this.bulletPool.length>this.opts.poolSize?this.unmountBullet(t):this.bulletPool.push(t),this.aliveBullets.delete(t),"scroll"===t.type&&this.scrollBullets[t.track]===t&&(this.scrollBullets[t.track]=void 0)}},{key:"insert",value:function(t,e){var n,o,r,i;return t.type&&"scroll"!==t.type?(r="top"===t.type?this.topBullets:this.bottomBullets,-1!==(i=-1===(i=this.getEmptyTrack(e,r))&&t.force?0:i)&&(r[i]=this.createBullet(t,{track:i}).endAt,!0)):(i=2,n=(o=function(t){if(Array.isArray(t))return t}(r=this.getShortestTrack())||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i=[],a=!0,l=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){l=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return i}}(r,i)||function(t,e){var n;if(t)return"string"==typeof t?E(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,e):void 0}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],o=o[1],!((e=!t.force&&o&&o.showAt>e+2)&&!this.opts.unlimited||(this.scrollBullets[n]=this.createBullet(t,{track:n,prev:e?void 0:o}),0)))}},{key:"send",value:function(t){null==t.time&&(t.time=this.currentTime),t=x({isMe:!0,force:!0},t),this.player.emit(v.DANMAKU_SEND,t);var e=this.addItem(t);this.pos>e&&this.insert(t,this.timer.now())}},{key:"getItems",value:function(){return this.items}},{key:"addItem",value:function(t){if(null==t.time)return-1;var e=this.items.length;if(!e||t.time>=this.items[e-1].time)return this.items.push(t),e;if(t.time<=this.items[0].time)return this.items.unshift(t),0;for(var n=0,o=0;o<e;o++)if(this.items[o].time>t.time){n=o;break}return this.items.splice(n,0,t),n}},{key:"appendItems",value:function(t){this.items=this.items.concat(t)}},{key:"resetItems",value:function(t){this.items=t,this.pos=0}},{key:"updateOpacity",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.opts.opacity;this.el.style.opacity=String(t),this.storeOptions()}},{key:"updateFontsize",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.opts.fontsizeScale;this.opts.fontsizeScale=t,this.updateTrack(),this.storeOptions()}},{key:"updateArea",value:function(t){[.25,.5,.75,1].includes(t)&&(this.opts.area=t,this.updateTrack(),this.storeOptions())}},{key:"updateUnlimited",value:function(t){this.opts.unlimited=t,this.storeOptions()}},{key:"updateBottomUp",value:function(t){this.opts.bottomUp=t,this.aliveBullets.forEach((function(e){return e.updateScrollY(t)})),this.storeOptions()}},{key:"updateSpeed",value:function(t){this.opts.speed=t,this.storeOptions()}},{key:"blockType",value:function(t){var e=this;this.opts.blocked.includes(t)||(this.opts.blocked.push(t),this.aliveBullets.forEach((function(n){n.type!==t&&("color"!==t||e.opts.isDefaultColor(n.color))||n.hide()})),this.storeOptions())}},{key:"allowType",value:function(t){var e=this;this.opts.blocked=this.opts.blocked.filter((function(e){return e!==t})),this.aliveBullets.forEach((function(n){n.type!==t&&("color"!==t||e.opts.isDefaultColor(n.color))||n.show()})),this.storeOptions()}},{key:"resetOptions",value:function(){var t=this;this.opts.blocked.forEach((function(e){t.allowType(e)})),this.opts=x(x({},T()),this._opts),this.opts.blocked=[],this.updateOpacity(),this.updateFontsize(),this.updateBottomUp(this.opts.bottomUp)}},{key:"clearScreen",value:function(){Array.from(this.aliveBullets).forEach((function(t){return t.end()})),this.topBullets=[],this.bottomBullets=[]}},{key:"enable",value:function(){var t;this.enabled||(this.enabled=!0,t=this.player.EVENT,this.player.on(t.TIME_UPDATE,this.fire),this.player.on(t.PAUSE,this.pause),this.player.on(t.ENDED,this.pause),this.player.on(t.PLAY,this.resume),this.player.on(t.SEEKED,this.onSeeked),this.player.on(t.LOADING_SHOW,this.pause),this.player.on(t.LOADING_HIDE,this.resume))}},{key:"disable",value:function(){this.enabled=!1,this.clearScreen();var t=this.player.EVENT;this.player.off(t.TIME_UPDATE,this.fire),this.player.off(t.PAUSE,this.pause),this.player.off(t.ENDED,this.pause),this.player.off(t.PLAY,this.resume),this.player.off(t.SEEKED,this.onSeeked),this.player.off(t.LOADING_SHOW,this.pause),this.player.off(t.LOADING_HIDE,this.resume)}},{key:"dispose",value:function(){this.player&&(this.disable(),this.player.Player.__utils.removeNode(this.el),this.player.Player.__utils.dispose(this),this.player=null,this.bulletPool=null,this.aliveBullets=null,this.scrollBullets=null,this.topBullets=null,this.bottomBullets=null,this.items=null,this.el=null,this.opts=null)}}]);var S,C=j;function j(t,e){var n=this;if(!(this instanceof j))throw new TypeError("Cannot call a class as a function");P(this,"enabled",!1),P(this,"paused",!1),P(this,"track",0),P(this,"trackHeight",0),P(this,"heightGtWidth",!1),P(this,"bulletPool",[]),P(this,"aliveBullets",new Set),P(this,"scrollBullets",[]),P(this,"topBullets",[]),P(this,"bottomBullets",[]),P(this,"items",[]),P(this,"pos",0),P(this,"prevPauseTime",0),P(this,"fire",(function(){if(n.enabled&&n.player.playing){n.paused&&n.resume();for(var t,e=n.currentTime,o=n.opts.unlimited?.5:1,r=e-o,i=e+o,a=n.timer.now(),l=n.items.length,s=0,c=n.opts.maxPerInsert;n.pos<l;n.pos++)if(!((t=n.items[n.pos]).time<r)){if(t.time>i)break;if(!n.shouldDiscard(t)){if(!n.insert(t,a))break;if(++s>c)break}}}})),P(this,"updateTrack",(function(){var t=(e=n.probeEl.getBoundingClientRect()).width,e=e.height;n.heightGtWidth=t<e,t=n.heightGtWidth?n.player.rect.width:n.player.rect.height,n.trackHeight=n.fontsize+5,n.track=Math.floor(t*n.opts.area/n.trackHeight)})),P(this,"onSeeked",(function(){n.clearScreen(),n.pos=0})),P(this,"pause",(function(){n.prevPauseTime=n.timer.now(),n.timer.pause(),n.aliveBullets.forEach((function(t){return t.pause(n.prevPauseTime)})),n.paused=!0})),P(this,"resume",(function(){n.player.playing&&!n.player.loading.isActive&&(n.timer.play(),n.aliveBullets.forEach((function(t){return t.run(n.prevPauseTime)})),n.paused=!1)})),this.player=t,this._opts=e,this.opts=x(x(x({},T()),function(){try{var t=window.localStorage.getItem(o);if(t)return JSON.parse(t)}catch(t){}}()),e);var r=(e=t.Player.__utils).$;e=e.addDisposable,(this.el=t.el.appendChild(r(".danmaku_screen")),this.el.style.zIndex=String(this.opts.zIndex),this.probeEl=this.el.appendChild(r()),r=this.probeEl.style).position="absolute",r.zIndex="-9",r.width="2px",r.height="1px",r.opacity="0",this.items=Array.isArray(this.opts.items)?this.opts.items:[],this.timer={_prevPauseTime:0,_pausedTime:0,_paused:!1,now:function(){return((this._paused?this._prevPauseTime:Date.now())-this._pausedTime)/1e3},play:function(){this._paused&&(this._pausedTime+=Date.now()-this._prevPauseTime,this._paused=!1)},pause:function(){this._paused||(this._prevPauseTime=Date.now(),this._paused=!0)}},this.opts.disable||this.enable(),e(this,t.on(t.EVENT.MOUNTED,this.updateTrack)),e(this,t.on(t.EVENT.UPDATE_SIZE,this.updateTrack)),e(t,this)}function A(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}C.prototype.EVENT=v,function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(L.prototype,[{key:"init",value:function(t,e){var n=this,o=(s=(this.player=t).Player).__utils,r=s.components,s=s.I18n,c=(o=S=o).$,u=o.addDisposableListener,p=o.addDisposable,f=(o=o.createSvg,this.el=c(".danmaku_send"),this.el.appendChild(c()));f.appendChild(o("icon","M9.62 14L12 7.67 14.37 14M11 5L5.5 19h2.25l1.12-3h6.25l1.13 3h2.25L13 5h-2z")),this.tooltip=p(this,new r.Tooltip(f,s.t(i))),this.popover=p(this,new r.Popover(f,(function(){return n.tooltip.show()}),void 0,!0)),this.inputEl=this.el.appendChild(c("input")),this.sendEl=this.el.appendChild(c(".danmaku_send_btn",void 0,s.t("Send"))),this.setPos(e),o=this.popover.panelEl;var h,d=c(".danmaku_row");o.appendChild(d),d.appendChild(c(void 0,void 0,s.t("Mode"))),d=d.appendChild(c(".flex.align-center")),this.typeCBs.scroll=p(this,new r.Checkbox(d,{html:s.t(a),checked:!0,change:this.onTypeChange("scroll")})),this.typeCBs.top=p(this,new r.Checkbox(d,{html:s.t("Top"),change:this.onTypeChange("top")})),this.typeCBs.bottom=p(this,new r.Checkbox(d,{html:s.t(l),change:this.onTypeChange("bottom")})),d=c(".flex.align-center.danmaku_row"),d=c(".danmaku_row"),o.appendChild(d),d.appendChild(c(void 0,void 0,s.t("Color"))),d=d.appendChild(c(".danmaku_color_row")),this.colorInputEl=d.appendChild(c("input")),u(this,this.colorInputEl,"input",(function(){n.updateColor(n.colorInputEl.value)})),this.colorEl=d.appendChild(c(".danmaku_color_preview")),u(this,d=c(".danmaku_colors"),"click",(function(t){(t=t.target)&&t.dataset.value&&n.updateColor(t.dataset.value)})),t.danmaku.opts.colors.forEach((function(t){(h=c(".danmaku_color")).style.background=t,h.dataset.value=t,d.appendChild(h)})),o.appendChild(d),u(this,f,"click",this.show),u(this,this.inputEl,"keypress",(function(t){t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||13===(t.keyCode||t.which)&&n.send()})),u(this,this.inputEl,"focus",(function(){return t.control.require()})),u(this,this.inputEl,"blur",(function(){return t.control.release()})),u(this,this.sendEl,"click",this.send),this.updateColor("#FFFFFF")}},{key:"update",value:function(t){this.setPos(t)}},{key:"setPos",value:function(t){this.popover.resetPos(),2===t&&this.popover.setBottom()}},{key:"updateColor",value:function(t){this.colorInputEl.value=t,this.colorEl.style.background=t,this.inputEl.style.color=t}},{key:"dispose",value:function(){this.player&&(S.dispose(this),S.removeNode(this.el),this.player=null,this.el=null)}}]);var I=L;function L(){var t=this;if(!(this instanceof L))throw new TypeError("Cannot call a class as a function");A(this,"id","danmaku-send"),A(this,"typeCBs",{}),A(this,"currentType","scroll"),A(this,"onTypeChange",(function(e){return function(){t.currentType=e,t.typeCBs.scroll.update(!1),t.typeCBs.top.update(!1),t.typeCBs.bottom.update(!1),t.typeCBs[e].update(!0)}})),A(this,"show",(function(e){e&&S.getEventPath(e).includes(t.popover.el)||(t.tooltip.hide(),t.popover.show())})),A(this,"send",(function(){var e=t.inputEl.value;e&&(t.inputEl.value="",e={text:e,time:t.player.currentTime,type:t.currentType,color:n(e)?void 0:t.colorInputEl.value},t.player.danmaku.send(e))}))}function R(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}!function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(B.prototype,[{key:"init",value:function(t,e){var n=this,o=(w=(this.player=t).Player).__utils,r=w.components,i=w.I18n,b=o.$,v=o.clamp,g=o.addDisposableListener,_=o.addDisposable,w=o.createSvg,k=(this.el=b(),this.el.appendChild(w("icon","M9 21v2H7v-2h2m4 0v2h-2v-2h2m4 0v2h-2v-2h2M2 19V3h20v16m-11-7H9v2h2v-2m8 0h-6v2h6v-2M7 8H5v2h2V8m12 0H9v2h10V8z")),this.tooltip=_(this,new r.Tooltip(this.el,i.t(s))),this.popover=_(this,new r.Popover(this.el,(function(){return n.tooltip.show()}))),g(this,this.el,"click",this.show),this.popover.panelEl);o.addClass(k,"danmaku_setting"),this.setPos(e),t.on("Mounted",(function(){function e(){return b(".flex.align-center.danmaku_row")}var o=e(),s=(o.appendChild(b(".danmaku_onoff_label",void 0,i.t("On/Off"))),_(n,new r.Switch(o,t.danmaku.enabled,(function(e){return t.danmaku[e?"enable":"disable"]()}))),o.appendChild(b(".danmaku_reset",void 0,i.t(c))));g(n,s,"click",(function(){t.danmaku.resetOptions(),n.updateSettings()})),k.appendChild(o),o=b(".danmaku_row"),k.appendChild(o),o.appendChild(b(void 0,void 0,i.t(u))),o=o.appendChild(b(".flex.align-center")),n.scrollCB=_(n,new r.Checkbox(o,{html:i.t(a),change:function(e){t.danmaku[e?"blockType":"allowType"]("scroll")}})),n.topCB=_(n,new r.Checkbox(o,{html:i.t("Top"),change:function(e){t.danmaku[e?"blockType":"allowType"]("top")}})),n.bottomCB=_(n,new r.Checkbox(o,{html:i.t(l),change:function(e){t.danmaku[e?"blockType":"allowType"]("bottom")}})),n.colorCB=_(n,new r.Checkbox(o,{html:i.t("Color"),change:function(e){t.danmaku[e?"blockType":"allowType"]("color")}})),(o=e()).appendChild(b(void 0,void 0,i.t(p))),n.opacitySlider=_(n,new r.Slider(o,{stops:[{value:0,html:"10%"},{value:1,html:"100%"}],change:function(e){t.danmaku.updateOpacity(v(e+.1,.1,1))}})),k.appendChild(o),(o=e()).appendChild(b(void 0,void 0,i.t(f))),n.areaSlider=_(n,new r.Slider(o,{stops:[{value:0,html:"1/4"},{value:.33,html:i.t("Half")},{value:.66,html:"3/4"},{value:1,html:i.t("Full")}],step:!0,change:function(e){t.danmaku.updateArea(e=0===e?.25:.33===e?.5:.66===e?.75:1)}})),k.appendChild(o),(o=e()).appendChild(b(void 0,void 0,i.t(h))),n.speedSlider=_(n,new r.Slider(o,{stops:[{value:0,html:i.t("Slow")},{value:1,html:i.t("Fast")}],change:function(e){t.danmaku.updateSpeed(v(e+.5,.5,1.5))}})),k.appendChild(o),(o=e()).appendChild(b(void 0,void 0,i.t(d))),n.fontsizeSlider=_(n,new r.Slider(o,{stops:[{value:0,html:i.t("Small")},{value:1,html:i.t("Big")}],change:function(e){t.danmaku.updateFontsize(v(e+.5,.5,1.5))}})),k.appendChild(o),o=e(),n.unlimitedCB=_(n,new r.Checkbox(o,{html:i.t(y),change:function(e){t.danmaku.updateUnlimited(e)}})),n.bottomUpCB=_(n,new r.Checkbox(o,{html:i.t(m),change:function(e){t.danmaku.updateBottomUp(e)}})),k.appendChild(o),n.updateSettings()}))}},{key:"update",value:function(t){this.setPos(t)}},{key:"setPos",value:function(t){this.popover.resetPos(),2===t&&this.popover.setBottom()}},{key:"updateSettings",value:function(){var t=this.player.danmaku.opts;this.scrollCB.update(t.blocked.includes("scroll")),this.topCB.update(t.blocked.includes("top")),this.bottomCB.update(t.blocked.includes("bottom")),this.colorCB.update(t.blocked.includes("color")),this.unlimitedCB.update(t.unlimited),this.bottomUpCB.update(t.bottomUp),this.opacitySlider.update(t.opacity),this.areaSlider.update({.25:0,.5:.33,.75:.66,1:1}[t.area]),this.speedSlider.update(t.speed-.5),this.fontsizeSlider.update(t.fontsizeScale-.5)}},{key:"dispose",value:function(){this.player&&(this.player.Player.__utils.dispose(this),this.player.Player.__utils.removeNode(this.el),this.player=null)}}]);var D=B;function B(){var t=this;if(!(this instanceof B))throw new TypeError("Cannot call a class as a function");R(this,"id","danmaku-settings"),R(this,"show",(function(){t.popover.show(),t.tooltip.hide()}))}!function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(U.prototype,[{key:"apply",value:function(t){var e;t.registerControlItem(new I),t.registerControlItem(new D),t.Player.I18n.add("zh-cn",b),t.danmaku=new C(t,this.opts),!t.mounted&&this.opts&&!1!==this.opts.autoInsert&&-1!==(e=t.opts.controls[0].findIndex((function(t){return"spacer"===t})))&&t.opts.controls[0].splice(e,1,"danmaku-send","danmaku-settings")}}]);var N,M,H=U;function U(t){if(!(this instanceof U))throw new TypeError("Cannot call a class as a function");this.opts=t}"Plugin"in(N=M=H)?Object.defineProperty(N,"Plugin",{value:M,enumerable:!0,configurable:!0,writable:!0}):N.Plugin=M}(),r=r.default)},"c6/b":function(t){function e(t){var r=o[t];return void 0!==r||(r=o[t]={id:t,exports:{}},n[t](r,r.exports,e)),r.exports}var n,o,r;t.exports=(n={14:function(t,e,n){"use strict";n.r(e);var o=n(81),r=(o=n.n(o),n(645)),i=(r=n.n(r),n(667));i=n.n(i),n=new URL(n(831),n.b),r=r()(o()),o=i()(n),r.push([t.id,'.nplayer{--theme-color:#007aff;--poster-bg-color:transparent;--progress-bg:#007aff;--volume-progress-bg:#007aff;--safe-area-inset-bottom:$control_bottom;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;align-items:center;background:#000;color:#fff;display:flex;font-family:-apple-system,BlinkMacSystemFont,Microsoft YaHei;height:100%;justify-content:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;z-index:auto}@supports(padding-bottom:constant(safe-area-inset-bottom)){.nplayer{--safe-area-inset-bottom:max(8px,constant(safe-area-inset-bottom))}}@supports(padding-bottom:env(safe-area-inset-bottom)){.nplayer{--safe-area-inset-bottom:max(8px,env(safe-area-inset-bottom))}}.nplayer *{box-sizing:content-box}.nplayer_control{z-index:10}.nplayer_control_bg{z-index:9}.nplayer_poster{z-index:20}.nplayer_loading{z-index:30}.nplayer_contextmenu{z-index:40}.nplayer_toast{z-index:50}.nplayer:focus{outline:none}.nplayer_flex{display:flex}.nplayer_align-center{align-items:center}.nplayer-web-full{bottom:0;left:0;position:fixed;right:0;top:0;z-index:99999}.nplayer-web-full .nplayer_control{padding-bottom:var(--safe-area-inset-bottom)}.nplayer-loading .nplayer_loading{display:block}.nplayer_icon{fill:#fff;height:28px;width:28px}.nplayer_video{max-height:100%;outline:none;touch-action:none;width:100%}.nplayer_spacer{flex:1}.nplayer_tooltip{cursor:pointer;padding:3px;position:relative;transition:background .2s ease}@media not all and (hover:none){.nplayer_tooltip:hover{background:var(--theme-color)}.nplayer_tooltip:hover .nplayer_tooltip_content{opacity:1;transform:translate(-50%)}.nplayer_tooltip:hover .nplayer_tooltip-left,.nplayer_tooltip:hover .nplayer_tooltip-right{transform:translate(0)}}.nplayer_tooltip_content{background:rgba(0,0,0,.7);bottom:100%;font-size:12px;left:50%;margin-bottom:10px;opacity:0;padding:5px 10px;pointer-events:none;position:absolute;transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;white-space:nowrap}.nplayer_tooltip-left{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.nplayer_tooltip-right{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.nplayer_tooltip-bottom{bottom:auto;margin-bottom:0;margin-top:10px;top:100%;transform:translate(-50%,-10px) scale(.8)}.nplayer_tooltip-bottom.nplayer_tooltip-left,.nplayer_tooltip-bottom.nplayer_tooltip-right{transform:translateY(-10px) scale(.8)}.nplayer_popover{pointer-events:none}.nplayer_popover-active{pointer-events:auto}.nplayer_popover-active .nplayer_popover_panel{opacity:1;transform:translateY(0)}.nplayer_popover_panel{background:rgba(0,0,0,.7);bottom:100%;box-shadow:0 1px 20px 1px rgba(0,0,0,.2);font-size:14px;margin-bottom:5px;opacity:0;overflow:hidden;padding:3px 0;position:absolute;right:0;transform:translateY(10px);transition:opacity .2s ease,transform .2s ease,height .2s cubic-bezier(.4,0,.2,1),width .2s cubic-bezier(.4,0,.2,1);white-space:nowrap;z-index:2}.nplayer_popover_panel-bottom{bottom:auto;margin-bottom:0;margin-top:5px;top:100%;transform:translateY(-10px)}.nplayer_popover_panel-left{left:0;right:auto}.nplayer_popover_mask{bottom:0;left:0;position:fixed;right:0;top:0;z-index:1}.nplayer_switch{background:rgba(255,255,255,.3);border-radius:10px;cursor:pointer;display:inline-block;padding:2px;transition:background-color .3s cubic-bezier(.4,0,.2,1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:30px}.nplayer_switch:after{background:#fff;border-radius:50%;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);content:"";display:block;height:15px;transition:transform .15s cubic-bezier(.4,0,.2,1);width:15px}.nplayer_switch-active{background:var(--theme-color)}.nplayer_switch-active:after{transform:translateX(16px)}.nplayer_loading{display:none;height:70px;left:50%;pointer-events:none;position:absolute;top:50%;transform:translate(-50%,-50%);width:70px}.nplayer_loading i{-webkit-animation:nplayer-loading 1s linear infinite;animation:nplayer-loading 1s linear infinite;background-color:#fff;border-radius:50%/20%;height:25%;left:44.5%;opacity:.25;position:absolute;top:37%;width:5px}.nplayer_loading i:first-child{-webkit-animation-delay:0s;animation-delay:0s;transform:rotate(-150deg) translateY(-150%)}.nplayer_loading i:nth-child(2){-webkit-animation-delay:.0833s;animation-delay:.0833s;transform:rotate(-120deg) translateY(-150%)}.nplayer_loading i:nth-child(3){-webkit-animation-delay:.1666s;animation-delay:.1666s;transform:rotate(-90deg) translateY(-150%)}.nplayer_loading i:nth-child(4){-webkit-animation-delay:.2499s;animation-delay:.2499s;transform:rotate(-60deg) translateY(-150%)}.nplayer_loading i:nth-child(5){-webkit-animation-delay:.3332s;animation-delay:.3332s;transform:rotate(-30deg) translateY(-150%)}.nplayer_loading i:nth-child(6){-webkit-animation-delay:.4165s;animation-delay:.4165s;transform:rotate(0deg) translateY(-150%)}.nplayer_loading i:nth-child(7){-webkit-animation-delay:.4998s;animation-delay:.4998s;transform:rotate(30deg) translateY(-150%)}.nplayer_loading i:nth-child(8){-webkit-animation-delay:.5831s;animation-delay:.5831s;transform:rotate(60deg) translateY(-150%)}.nplayer_loading i:nth-child(9){-webkit-animation-delay:.6664s;animation-delay:.6664s;transform:rotate(90deg) translateY(-150%)}.nplayer_loading i:nth-child(10){-webkit-animation-delay:.7497s;animation-delay:.7497s;transform:rotate(120deg) translateY(-150%)}.nplayer_loading i:nth-child(11){-webkit-animation-delay:.833s;animation-delay:.833s;transform:rotate(150deg) translateY(-150%)}.nplayer_loading i:nth-child(12){-webkit-animation-delay:.9163s;animation-delay:.9163s;transform:rotate(180deg) translateY(-150%)}.nplayer_toast{background:rgba(0,0,0,.7);font-size:16px;padding:3px 5px;position:absolute;white-space:nowrap}.nplayer_toast-center{left:50%;top:50%;transform:translate(-50%,-50%)}.nplayer_toast-left-top,.nplayer_toast-right-top{top:5px}.nplayer_toast-left-bottom,.nplayer_toast-left-top{left:5px}.nplayer_toast-right-bottom,.nplayer_toast-right-top{right:5px}.nplayer_toast-left-bottom,.nplayer_toast-right-bottom{bottom:60px}.nplayer_slider{cursor:pointer;display:inline-block;flex:1;margin:0 6px;padding:5px 0;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nplayer_slider_track{background:rgba(255,255,255,.3);height:4px;overflow:hidden;width:100%}.nplayer_slider_track_inner{background:var(--theme-color);height:100%;transform-origin:0 0}.nplayer_slider_stop{background:rgba(255,255,255,.7);font-size:12px;height:8px;position:absolute;top:3px;white-space:nowrap;width:3px}.nplayer_slider_stop span{left:2px;position:absolute;top:6px;transform:translateX(-50%)}.nplayer_slider_dot{background:var(--theme-color);border-radius:50%;height:13px;left:-6px;pointer-events:none;position:absolute;top:.5px;width:13px}.nplayer_checkbox{align-items:center;color:#fff;cursor:pointer;display:inline-flex;font-size:12px;position:relative;transition:color .2s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nplayer_checkbox:before{border:1px solid;border-radius:2px;content:"";display:block;height:1em;margin-right:5px;transition:background .2s ease;width:1em}.nplayer_checkbox:after{border:1px solid #fff;border-left:0;border-top:0;content:"";height:7px;left:.5em;opacity:0;position:absolute;top:50%;transform:translate(-30%,-70%) rotate(45deg);width:4px}.nplayer_checkbox:hover{color:var(--theme-color)}.nplayer_checkbox-active:before{background:var(--theme-color);border-color:var(--theme-color)}.nplayer_checkbox-active:after{opacity:1}.nplayer_poster{background-color:var(--poster-bg-color);background-position:50% 50%;background-repeat:no-repeat;background-size:cover;bottom:0;left:0;position:absolute;right:0;top:0}.nplayer_poster_play{cursor:pointer;height:50px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:50px}.nplayer_control{bottom:0;left:0;padding:0 5px 8px;position:absolute;right:0;transition:opacity .2s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nplayer_control-hide{opacity:0;pointer-events:none}.nplayer_control:hover{cursor:default!important;opacity:1!important;pointer-events:auto!important}.nplayer_control:hover~.nplayer_control_bg{opacity:1!important}.nplayer_control_bg{background:url('+o+') repeat-x bottom;bottom:0;height:100px;left:0;pointer-events:none;position:absolute;right:0;transition:opacity .2s ease}.nplayer_control_bg-hide{opacity:0}.nplayer_control_bar{align-items:center;display:flex;font-size:0}.nplayer_control_bar-top{left:0;padding-top:5px;position:absolute;right:0;top:0;transition:opacity .2s ease;z-index:10}.nplayer_control_bar-hide{opacity:0;pointer-events:none}.nplayer_control_bar>div{margin:0 3px}.nplayer_control_time{font-size:13px;white-space:nowrap}.nplayer_control_time-live{align-items:center;display:flex}.nplayer_control_time-live:before{background:var(--theme-color);border-radius:50%;content:"";display:block;height:10px;margin-right:5px;margin-top:2px;width:10px}.nplayer_control_time :first-child:after{content:"/";display:inline-block;font-size:12px;margin:0 5px;transform:translateY(-.5px)}.nplayer_control_volume{position:relative;z-index:1}.nplayer_control_volume-ver .nplayer_control_volume_bars{bottom:100%;left:0;right:0}.nplayer_control_volume-hor .nplayer_control_volume_bars{bottom:0;left:100%;top:0}.nplayer_control_volume_bars{background:rgba(255,255,255,.3);font-size:0;opacity:0;overflow:hidden;pointer-events:none;position:absolute;transition:opacity .2s ease}.nplayer_control_volume:hover .nplayer_control_volume_bars{opacity:1;pointer-events:auto}.nplayer_control_volume_bar{background:var(--volume-progress-bg);height:100%;transform:scaleX(0) scaleY(0);transform-origin:0 100%;width:100%;will-change:transform}.nplayer_control_setting .nplayer_icon{transition:transform .2s ease}.nplayer_control_setting-active{background:var(--theme-color)}.nplayer_control_setting-active .nplayer_icon{transform:rotate(90deg)}.nplayer_control_setting_item,.nplayer_control_setting_option{align-items:center;display:flex;padding:5px 8px}.nplayer_control_setting_item:hover,.nplayer_control_setting_option:hover{background:rgba(255,255,255,.2)}.nplayer_control_setting_item{justify-content:space-between}.nplayer_control_setting_item>:first-child{margin-right:20px}.nplayer_control_setting_item-select:after{border:4px solid transparent;border-left-color:#fff;content:"";display:block;height:0;margin-left:10px;width:0}.nplayer_control_setting_option:before{border-bottom:1px solid #fff;border-right:1px solid #fff;content:"";display:inline-block;height:12px;margin-left:6px;margin-right:17px;opacity:0;transform:rotate(45deg);width:5px}.nplayer_control_setting_option-active:before{opacity:1}.nplayer_control_setting_back{border-bottom:1px solid rgba(255,255,255,.2);justify-content:flex-start;padding-right:20px}.nplayer_control_setting_back:before{border:4px solid transparent;border-right-color:#fff;content:"";display:block;height:0;margin-right:21px;width:0}.nplayer_contextmenu{background:rgba(0,0,0,.7);font-size:14px;left:0;padding:3px 0;position:absolute;top:0}.nplayer_contextmenu_item{align-items:center;cursor:pointer;display:flex;justify-content:space-between;padding:5px 8px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.nplayer_contextmenu_item:hover{background:rgba(255,255,255,.2)}.nplayer_contextmenu_item-disabled{color:rgba(255,255,255,.5)}.nplayer_contextmenu_item-disabled:hover{background:transparent}.nplayer_contextmenu_item-checked:after{border-bottom:1px solid #fff;border-right:1px solid #fff;content:"";display:inline-block;height:12px;margin:0 2px 5px;transform:rotate(45deg);width:5px}.nplayer_progress{cursor:pointer;flex:1;padding:5px 0;position:relative}.nplayer_progress_bars{background:rgba(255,255,255,.3);height:4px;overflow:hidden;position:relative;touch-action:none;transition:height .12s ease}.nplayer_progress_dot{left:0;pointer-events:none;position:absolute;top:50%;transform:translateY(-50%);transition:opacity .2s ease}.nplayer_progress_dot>:first-child{transform:translate(-50%)}.nplayer_progress_dot_inner{background:var(--theme-color);border-radius:50%;height:13px;width:13px}@media not all and (hover:none){.nplayer_progress_dot{opacity:0}.nplayer_progress:hover .nplayer_progress_dot{opacity:1}}.nplayer_progress_buf,.nplayer_progress_played{bottom:0;left:0;position:absolute;right:0;top:0;transform:scaleX(0);transform-origin:0 0}.nplayer_progress_played{background:var(--progress-bg);will-change:transform}.nplayer_progress_buf,.nplayer_progress_hover{background:rgba(255,255,255,.5)}.nplayer_progress_hover{opacity:0}.nplayer_progress:hover .nplayer_thumb{display:block}.nplayer_thumb{bottom:20px;display:none;font-size:12px;left:0;pointer-events:none;position:absolute;text-align:center;text-shadow:0 0 2px rgba(0,0,0,.3)}.nplayer_thumb_img{background-color:rgba(255,255,255,.5);background-repeat:no-repeat;border:1px solid #fff;box-shadow:0 0 10px rgba(0,0,0,.1)}.nplayer_thumb_time{background:rgba(0,0,0,.7);border-radius:3px;display:inline-block;margin-top:5px;padding:2px 5px 3px}@-webkit-keyframes nplayer-loading{0%{opacity:.85}50%{opacity:.25}to{opacity:.25}}@keyframes nplayer-loading{0%{opacity:.85}50%{opacity:.25}to{opacity:.25}}',""]),e.default=r},645:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(0<e[5].length?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(o)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(a[s]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);o&&a[u[0]]||(void 0!==i&&(void 0!==u[5]&&(u[1]="@layer".concat(0<u[5].length?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]&&(u[1]="@media ".concat(u[2]," {").concat(u[1],"}")),u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),e.push(u))}},e}},667:function(t){"use strict";t.exports=function(t,e){return e=e||{},t&&(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},81:function(t){"use strict";t.exports=function(t){return t[1]}},4:function(t,e,n){var o,r;"undefined"!=typeof window&&window.document&&(n="string"==typeof(n=(n=n(14)).__esModule?n.default:n)?n:n[0][1],r=!1,o||((o=document.createElement("style")).setAttribute("type","text/css"),r=!0),"textContent"in o?o.textContent=n:o.styleSheet.cssText=n,r)&&document.head.appendChild(o)},831:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg=="}},o={},e.m=n,e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.b=document.baseURI||self.location.href,r={},function(){"use strict";e.r(r),e.d(r,{AIRPLAY:function(){return Ae},CLASS_PLAYER:function(){return a},CLASS_PREFIX:function(){return i},Checkbox:function(){return Qn},ContextMenu:function(){return Nt},Control:function(){return Ot},EVENT:function(){return l},EXIT_FULL_SCREEN:function(){return ve},FULL_SCREEN:function(){return be},Fullscreen:function(){return Zt},I18n:function(){return Le},Icon:function(){return De},LIVE:function(){return Ie},LOOP:function(){return Ce},Loading:function(){return At},MUTE:function(){return Oe},NORMAL:function(){return Pe},PAUSE:function(){return Ee},PIP:function(){return Se},PLAY:function(){return ke},Player:function(){return wo},Popover:function(){return ae},SETTINGS:function(){return we},SPEED:function(){return Te},Shortcut:function(){return Ge},Slider:function(){return no},Switch:function(){return fe},Toast:function(){return Gt},ToastItem:function(){return Wt},Tooltip:function(){return ct},UNMUTE:function(){return xe},VOLUME:function(){return je},WEB_EXIT_FULL_SCREEN:function(){return _e},WEB_FULL_SCREEN:function(){return ge},WebFullscreen:function(){return $t},default:function(){return wo}});var t={};function n(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)),o}function o(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){var n,r;n=t,r=o[e],e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}e.r(t),e.d(t,{Checkbox:function(){return Qn},Popover:function(){return ae},Slider:function(){return no},Switch:function(){return fe},Tooltip:function(){return ct}}),e(4);var i="nplayer_",a="nplayer",l={ENTER_FULLSCREEN:"EnterFullscreen",EXIT_FULLSCREEN:"ExitFullscreen",WEB_ENTER_FULLSCREEN:"WebEnterFullscreen",WEB_EXIT_FULLSCREEN:"WebExitFullscreen",DURATION_CHANGE:"DurationChange",RATE_CHANGE:"RateChange",AFTER_INIT:"AfterInit",PLAY:"Play",PAUSE:"Pause",ENDED:"Ended",WAITING:"Waiting",STALLED:"Stalled",CANPLAY:"Canplay",LOADED_METADATA:"LoadedMetadata",ERROR:"Error",SEEKED:"Seeked",TIME_UPDATE:"TimeUpdate",VOLUME_CHANGE:"VolumeChange",PROGRESS:"Progress",ENTER_PIP:"EnterPip",EXIT_PIP:"ExitPip",LOADING_SHOW:"LoadingShow",LOADING_HIDE:"LoadingHide",MOUNTED:"Mounted",UPDATE_SIZE:"UpdateSize",BEFORE_DISPOSE:"BeforeDispose",UPDATE_OPTIONS:"UpdateOptions",OPEN_EDGE:"OpenEdge",CONTROL_SHOW:"ControlShow",CONTROL_HIDE:"ControlHide",CONTROL_ITEM_UPDATE:"ControlItemUpdate",BP_CHANGE:"BpChange"},s="undefined"!=typeof window,c=s&&/(iPad|iPhone|iPod)/gi.test(navigator.platform),u=s&&/MSIE|Trident/.test(navigator.userAgent),p=s&&u&&-1<navigator.userAgent.indexOf("Windows NT 10.0"),f=/([\w-]+)?(?:#([\w-]+))?((?:\.(?:[\w-]+))*)/;function h(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:i,r=[],a=(t&&(r=f.exec(t)||[]),document.createElement(r[1]||"div"));return r[2]&&(a.id=r[3]),r[3]&&(a.className=r[3].replace(/\./g," ".concat(o)).trim()),e&&Object.keys(e).forEach((function(t){var n=e[t];void 0!==n&&(/^on\w+$/.test(t)?a[t]=n:"selected"===t?n&&a.setAttribute(t,"true"):a.setAttribute(t,n))})),n&&(B(n)?a.innerHTML=n:n.forEach((function(t){return a.appendChild(t)}))),a}function d(t){return t?B(t)?document.querySelector(t):t:null}function y(t){t&&(t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t))}function m(t){t.style.display=""}function b(t){t.style.display="none"}function v(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:i;return(n=n.trim())&&(t.classList?n.split(" ").forEach((function(e){return t.classList.add(o+e)})):(e=t.className&&t.className.baseVal||"",t.setAttribute("class",(e?"".concat(e," "):"")+n.split(" ").map((function(t){return o+t})).join(" ")))),t}function g(t,e,n){t.classList.remove((2<arguments.length&&void 0!==n?n:i)+e)}function _(t,e,n){return t.classList.contains((2<arguments.length&&void 0!==n?n:i)+e)}function w(t,e,n,o){e=(3<arguments.length&&void 0!==o?o:i)+e,n?t.classList.add(e):!1===n?t.classList.remove(e):t.classList.toggle(e,n)}var k="http://www.w3.org/2000/svg";function E(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"0 0 24 24",o=document.createElementNS(k,"svg");return o.setAttribute("viewBox",n),t&&v(o,t),e&&((n=document.createElementNS(k,"path")).setAttributeNS(null,"d",e),o.appendChild(n)),o}function O(t){return t.path||t.composedPath()}var x=!1;if(s)try{var P=Object.defineProperty({},"once",{get:function(){x=!0}});window.addEventListener("test",null,P)}catch(t){}!function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(S.prototype,[{key:"dispose",value:function(){this.handler&&(this.node.removeEventListener(this.type,this.handler,this.options),this.node=null,this.handler=null,this.options=null)}}]);var T=S;function S(t,e,n,o){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");this.node=t,this.type=e,this.handler=n,this.options=o,this.options=(!0===o||!1===o||"[object Boolean]"===R.call(o)||!!o&&x)&&o,t.addEventListener(e,n,this.options)}function C(t){var e=t.cloneNode(!0),n=((e.style.position="absolute",e.style.opacity="0",e.removeAttribute("hidden"),t=t.parentNode||document.body).appendChild(e),e.getBoundingClientRect());return t.removeChild(e),n}function j(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}!function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(I.prototype,[{key:"dispose",value:function(){this.el&&(this.el.removeEventListener("pointerdown",this.downHandler,!0),this.el.removeEventListener("pointerup",this.upHandler,!0),this.el.removeEventListener("pointercancel",this.upHandler,!0),this.el.removeEventListener("pointermove",this.moveHandler,!0),this.start=null,this.move=null,this.end=null,this.lastEv=null,this.el=null)}}]);var A=I;function I(t,e,n,o){var r=this;if(!(this instanceof I))throw new TypeError("Cannot call a class as a function");j(this,"pending",!1),j(this,"downHandler",(function(t){t.preventDefault(),r.el.setPointerCapture(t.pointerId),r.el.addEventListener("pointermove",r.moveHandler,!0),r.start(t)})),j(this,"moveHandler",(function(t){t.preventDefault(),r.lastEv=t,r.pending||(r.pending=!0,requestAnimationFrame(r.handlerMove))})),j(this,"handlerMove",(function(){r.move(r.lastEv),r.pending=!1})),j(this,"upHandler",(function(t){t.preventDefault(),r.el.releasePointerCapture(t.pointerId),r.el.removeEventListener("pointermove",r.moveHandler,!0),r.end&&r.end(t)})),this.el=t,this.start=e,this.move=n,this.end=o,t.addEventListener("pointerdown",this.downHandler,!0),t.addEventListener("pointerup",this.upHandler,!0),t.addEventListener("pointercancel",this.upHandler,!0)}!function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(D.prototype,[{key:"isHeightGtWidth",get:function(){return this.width<this.height}},{key:"width",get:function(){return this.tryUpdate(this.rect.width),this.rect.width}},{key:"height",get:function(){return this.tryUpdate(this.rect.height),this.rect.height}},{key:"x",get:function(){return this.tryUpdate(this.rect.left),this.rect.left}},{key:"y",get:function(){return this.tryUpdate(this.rect.top),this.rect.top}},{key:"changed",get:function(){var t=this.el.getBoundingClientRect(),e=t.top!==this.rect.top||t.left!==this.rect.left||t.width!==this.rect.width||t.height!==this.rect.height;return e&&(this.rect=t),e}},{key:"tryUpdate",value:function(t){t||this.update()}},{key:"dispose",value:function(){this.player&&this.player.off(l.UPDATE_SIZE,this.update),this.el=null,this.rect=null}}]);var L=D,R=Object.prototype.toString;function D(t,e){var n,o=this;if(!(this instanceof D))throw new TypeError("Cannot call a class as a function");n=function(){o.rect=o.el.getBoundingClientRect()},"update"in this?Object.defineProperty(this,"update",{value:n,enumerable:!0,configurable:!0,writable:!0}):this.update=n,this.el=t,this.player=e,this.rect={},e&&e.on(l.UPDATE_SIZE,this.update)}function B(t){return"string"==typeof t||t instanceof String}function N(t){return"function"==typeof t}function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e,n){M(this,H),this.fn=t,this.context=e,this.once=n,this.once=n||!1}!function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(F.prototype,[{key:"emit",value:function(t,e,n,o,r,i){if(!this._events[t])return!1;var a,l=this._events[t],s=arguments.length;if(l.fn){switch(l.once&&this.off(t,l.fn,void 0,!0),s){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,o),!0;case 5:return l.fn.call(l.context,e,n,o,r),!0;case 6:return l.fn.call(l.context,e,n,o,r,i),!0}for(p=1,a=new Array(s-1);p<s;p++)a[p-1]=arguments[p];l.fn.apply(l.context,a)}else for(var c,u=l.length,p=0;p<u;p++)switch(l[p].once&&this.off(t,l[p].fn,void 0,!0),s){case 1:l[p].fn.call(l[p].context);break;case 2:l[p].fn.call(l[p].context,e);break;case 3:l[p].fn.call(l[p].context,e,n);break;case 4:l[p].fn.call(l[p].context,e,n,o);break;default:if(!a)for(c=1,a=new Array(s-1);c<s;c++)a[c-1]=arguments[c];l[p].fn.apply(l[p].context,a)}return!0}},{key:"on",value:function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof e)throw new TypeError("The listener must be a function");return n=new H(e,n||this,o),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],n]:this._events[t].push(n):(this._events[t]=n,this._eventsCount++),{dispose:this.off.bind(this,t,e)}}},{key:"once",value:function(t,e,n){return this.on(t,e,n,!0)}},{key:"off",value:function(t,e,n,o){if(this._events[t])if(e){var r=this._events[t],i=[];if(r.fn)r.fn!==e||o&&!r.once||n&&r.context!==n||this.clearEvent(t);else{for(var a=0,l=r.length;a<l;a++)(r[a].fn!==e||o&&!r[a].once||n&&r[a].context!==n)&&i.push(r[a]);i.length?this._events[t]=1===i.length?i[0]:i:this.clearEvent(t)}}else this.clearEvent(t);return this}},{key:"removeAllListeners",value:function(t){return t?this._events[t]&&this.clearEvent(t):(this._events=Object.create(null),this._eventsCount=0),this}},{key:"clearEvent",value:function(t){0==--this._eventsCount?this._events=Object.create(null):delete this._events[t]}}]);var U=F;function F(){M(this,F),this._events=Object.create(null),this._eventsCount=0}!function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(V.prototype,[{key:"applyStyle",value:function(t){Object.assign(this.el.style,t)}},{key:"dispose",value:function(){y(this.el),$(this)}}]);var z=V;function V(t,e,n,o,r){if(!(this instanceof V))throw new TypeError("Cannot call a class as a function");e&&!B(e)?this.el=e:this.el=h(e,n,o,r),t&&t.appendChild(this.el)}function Y(t,e){return t&&e&&(t===e||t.id===e.id)}function W(t,e){y(t.el),e&&e(t)}function G(t,e,n,o){e.insertBefore(t.el,(null==n?void 0:n.el)||null),o&&o(t)}var X={checked:!0,muted:!0,multiple:!0,selected:!0};function K(t,e,n){X[e]?t[e]=n:null==n?t.removeAttribute(e):t.setAttribute(e,n)}function Z(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return Math.max(Math.min(t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:1),e)}var q=new Map;function Q(t,e){return q.has(t)||q.set(t,[]),q.get(t).push(e),e}function $(t){q.has(t)&&(q.get(t).forEach((function(t){return t.dispose()})),q.delete(t))}function J(t,e,n,o,r){return e=new T(e,n,o,r),t&&Q(t,e),e}function tt(t,e){var n,o=!1,r=!0;return function(){if(n=arguments,r)return r=!1,t.apply(e,n);o||(o=!0,requestAnimationFrame((function(){t.apply(e,n),o=!1})))}}function et(t,e,n){e=1<arguments.length&&void 0!==e?e:2;var o=2<arguments.length&&void 0!==n?n:"0";if(!(2<=(t=String(t)).length))for(var r=0,i=e-t.length;r<i;r++)t=o+t;return t}function nt(t){return isFinite(t)?t<=0?"0:00":(t=Math.round(t))<60?"0:".concat(et(t)):(t<3600?"".concat(Math.floor(t/60),":"):"".concat(Math.floor(t/3600),":").concat(et(Math.floor(t%3600/60)),":")).concat(et(t%60)):"-"}function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}u={$:h,clamp:Z,addDisposableListener:J,addDisposable:Q,createSvg:E,dispose:$,getEventPath:O,removeNode:y,addClass:v};var at="tooltip-left",lt="tooltip-right",st="tooltip-bottom",ct=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),rt(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=it(t);if(n=e?(n=it(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,!n||"object"!==ot(n)&&"function"!=typeof n){if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(n=o))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return n}}(o);function o(t,e){var r;if(this instanceof o)return r=n.call(this,t,".tooltip_content"),v(t,"tooltip"),e&&(r.html=e),r;throw new TypeError("Cannot call a class as a function")}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"html",get:function(){return this.el.innerHTML},set:function(t){this.el.innerHTML=t}},{key:"resetPos",value:function(){g(this.el,at),g(this.el,lt),g(this.el,st)}},{key:"setBottom",value:function(){v(this.el,st)}},{key:"setLeft",value:function(){v(this.el,at)}},{key:"setRight",value:function(){v(this.el,lt)}},{key:"hide",value:function(){b(this.el)}},{key:"show",value:function(){m(this.el)}}]),o}();function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dt(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var yt=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),pt(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ht(t);if(n=e?(n=ht(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===ut(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return ft(o)}}(o);function o(t,e,r){var i,a,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(this instanceof o)return dt(ft(i=n.call(this,t,".control_bar")),"prevItems",[]),dt(ft(i),"spacer",{id:"spacer",el:h(".spacer")}),dt(ft(i),"initControlItem",(function(t){var e;if(t=i.getItem(t))return t.el||(t.el=h()),t.mounted?(t.tooltip&&(t.tooltip.resetPos(),2===i.position)&&t.tooltip.setBottom(),void(t.update&&t.update(i.position))):(t.tip&&(e=new ct(t.el,t.tip)),t.init&&(2<t.init.length&&!e&&(e=new ct(t.el)),t.init(i.player,i.position,e)),t.dispose&&Q(ft(i),t),(e=e||t.tooltip)&&(e.resetPos(),2===i.position)&&e.setBottom(),t.mounted=!0,t)})),dt(ft(i),"onHideControlItem",(function(t){t.hide&&t.hide()})),i.player=e,2===(i.position=l)&&v(i.el,"control_bar-top"),r&&(a=document.createDocumentFragment(),r.forEach((function(t){(t=i.initControlItem(t))&&(a.appendChild(t.el),i.prevItems.push(t))})),i.updateTooltipPos(),i.el.appendChild(a)),i;throw new TypeError("Cannot call a class as a function")}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"getItem",value:function(t){return"spacer"===t?this.spacer:!(t=B(t)?this.player.getControlItem(t):t)||t.isSupport&&!t.isSupport(this.player)?void 0:t}},{key:"updateTooltipPos",value:function(){var t=this,e=this.prevItems.length-1;this.prevItems.forEach((function(n,o){n.tooltip&&(n.tooltip.resetPos(),2===t.position&&n.tooltip.setBottom(),0===o?n.tooltip.setLeft():o===e&&n.tooltip.setRight())}))}},{key:"getItems",value:function(){return this.prevItems}},{key:"setItems",value:function(t){t&&(this.prevItems=t)}},{key:"update",value:function(t){var e,n=this;t&&(e=[],t.forEach((function(t){(t=n.getItem(t))&&e.push(t)})),function(t,e,n,o){for(var r=3<arguments.length&&void 0!==o?o:{},i=t.length-1,a=e.length-1,l=0,s=t[l],c=e[l];Y(s,c);)s=t[++l],c=e[l];if(l<i&&l<a)for(s=t[i],c=e[a];Y(s,c);)s=t[--i],c=e[--a];if(!(i<l&&a<l))if(i<l)for(var u=l;u<=a;u++)G(e[u],n,void 0,r.mount);else if(a<l)for(var p=l;p<=i;p++)W(t[p],r.unmount);else{for(var f=[],h=new Map,d=l;d<=a;d++)f.push(-1),h.set(e[d].id||e[d],d);for(var y=!1,m=0,b=0,v=l;v<=i;v++)s=t[v],null==(b=h.get(s.id||s))?W(s,r.unmount):(f[b-l]=v,b<m?y=!0:m=b);for(var g,_=y?function(t){for(var e,n,o=[],r=[t[0]],i=0,a=0,l=0,s=1,c=t.length;s<c;++s)if(-1!==(e=t[s]))if(e>t[r[l=r.length-1]])o[s]=r[l],r.push(s);else{for(i=0,a=l;i<a;)e>t[r[n=(i+a)/2|0]]?i=1+n:a=n;o[s]=r[i-1],r[i]=s}for(i=r[(l=r.length)-1];0<l--;)i=o[r[l]=i];return r}(f):[],w=_.length-1,k=f.length-1;-1<k;k--)g=e[(b=l+k)+1],-1===f[k]?G(e[b],n,g,r.mount):y&&(k===_[w]?w--:G(e[b],n,g,r.update))}}(this.prevItems,e,this.el,{mount:this.initControlItem,unmount:this.onHideControlItem}),this.prevItems=e,this.updateTooltipPos(),this.player.emit(l.CONTROL_ITEM_UPDATE))}}]),o}();function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _t(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var wt="control-hide",kt="control_bg-hide",Et="control_bar-hide",Ot=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),bt(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=gt(t);if(n=e?(n=gt(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===mt(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return vt(o)}}(o);function o(t,e){var r;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");_t(vt(r=n.call(this,t,".control")),"delayHidTime",3e3),_t(vt(r),"latch",0),_t(vt(r),"controlBars",[]),_t(vt(r),"emitAndUpdateBp",(function(){var t,e=r.player.rect.width,n=r.controls.find((function(t){return e<=t.bp}));return r.currentBp!=(null==n?void 0:n.bp)&&(r.currentBp=null==n?void 0:n.bp,t=(null==n?void 0:n.controls)||r.player.opts.controls,r.updateItems(t[0],0),r.updateItems(t[1],1),r.updateItems(t[2],2),r.player.emit(l.BP_CHANGE,r.currentBp)),n})),_t(vt(r),"show",(function(){g(r.el,wt),g(r.bgElement,kt),g(r.controlBars[2].el,Et),r.player.el.style.cursor="",r.player.emit(l.CONTROL_SHOW)})),_t(vt(r),"hide",(function(){v(r.el,wt),v(r.bgElement,kt),v(r.controlBars[2].el,Et),r.player.el.style.cursor="none",r.player.emit(l.CONTROL_HIDE)})),_t(vt(r),"showTransient",(function(){r.show(),clearTimeout(r.showTimer),r.showTimer=setTimeout(r.tryHide,r.delayHidTime)})),_t(vt(r),"tryHide",(function(){!r.player.video.played.length||r.player.paused||r.latch||r.hide()})),r.player=e,r.bgElement=t.appendChild(h(".control_bg")),r.controlBars[1]=Q(vt(r),new yt(r.el,e,e.opts.controls[1],1)),r.controlBars[0]=Q(vt(r),new yt(r.el,e,e.opts.controls[0],0)),r.controlBars[2]=Q(vt(r),new yt(t,e,e.opts.controls[2],2));var i=e.opts.bpControls;return r.controls=Object.keys(i).map((function(t){return{bp:Number(t),controls:i[t]}})).sort((function(t,e){return t.bp-e.bp})),r.controls.length&&(Q(vt(r),e.on(l.UPDATE_SIZE,r.emitAndUpdateBp)),Q(vt(r),e.on(l.MOUNTED,r.emitAndUpdateBp))),Q(vt(r),e.on(l.PAUSE,(function(){e.opts.isTouch||r.show()}))),Q(vt(r),e.on(l.PLAY,(function(){e.opts.isTouch||r.showTransient()}))),J(vt(r),e.el,"mousemove",r.showTransient),J(vt(r),e.el,"mouseleave",r.tryHide),r.showTransient(),r}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"isActive",get:function(){return!_(this.el,wt)}},{key:"filterItems",value:function(t,e){var n;if(t.length&&e.length)return n=new Map,t.forEach((function(t){return n.set(t,!0)})),e.filter((function(t){return!n.get(t)}))}},{key:"updateItems",value:function(t){var e,n=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=this.controlBars[o];r&&(r.update(t||[]),e=r.getItems(),this.controlBars.forEach((function(t,r){r!==o&&(t.setItems(n.filterItems(e,t.getItems())),t.updateTooltipPos())})))}},{key:"require",value:function(){this.latch++}},{key:"release",value:function(){this.latch&&(this.latch--,this.tryHide())}}]),o}();function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ct(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var jt="-loading",At=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Pt(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=St(t);if(n=e?(n=St(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===xt(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Tt(o)}}(o);function o(t,e){var r;if(this instanceof o)return Ct(Tt(r=n.call(this,t,e.opts.loadingEl||".loading",void 0,e.opts.loadingEl?void 0:function(){for(var t=[],e=0;e<12;++e)t.push("<i></i>");return t.join("")}())),"startWaitingTime",0),Ct(Tt(r),"_checkCanplay",(function(){r.startWaitingTime!==r.player.currentTime&&(r.hide(),clearTimeout(r.showTimer),r.player.off(l.TIME_UPDATE,r._checkCanplay))})),Ct(Tt(r),"show",(function(){v(r.player.el,jt,a),r.player.emit(l.LOADING_SHOW)})),Ct(Tt(r),"hide",(function(){g(r.player.el,jt,a),r.player.emit(l.LOADING_HIDE)})),r.player=e,Q(Tt(r),e.on(l.CANPLAY,r.hide)),Q(Tt(r),e.on(l.WAITING,(function(){r.player.currentTime&&r.tryShow()}))),Q(Tt(r),e.on(l.STALLED,(function(){var t,e=r.player.currentTime;e&&(t=!0,r.player.eachBuffer((function(n,o){if(n<=e&&e<o)return!(t=!1)})),t)&&r.tryShow()}))),r;throw new TypeError("Cannot call a class as a function")}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"isActive",get:function(){return _(this.player.el,jt,a)}},{key:"checkCanplay",value:function(){this.startWaitingTime=this.player.currentTime,this.player.off(l.TIME_UPDATE,this._checkCanplay),this.player.on(l.TIME_UPDATE,this._checkCanplay)}},{key:"tryShow",value:function(){this.checkCanplay(),clearTimeout(this.showTimer),this.showTimer=setTimeout(this.show,100)}}]),o}();function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bt(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var Nt=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Lt(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Dt(t);if(n=e?(n=Dt(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===It(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Rt(o)}}(o);function o(t,e,r){var i;if(this instanceof o)return Bt(Rt(i=n.call(this,t,".contextmenu")),"showed",!1),Bt(Rt(i),"hide",(function(){b(i.el)})),i.player=e,i.items=r,b(i.el),i.rect=new L(i.el,e),i.items.forEach((function(t){return t.init&&t.init(e,t)})),J(Rt(i),e.el,"contextmenu",(function(t){var n,o,r,a,l,s,c;i.hide(),e.opts.contextMenuToggle&&i.showed||(t.preventDefault(),t.stopPropagation(),!i.renderItems())||(m(i.el),i.rect.update(),i.player.rect.update(),n=(o=i.rect).width,o=o.height,s=(r=i.player.rect).x,r=r.y,a=(c=window).innerWidth,c=c.innerHeight,s=(l=t.clientX)-s,c=c<(t=t.clientY)+o?c-o:t-r,i.applyStyle({left:"".concat(s=a<l+n?a-n:s,"px"),top:"".concat(c,"px")})),i.showed=!i.showed})),J(Rt(i),document,"click",(function(){i.showed=!1,i.hide()})),i;throw new TypeError("Cannot call a class as a function")}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"getDomNodes",value:function(){var t=this;return this.items.filter((function(t){return t&&!t.invisible})).map((function(e){var n=h(".contextmenu_item");return e.show&&e.show(t.player,e),e.html&&(n.innerHTML=e.html),e.disabled&&v(n,"contextmenu_item-disabled"),e.checked&&v(n,"contextmenu_item-checked"),e.click&&n.addEventListener("click",(function(){return e.click(t.player,e)}),!1),n}))}},{key:"renderItems",value:function(){var t=this.getDomNodes();if(!t.length)return!1;this.el.textContent="";var e=document.createDocumentFragment();return t.forEach((function(t){return e.appendChild(t)})),this.el.appendChild(e),!0}},{key:"isActive",get:function(){return"none"!==this.el.style.display}}]),o}();function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ut(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ft(t,e,n){e&&Ut(t.prototype,e),n&&Ut(t,n)}function zt(t,e,n){return(zt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yt(t)););return t}(t,e),t)return(t=Object.getOwnPropertyDescriptor(t,e)).get?t.get.call(n):t.value})(t,e,n||t)}function Vt(t,e){return(Vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Vt(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Yt(t);if(n=e?(n=Yt(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,!n||"object"!==Mt(n)&&"function"!=typeof n){if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(n=o))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return n}}(o);function o(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"center";return Ht(this,o),(t=n.call(this,t,".toast")).position=r,v(t.el,"toast-".concat(r)),t.el.innerHTML=e,t}return Ft(o,[{key:"dispose",value:function(){zt(Yt(o.prototype),"dispose",this).call(this),clearTimeout(this.timer)}}]),o}(),Gt=(Ft(Xt,[{key:"show",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:3e3,o=this.toasts.find((function(t){return t.position===e}));return o?(clearTimeout(o.timer),o.el.innerHTML=t):(o=new Wt(this.container,t,e),this.toasts.push(o)),0<n&&(o.timer=setTimeout(this.close.bind(this,o),n)),o}},{key:"close",value:function(t){if(t)return this.toasts=this.toasts.filter((function(e){return e!==t})),t.dispose();this.toasts.forEach((function(t){return t.dispose()})),this.toasts=[]}},{key:"dispose",value:function(){this.toasts&&(this.close(),this.toasts=null,this.container=null)}}]),Xt);function Xt(t){var e;Ht(this,Xt),e=[],"toasts"in this?Object.defineProperty(this,"toasts",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.toasts=e,this.container=t}function Kt(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}!function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(qt.prototype,[{key:"getPrefix",value:function(){var t;return N(document.exitFullscreen)?"":(t="",["webkit","moz","ms"].forEach((function(e){(N(document["".concat(e,"ExitFullscreen")])||N(document["".concat(e,"CancelFullScreen")]))&&(t=e)})),t)}},{key:"requestFullscreen",get:function(){return HTMLElement.prototype.requestFullscreen||HTMLElement.prototype.webkitRequestFullscreen||HTMLElement.prototype.mozRequestFullScreen||HTMLElement.prototype.msRequestFullscreen}},{key:"exitFullscreen",get:function(){return HTMLDocument.prototype.exitFullscreen||HTMLDocument.prototype.webkitExitFullscreen||HTMLDocument.prototype.cancelFullScreen||HTMLDocument.prototype.mozCancelFullScreen||HTMLDocument.prototype.msExitFullscreen}},{key:"fullscreenElement",get:function(){return document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}},{key:"isActive",get:function(){return this.fullscreenElement===this.target}},{key:"addClass",value:function(){v(this.player.el,"-full",a)}},{key:"removeClass",value:function(){g(this.player.el,"-full",a)}},{key:"enableDblclick",value:function(){this.player.video.addEventListener("dblclick",this.toggle)}},{key:"disableDblclick",value:function(){this.player.video.removeEventListener("dblclick",this.toggle)}},{key:"setTarget",value:function(t,e){this.target=(t&&c?e:t)||(c?this.player.video:this.player.el),this.isActive&&this.enter()}},{key:"enter",value:function(){c?this.target.webkitEnterFullscreen():(this.requestFullscreen.call(this.target,{navigationUI:"hide"}),this.player.emit(l.UPDATE_SIZE))}},{key:"exit",value:function(){return!!this.isActive&&(c?this.target.webkitExitFullscreen():(this.exitFullscreen.call(document),this.player.emit(l.UPDATE_SIZE)),!0)}},{key:"dispose",value:function(){this.player&&(this.player.off(l.ENTER_FULLSCREEN),this.player.off(l.EXIT_FULLSCREEN),this.disableDblclick(),this.player=null,$(this))}}]);var Zt=qt;function qt(t){var e=this;if(!(this instanceof qt))throw new TypeError("Cannot call a class as a function");Kt(this,"prefix",this.getPrefix()),Kt(this,"toggle",(function(){e.isActive?e.exit():e.enter()})),this.player=t,J(this,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),(function(){var t=e.isActive?(e.addClass(),l.ENTER_FULLSCREEN):(e.removeClass(),l.EXIT_FULLSCREEN);e.player.emit(t),e.player.emit(l.UPDATE_SIZE)})),Q(this,t.on(l.UPDATE_OPTIONS,(function(){e.disableDblclick()}))),this.setTarget(),this.isActive&&this.addClass(),t.opts.isTouch||this.enableDblclick()}var Qt="-web-full",$t=(function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(Jt.prototype,[{key:"isActive",get:function(){return _(this.player.el,Qt,a)}},{key:"enter",value:function(){v(this.player.el,Qt,a),this.player.emit(l.WEB_ENTER_FULLSCREEN),this.player.emit(l.UPDATE_SIZE)}},{key:"exit",value:function(){return!!this.isActive&&(g(this.player.el,Qt,a),this.player.emit(l.WEB_EXIT_FULLSCREEN),this.player.emit(l.UPDATE_SIZE),!0)}},{key:"dispose",value:function(){this.player&&(this.player.off(l.WEB_ENTER_FULLSCREEN),this.player.off(l.WEB_EXIT_FULLSCREEN),this.player=null)}}]),Jt);function Jt(t){var e,n=this;if(!(this instanceof Jt))throw new TypeError("Cannot call a class as a function");e=function(){n.isActive?n.exit():n.enter()},"toggle"in this?Object.defineProperty(this,"toggle",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.toggle=e,this.player=t}function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){return(ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ne(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var re="popover-active",ie="popover_panel-bottom",ae=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),ee(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=oe(t);if(n=e?(n=oe(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===te(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return ne(o)}}(o);function o(t,e,r,i){var a;if(this instanceof o)return(a=n.call(this,t,".popover")).onHide=e,a.maskEl=a.el.appendChild(h(".popover_mask")),a.panelEl=a.el.appendChild(h(".popover_panel")),r&&a.applyPanelStyle(r),i&&v(a.panelEl,"popover_panel-left"),J(ne(a),a.maskEl,"click",(function(t){t.stopPropagation(),O(t).includes(a.panelEl)||a.hide(t)})),a;throw new TypeError("Cannot call a class as a function")}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"resetPos",value:function(){g(this.panelEl,ie)}},{key:"setBottom",value:function(){v(this.panelEl,ie)}},{key:"applyPanelStyle",value:function(t){Object.assign(this.panelEl.style,t)}},{key:"show",value:function(){v(this.el,re)}},{key:"hide",value:function(t){g(this.el,re),this.onHide&&this.onHide(t)}}]),o}();function le(t){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ce(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ue(t){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pe="switch-active",fe=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),se(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ue(t);if(n=e?(n=ue(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===le(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return ce(o)}}(o);function o(t,e,r){var i;if(this instanceof o)return(i=n.call(this,t,".switch")).toggle(e||!1),r&&J(ce(i),i.el,"click",(function(){i.toggle(),r(_(i.el,pe))})),i;throw new TypeError("Cannot call a class as a function")}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"toggle",value:function(t){w(this.el,pe,t)}}]),o}();function he(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)),o}function de(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(Object(n),!0).forEach((function(e){ye(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ye(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var me=Object.create(null),be="Fullscreen",ve="Exit fullscreen",ge="Web fullscreen",_e="Exit web fullscreen",we="Settings",ke="Play",Ee="Pause",Oe="Mute",xe="Unmute",Pe="Normal",Te="Speed",Se="Picture in Picture",Ce="Loop",je="Volume",Ae="Airplay",Ie="Live",Le={defaultLang:"",currentLang:"",t:function(t,e){return(null==(e=me[e||Le.currentLang||Le.defaultLang])?void 0:e[t])||t},add:function(t,e){me[t.toLowerCase()]=de(de({},me[t.toLowerCase()]),e),Le.fallback()},fallback:function(){Object.keys(me).forEach((function(t){me[t.split("-")[0]]=me[t]}))},setCurrentLang:function(t){this.currentLang=t||navigator.language||navigator.userLanguage,this.currentLang&&(this.currentLang=this.currentLang.toLowerCase())},setDefaultLang:function(t){this.defaultLang=(t||"").toLowerCase()}};function Re(t){return function(e){var n=E("icon",t);return e&&v(n,e),n}}Le.add("zh-cn",(ye(P={},be,"全屏"),ye(P,ve,"取消全屏"),ye(P,ge,"网页全屏"),ye(P,_e,"退出网页全屏"),ye(P,we,"设置"),ye(P,ke,"播放"),ye(P,Ee,"暂停"),ye(P,Oe,"静音"),ye(P,xe,"取消静音"),ye(P,Pe,"正常"),ye(P,Te,"播放速度"),ye(P,Se,"画中画"),ye(P,Ce,"循环播放"),ye(P,je,"音量"),ye(P,Ae,"隔空播放"),ye(P,Ie,"直播"),P)),s&&Le.setCurrentLang();var De=Object.create(null);function Be(t,e){De[t]=e}function Ne(t){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Me(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function He(t,e){return(He=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fe(t){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(De,"register",{value:Be}),Be("play",Re("M6 2.914v18.172L20.279 12 6 2.914z")),Be("pause",Re("M14.333 20.133H19V3.8h-4.667M5 20.133h4.667V3.8H5v16.333z")),Be("volume",Re("M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z")),Be("muted",Re("M3,9H7L12,4V20L7,15H3V9M16.59,12L14,9.41L15.41,8L18,10.59L20.59,8L22,9.41L19.41,12L22,14.59L20.59,16L18,13.41L15.41,16L14,14.59L16.59,12Z")),Be("cog",Re("M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66z")),Be("webEnterFullscreen",Re("M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z")),Be("webExitFullscreen",Re("M19.5,3.09L15,7.59V4H13V11H20V9H16.41L20.91,4.5L19.5,3.09M4,13V15H7.59L3.09,19.5L4.5,20.91L9,16.41V20H11V13H4Z")),Be("enterFullscreen",Re("M3 3h6.429v2.571H5.57V9.43H3V3m11.571 0H21v6.429h-2.571V5.57H14.57V3m3.858 11.571H21V21h-6.429v-2.571h3.858V14.57m-9 3.858V21H3v-6.429h2.571v3.858H9.43z")),Be("exitFullscreen",Re("M14.571 14.571H21v2.572h-3.857V21H14.57v-6.429M3 14.571h6.429V21H6.857v-3.857H3V14.57M6.857 3H9.43v6.429H3V6.857h3.857V3M21 6.857V9.43h-6.429V3h2.572v3.857H21z")),Be("airplay",Re("M6 22h12l-6-6m9-13H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H3V5h18v12h-4v2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z"));var ze="control_setting-active",Ve="control_setting_option-active",Ye=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&He(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Fe(t);if(n=e?(n=Fe(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===Ne(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Ue(o)}}(o);function o(){var t;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Me(Ue(t=n.call.apply(n,[this].concat(r))),"id","settings"),Me(Ue(t),"tip",Le.t(we)),Me(Ue(t),"onItemClick",(function(e){return function(){"switch"===e.type?(e.checked=!e.checked,e._switch.toggle(e.checked),e.change&&e.change(e.checked,t.player,e)):(t.renderOptions(),t.showOptionPage(e._optionEl))}})),Me(Ue(t),"onOptionClick",(function(e,n){return function(){e.value!==n.value&&(e.value=n.value,e.change)&&e.change(n.value,t.player,e),t.renderHome(),t.showHomePage(e._optionEl)}})),Me(Ue(t),"back",(function(e){return function(){t.showHomePage(e._optionEl)}})),Me(Ue(t),"show",(function(e){e&&O(e).includes(t.popover.el)||(t.tooltip.hide(),t.renderHome(),t.popover.show(),t.homeEl.style.display="",v(t.el,ze))})),Me(Ue(t),"hide",(function(e){e&&e.stopPropagation(),t.tooltip.show(),g(t.el,ze),t.currentOptionEl&&setTimeout((function(){return t.showHomePage(t.currentOptionEl)}),200)})),t}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"init",value:function(t,e,n){var o=this;(this.player=t,this.tooltip=n,v(this.el,"control_setting"),this.items=t.__settingItems,this.el.appendChild(De.cog()),this.popover=new ae(this.el,this.hide,{willChange:"width, height"}),this.homeEl=this.popover.panelEl.appendChild(h()),this.probeEl=this.el.appendChild(h()),n=this.probeEl.style).position="absolute",n.zIndex="-9",n.width="2px",n.height="1px",n.opacity="0",this.setPos(e),J(this,this.el,"click",this.show),Q(this,t.on(l.MOUNTED,(function(){return o.showHomePage()}))),this.items.forEach((function(e){return e.init&&e.init(t,e)})),this.renderHome()}},{key:"update",value:function(t){this.setPos(t)}},{key:"setPos",value:function(t){this.popover.resetPos(),2===t&&this.popover.setBottom()}},{key:"renderHome",value:function(){var t=this;this.items.forEach((function(e){var n=e._switch||e._selectedEl||e._optionEl?null:h(".control_setting_item");if(n&&(n.appendChild(h(void 0,void 0,e.html)),"switch"!==e.type)&&n.appendChild(h(".spacer")),"switch"===e.type)e._switch||(e._switch=new fe(n,e.checked));else{if(!e.options||!e.options.length)return;e._selectedEl||(v(n,"control_setting_item-select"),e._selectedEl=n.appendChild(h()));var o=e.options.find((function(t){return t.value===e.value}));if(!o)return;e._selectedEl.innerHTML=o.selectedHtml||o.html||""}e._optionEl&&(e._optionEl.style.display="none"),n&&(n.addEventListener("click",t.onItemClick(e)),t.homeEl.appendChild(n))}))}},{key:"renderOptions",value:function(){var t=this;this.items.forEach((function(e){var n;"switch"!==e.type&&(e._optionEl||(e._optionEl=t.popover.panelEl.appendChild(h()),(n=e._optionEl.appendChild(h(".control_setting_item.control_setting_back"))).innerHTML=e.html||"",n.addEventListener("click",t.back(e))),!e._optionEls&&e.options&&(e._optionEls=e.options.map((function(n){var o=e._optionEl.appendChild(h(".control_setting_option",void 0,n.html));return o.addEventListener("click",t.onOptionClick(e,n)),o}))),e._optionEls&&e._optionEls.forEach((function(t,n){g(t,Ve),e.value===e.options[n].value&&v(t,Ve)})),e._optionEl.style.display="none")}))}},{key:"showOptionPage",value:function(t){this.homeEl.style.display="none",t.style.display="";var e=(n=C(t)).width,n=n.height,o=(r=this.probeEl.getBoundingClientRect()).width,r=r.height>o;this.popover.applyPanelStyle({width:"".concat(r?n:e,"px"),height:"".concat(r?e:n,"px")}),this.currentOptionEl=t}},{key:"showHomePage",value:function(t){t&&(t.style.display="none"),this.homeEl.style.display="";var e=(t=C(this.homeEl)).width,n=(t=t.height,(o=this.probeEl.getBoundingClientRect()).width),o=o.height>n;this.popover.applyPanelStyle({width:"".concat(o?t:e,"px"),height:"".concat(o?e:t,"px")})}}]),o}(),We=["input","textarea","select"],Ge=(function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(Xe.prototype,[{key:"register",value:function(t,e){this.map[t]=e}},{key:"unregister",value:function(t){return delete this.map[t]}},{key:"dispose",value:function(){this.map&&($(this),this.map=null)}},{key:"enable",value:function(){this.disable(),J(this,this.player.el,"keydown",this.onKeyDown)}},{key:"disable",value:function(){$(this)}}]),Xe);function Xe(t,e){var n,o,r=this;if(!(this instanceof Xe))throw new TypeError("Cannot call a class as a function");function i(t){t.toast.show("".concat(Le.t(je)," ").concat(Math.round(100*t.volume),"%"),"left-bottom",500)}o=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)){if(n=document.activeElement){var e=n.tagName.toLowerCase(),n=n.getAttribute("contenteditable");if(-1<We.indexOf(e)||n||""===n)return}"number"!=typeof(e=t.keyCode||t.which)&&"[object Number]"!==R.call(e)||(n=!1,r.map[e]&&(r.map[e](r.player),n=!0,r.player.control.showTransient()),n&&(t.preventDefault(),t.stopPropagation()))}},(n="onKeyDown")in this?Object.defineProperty(this,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[n]=o,this.player=t,this.map=Object.create(null),this.register(27,(function(t){t.fullscreen.exit()||t.webFullscreen.exit()})),this.register(32,(function(t){return t.toggle()})),this.register(37,(function(t){t.rewind(),t.toast.show("- ".concat(t.opts.seekStep,"s"),"left-bottom",500)})),this.register(38,(function(t){t.incVolume(),i(t)})),this.register(39,(function(t){t.forward(),t.toast.show("+ ".concat(t.opts.seekStep,"s"),"left-bottom",500)})),this.register(40,(function(t){t.decVolume(),i(t)})),e&&this.enable()}function Ke(t){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ze(t,e){return(Ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $e(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var Je=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Ze(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Qe(t);if(n=e?(n=Qe(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===Ke(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return qe(o)}}(o);function o(){var t;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return $e(qe(t=n.call.apply(n,[this].concat(r))),"id","play"),$e(qe(t),"onPlay",(function(){m(t.pauseIcon),b(t.playIcon),t.tooltip.html=Le.t(Ee)})),$e(qe(t),"onPause",(function(){m(t.playIcon),b(t.pauseIcon),t.tooltip.html=Le.t(ke)})),t}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"init",value:function(t,e,n){this.tooltip=n,this.playIcon=this.el.appendChild(De.play()),this.pauseIcon=this.el.appendChild(De.pause()),t.paused?this.onPause():this.onPlay(),Q(this,t.on(l.PLAY,this.onPlay)),Q(this,t.on(l.PAUSE,this.onPause)),J(this,this.el,"click",t.toggle)}}]),o}();function tn(t){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function en(t,e){return(en=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rn(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var an=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),en(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=on(t);if(n=e?(n=on(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===tn(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return nn(o)}}(o);function o(){var t;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return rn(nn(t=n.call.apply(n,[this].concat(r))),"id","volume"),rn(nn(t),"onDragStart",(function(e){t.onDragging(e)})),rn(nn(t),"onDragging",(function(e){t.rect.update(),t.player.volume=Z((t.isVer?t.rect.height-e.clientY+t.rect.y:e.clientX-t.rect.x)/(t.isVer?t.rect.height:t.rect.width))})),rn(nn(t),"onVolumeChange",(function(){t.player.muted?t.mute():t.unmute(),t.bar.style.transform="scale".concat(t.isVer?"Y":"X","(").concat(t.player.volume,")")})),t}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"init",value:function(t,e,n){this.player=t,this.tooltip=n,this.isVer=t.opts.volumeVertical,v(this.el,"control_volume"),v(this.el,"control_volume-".concat(this.isVer?"ver":"hor")),this.isVer&&n.hide(),this.volumeIcon=this.el.appendChild(De.volume()),this.mutedIcon=this.el.appendChild(De.muted());var o=this.el.appendChild(h(".control_volume_bars"));n=t.opts.volumeBarLength,o.style[this.isVer?"height":"width"]=B(n)?n:"".concat(n,"px"),this.bar=o.appendChild(h(".control_volume_bar")),this.rect=new L(o,t),Q(this,t.on(l.VOLUME_CHANGE,this.onVolumeChange)),Q(this,new A(o,this.onDragStart,this.onDragging)),J(this,this.el,"click",(function(e){O(e).includes(o)||t.toggleVolume()})),t.opts.isTouch&&J(this,o,"touchstart",(function(t){return t.preventDefault()})),this.onVolumeChange()}},{key:"mute",value:function(){m(this.mutedIcon),b(this.volumeIcon),this.tooltip.html=Le.t(xe)}},{key:"unmute",value:function(){m(this.volumeIcon),b(this.mutedIcon),this.tooltip.html=Le.t(Oe)}}]),o}();function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sn(t,e){return(sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function un(t){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pn=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),sn(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=un(t);if(n=e?(n=un(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===ln(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return cn(o)}}(o);function o(){var t=this,e=o;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var r,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r="time","id"in(e=cn(t=n.call.apply(n,[this].concat(a))))?Object.defineProperty(e,"id",{value:r,enumerable:!0,configurable:!0,writable:!0}):e.id=r,t}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"init",value:function(t){var e=this;v(this.el,"control_time"),t.opts.live?(v(this.el,"control_time-live"),this.el.textContent=Le.t(Ie)):(this.playedEl=this.el.appendChild(h("span")),this.totalEl=this.el.appendChild(h("span")),this.played=t.currentTime,this.total=t.duration,Q(this,t.on(l.TIME_UPDATE,(function(){e.played=t.currentTime}))),Q(this,t.on(l.DURATION_CHANGE,(function(){e.total=t.duration}))))}},{key:"played",set:function(t){this.playedEl.textContent=nt(t)}},{key:"total",set:function(t){this.totalEl.textContent=nt(t)}}]),o}();function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hn(t,e){return(hn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yn(t){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mn(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var bn=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),hn(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=yn(t);if(n=e?(n=yn(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===fn(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return dn(o)}}(o);function o(){var t;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return mn(dn(t=n.call.apply(n,[this].concat(r))),"id","web-fullscreen"),mn(dn(t),"enter",(function(){m(t.exitIcon),b(t.enterIcon),t.tooltip.html=Le.t(_e)})),mn(dn(t),"exit",(function(){b(t.exitIcon),m(t.enterIcon),t.tooltip.html=Le.t(ge)})),t}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"init",value:function(t,e,n){this.tooltip=n,this.enterIcon=this.el.appendChild(De.webEnterFullscreen()),this.exitIcon=this.el.appendChild(De.webExitFullscreen()),t.webFullscreen.isActive?this.enter():this.exit(),Q(this,t.on(l.WEB_ENTER_FULLSCREEN,this.enter)),Q(this,t.on(l.WEB_EXIT_FULLSCREEN,this.exit)),J(this,this.el,"click",t.webFullscreen.toggle)}}]),o}();function vn(t){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gn(t,e){return(gn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wn(t){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kn(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var En=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),gn(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=wn(t);if(n=e?(n=wn(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===vn(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return _n(o)}}(o);function o(){var t;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return kn(_n(t=n.call.apply(n,[this].concat(r))),"id","fullscreen"),kn(_n(t),"enter",(function(){m(t.exitIcon),b(t.enterIcon),t.tooltip.html=Le.t(ve)})),kn(_n(t),"exit",(function(){b(t.exitIcon),m(t.enterIcon),t.tooltip.html=Le.t(be)})),t}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"init",value:function(t,e,n){this.tooltip=n,this.exitIcon=this.el.appendChild(De.exitFullscreen()),this.enterIcon=this.el.appendChild(De.enterFullscreen()),t.fullscreen.isActive?this.enter():this.exit(),Q(this,t.on(l.ENTER_FULLSCREEN,this.enter)),Q(this,t.on(l.EXIT_FULLSCREEN,this.exit)),J(this,this.el,"click",t.fullscreen.toggle)}}]),o}();function On(t){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xn(t,e){return(xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sn(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var Cn=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),xn(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Tn(t);if(n=e?(n=Tn(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===On(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Pn(o)}}(o);function o(){var t=this;if(!(t instanceof o))throw new TypeError("Cannot call a class as a function");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Sn(Pn(t=n.call.apply(n,[this].concat(r))),"id","airplay"),Sn(Pn(t),"tip",Le.t(Ae)),t}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"init",value:function(t){var e=this;this.isSupport()?(this.el.appendChild(De.airplay()),J(this,t.video,"webkitplaybacktargetavailabilitychanged",(function(t){("available"===t.availability?m:b)(e.el)})),J(this,this.el,"click",(function(){var e=t.video;e&&e.webkitShowPlaybackTargetPicker&&e.webkitShowPlaybackTargetPicker()}))):b(this.el)}},{key:"isSupport",value:function(){return!!window.WebKitPlaybackTargetAvailabilityEvent}}]),o}();function jn(t){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function An(t,e){return(An=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function In(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ln(t){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rn=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),An(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ln(t);if(n=e?(n=Ln(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===jn(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return In(o)}}(o);function o(t,e){var r,i;if(this instanceof o)return i={startSecond:0,gapSecond:10,col:5,row:5,width:160,height:90,images:[]},"opts"in(r=In(t=n.call(this,t,".thumb")))?Object.defineProperty(r,"opts",{value:i,enumerable:!0,configurable:!0,writable:!0}):r.opts=i,t.updateOptions(e),t.timeEl=t.el.appendChild(h(".thumb_time")),t.timeEl.textContent="0:00",t.rect=Q(In(t),new L(t.el)),t;throw new TypeError("Cannot call a class as a function")}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"getCurrentThumb",value:function(t){t=0|Math.max(t/this.opts.gapSecond-this.ssGapRatio,0);var e=this.opts.images[t/this.thumbImgPrePic|0];if(e)return{url:e,x:t%this.opts.col*this.opts.width,y:~~(t%this.thumbImgPrePic/this.opts.col)*this.opts.height}}},{key:"updateOptions",value:function(t){Object.assign(this.opts,t),this.opts.images.length&&(this.imgEl||(this.imgEl=this.el.appendChild(h(".thumb_img"))),this.imgEl.style.width="".concat(this.opts.width,"px"),this.imgEl.style.height="".concat(this.opts.height,"px"),this.thumbImgPrePic=this.opts.col*this.opts.row,this.ssGapRatio=this.opts.startSecond/this.opts.gapSecond)}},{key:"update",value:function(t,e,n){this.timeEl.textContent=nt(t),this.imgEl?(t=this.getCurrentThumb(t))&&(this.imgEl.style.backgroundImage="url(".concat(t.url,")"),this.imgEl.style.backgroundPosition="-".concat(t.x,"px -").concat(t.y,"px")):this.rect.update(),t=this.rect.width/2,this.applyStyle({left:"".concat(Z(e-t,0,Math.max(0,n-2*t)),"px")})}}]),o}();function Dn(t){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){return(Bn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mn(t){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hn(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var Un=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Bn(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Mn(t);if(n=e?(n=Mn(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===Dn(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Nn(o)}}(o);function o(){var t;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Hn(Nn(t=n.call.apply(n,[this].concat(r))),"id","progress"),Hn(Nn(t),"dragging",!1),Hn(Nn(t),"onDragStart",(function(e){t.dragging=!0,t.rect.update(),t.onDragging(e)})),Hn(Nn(t),"onDragging",(function(e){var n=t.rect.isHeightGtWidth,o=n?e.clientY-t.rect.y:e.clientX-t.rect.x;t.setPlayedBarLength(o/(n?t.rect.height:t.rect.width)),t.updateThumbnail(e)})),Hn(Nn(t),"onDragEnd",(function(e){t.dragging=!1;var n=t.rect.isHeightGtWidth;t.player.seek(t.getCurrentTime(n?e.clientY:e.clientX,n))})),Hn(Nn(t),"updateBufBar",(function(){if(!t.player.buffered.length)return t.setBufBarLength(0);var e=t.player.currentTime,n=0;t.player.eachBuffer((function(o,r){if(o<=e&&e<=r)return n=r/t.player.duration,!0})),t.setBufBarLength(n)})),Hn(Nn(t),"updatePlayedBar",(function(){t.dragging||t.setPlayedBarLength(t.player.currentTime/t.player.duration)})),t}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"init",value:function(t){var e=this;this.player=t,v(this.el,"progress"),this.bars=this.el.appendChild(h(".progress_bars")),this.bufBar=this.bars.appendChild(h(".progress_buf")),this.playedBar=this.bars.appendChild(h(".progress_played")),this.dot=this.el.appendChild(h(".progress_dot")),this.dot.appendChild(t.opts.progressDot||h(".progress_dot_inner")),this.rect=Q(this,new L(this.bars,t)),this.thumbnail=Q(this,new Rn(this.el,t.opts.thumbnail)),Q(this,new A(this.el,this.onDragStart,this.onDragging,this.onDragEnd)),Q(this,t.on(l.TIME_UPDATE,this.updatePlayedBar)),Q(this,t.on(l.PROGRESS,this.updateBufBar)),Q(this,t.on(l.UPDATE_OPTIONS,(function(){return e.thumbnail.updateOptions(t.opts.thumbnail)}))),Q(this,t.on(l.UPDATE_SIZE,(function(){t.playing||e.resetPlayedBar()}))),Q(this,t.on(l.CONTROL_ITEM_UPDATE,(function(){e.rect.update(),e.resetPlayedBar()}))),J(this,this.el,"mousemove",tt((function(t){return e.updateThumbnail(t)})),!0),t.opts.isTouch&&J(this,this.el,"touchstart",(function(t){return t.preventDefault()}))}},{key:"resetPlayedBar",value:function(){this.setPlayedBarLength(this.player.currentTime/this.player.duration)}},{key:"setPlayedBarLength",value:function(t){this.playedBar.style.transform="scaleX(".concat(Z(t),")");var e=this.rect.isHeightGtWidth?this.rect.height:this.rect.width;this.dot.style.transform="translate(".concat(Z(t*e,0,e),"px, -50%)")}},{key:"setBufBarLength",value:function(t){this.bufBar.style.transform="scaleX(".concat(Z(t),")")}},{key:"updateThumbnail",value:function(t){this.rect.update();var e=this.rect.isHeightGtWidth;t=e?t.clientY:t.clientX,this.thumbnail.update(this.getCurrentTime(t,e),t-(e?this.rect.y:this.rect.x),e?this.rect.height:this.rect.width)}},{key:"getCurrentTime",value:function(t,e){return Z((t-(e?this.rect.y:this.rect.x))/(e?this.rect.height:this.rect.width))*this.player.duration}}]),o}();function Fn(t,e,n){function o(e){return t.emit(n,e)}return t.video.addEventListener(e,o),{dispose:function(){return t.video.removeEventListener(e,o)}}}function zn(t,e,n,o,r){var i=3<arguments.length&&void 0!==o?o:t.video,a=4<arguments.length&&void 0!==r?r:function(e){t.emit(n,e)};return i.addEventListener(e,tt(a)),{dispose:function(){return i.removeEventListener(e,a)}}}function Vn(t,e){t=t.style,e.themeColor&&t.setProperty("--theme-color",e.themeColor),e.progressBg&&t.setProperty("--progress-bg",e.progressBg),e.posterBgColor&&t.setProperty("--poster-bg-color",e.posterBgColor),e.volumeProgressBg&&t.setProperty("--volume-progress-bg",e.volumeProgressBg)}function Yn(t,e){var n;e&&(t.innerHTML="",e.length)&&(n=document.createDocumentFragment(),e.forEach((function(t){var e=document.createElement("source");Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])})),n.appendChild(e)})),t.appendChild(n))}var Wn="nplayer:volume";function Gn(t){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e){return(Xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zn(t){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qn="checkbox-active",Qn=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Xn(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Zn(t);if(n=e?(n=Zn(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===Gn(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Kn(o)}}(o);function o(t,e){var r;if(this instanceof o)return r=n.call(this,t,".checkbox"),e.html&&(r.el.innerHTML=e.html),e.change&&J(Kn(r),r.el,"click",(function(){w(r.el,qn),e.change(_(r.el,qn))})),e.checked&&v(r.el,qn),r;throw new TypeError("Cannot call a class as a function")}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"update",value:function(t){w(this.el,qn,t)}}]),o}();function $n(t){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jn(t,e){return(Jn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function to(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eo(t){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var no=function(){var t=o,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Jn(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=eo(t);if(n=e?(n=eo(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===$n(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return to(o)}}(o);function o(t,e){var r,i,a;if(this instanceof o)return i=function(t){var e=r.rect.isHeightGtWidth;t=e?t.clientY-r.rect.y:t.clientX-r.rect.x,r.update(t/(e?r.rect.height:r.rect.width),t)},"onDrag"in(t=to(r=n.call(this,t,".slider")))?Object.defineProperty(t,"onDrag",{value:i,enumerable:!0,configurable:!0,writable:!0}):t.onDrag=i,r.opts=e,r.rect=new L(r.el),r.trackEl=r.el.appendChild(h(".slider_track")).appendChild(h(".slider_track_inner")),e.stops&&e.stops.forEach((function(t){(a=h(".slider_stop",void 0,t.html?"<span>".concat(t.html,"</span>"):"")).style.left="".concat(100*t.value,"%"),r.el.appendChild(a)})),r.dotEl=r.el.appendChild(h(".slider_dot")),Q(to(r),new A(r.el,(function(t){r.rect.update(),r.onDrag(t)}),r.onDrag)),J(to(r),r.el,"touchstart",(function(t){return t.preventDefault()})),r.step=e.stops&&e.step,r.update(e.value||0,void 0,!1),r;throw new TypeError("Cannot call a class as a function")}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(o.prototype,[{key:"update",value:function(t,e){var n,o,r,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],a=(this.step&&(o=1/0,r=0,this.opts.stops.forEach((function(e){(n=Math.abs(t-e.value))<o&&(o=n,r=e.value)})),t=r,e=null),this.rect.isHeightGtWidth?this.rect.height:this.rect.width);e=null!=e?e:t*a,this.trackEl.style.transform="scaleX(".concat(Z(t),")"),this.dotEl.style.transform="translateX(".concat(Z(e,0,a),"px)"),i&&this.opts.change&&this.opts.change(t)}}]),o}();function oo(t){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ro(t,e){return(ro=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function io(t,e){if(e&&("object"===oo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ao(t)}function ao(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lo(t){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function so(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var co=function(){var t=i,e=z;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),ro(t,e),n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();var n,o,r=function(){var t,e=lo(n);return io(this,o?(t=lo(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))};function i(t,e){var n;if(this instanceof i)return so(ao(n=r.call(this,t,".poster")),"tryToPlayed",!1),so(ao(n),"onTimeUpdate",(function(){n.player.playing&&(n.tryToPlayed=!0,n.hide(),n.player.off(l.TIME_UPDATE,n.onTimeUpdate))})),so(ao(n),"tryHide",(function(){n.tryToPlayed&&n.hide()})),n.player=e,n.poster=e.opts.poster,n.playEl=e.opts.posterPlayEl||De.play(),v(n.playEl,"poster_play"),n.el.appendChild(n.playEl),n.hide(),e.opts.posterEnable?(n.show(),n.poster&&n.applyStyle({backgroundImage:"url(".concat(n.poster,")")}),J(ao(n),n.el,"click",(function(){n.tryToPlayed?(m(n.playEl),e.pause(),n.tryToPlayed=!1):(n.tryToPlayed=!0,e.loaded?n.hide():(b(n.playEl),e.loading.show()),e.play())})),Q(ao(n),e.on(l.CANPLAY,n.tryHide)),Q(ao(n),e.on(l.LOADED_METADATA,n.tryHide)),Q(ao(n),e.on(l.UPDATE_OPTIONS,(function(){e.opts.poster&&e.opts.poster!==n.poster&&!e.playing&&(n.poster=e.opts.poster,n.applyStyle({backgroundImage:"url(".concat(n.poster,")")}),n.tryToPlayed=!1,n.addTimeUpdateHandler(),n.show())}))),n.addTimeUpdateHandler(),n):io(n);throw new TypeError("Cannot call a class as a function")}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(i.prototype,[{key:"addTimeUpdateHandler",value:function(){this.player.off(l.TIME_UPDATE,this.onTimeUpdate),this.player.on(l.TIME_UPDATE,this.onTimeUpdate)}},{key:"isActive",get:function(){return"none"!==this.el.style.display}},{key:"show",value:function(){m(this.el),m(this.playEl)}},{key:"hide",value:function(){b(this.el)}}]),i}();function uo(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}!function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(fo.prototype,[{key:"enable",value:function(){this.player.video.addEventListener("touchstart",this.onTouchStart),this.player.video.addEventListener("touchmove",this.onTouchMove),this.player.video.addEventListener("touchend",this.onTouchEnd),this.player.video.addEventListener("touchcancel",this.onTouchEnd)}},{key:"disable",value:function(){this.player.video.removeEventListener("touchstart",this.onTouchStart),this.player.video.removeEventListener("touchmove",this.onTouchMove),this.player.video.removeEventListener("touchend",this.onTouchEnd),this.player.video.removeEventListener("touchcancel",this.onTouchEnd)}},{key:"dispose",value:function(){this.toastItem&&this.player.toast.close(this.toastItem),this.disable()}}]);var po=fo;function fo(t){var e=this;if(!(this instanceof fo))throw new TypeError("Cannot call a class as a function");uo(this,"startX",0),uo(this,"duration",0),uo(this,"durationStr",""),uo(this,"currentTime",0),uo(this,"seekTime",-1),uo(this,"videoTouched",!1),uo(this,"dragged",!1),uo(this,"onTouchStart",(function(t){1===t.touches.length&&(t.preventDefault(),e.videoTouched?(clearTimeout(e.showControlTimer),e.videoTouched=!1,e.player.toggle()):(e.videoTouched=!0,e.showControlTimer=setTimeout((function(){e.videoTouched=!1;var t=e.player.control;t.isActive?t.hide():t.showTransient()}),200)))})),uo(this,"onTouchMove",tt((function(t){var n;1===t.touches.length&&(t.preventDefault(),e.dragged?(n=t.touches[0].clientX-e.startX,Math.abs(n)<15||(e.seekTime=0|Z(e.currentTime+n/5,0,e.duration),e.toastItem=e.player.toast.show("".concat(nt(e.seekTime)," · ").concat(e.durationStr),"center",0))):(e.duration=e.player.duration,!e.player.opts.live&&e.duration&&(e.durationStr=nt(e.duration),e.currentTime=e.player.currentTime,e.startX=t.touches[0].clientX,e.seekTime=-1,e.dragged=!0)))}))),uo(this,"onTouchEnd",(function(){e.dragged&&(e.dragged=!1,e.toastItem&&setTimeout((function(){return e.player.toast.close(e.toastItem)}),200),0<=e.seekTime)&&3<Math.abs(e.seekTime-e.player.currentTime)&&(e.player.currentTime=e.seekTime)})),(this.player=t).opts.isTouch&&this.enable()}function ho(t){return(ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yo(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)),o}function mo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yo(Object(n),!0).forEach((function(e){_o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bo(t,e){return(bo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function go(t){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _o(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var wo=function(){var t=r,e=U;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),bo(t,e);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=go(t);if(n=e?(n=go(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,n&&("object"===ho(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return vo(o)}}(r);function r(t){var e,i,a,s,c;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");_o(vo(e=n.call(this)),"mounted",!1),_o(vo(e),"prevVolume",1),_o(vo(e),"settingNamedMap",Object.create(null)),_o(vo(e),"contextmenuNamedMap",Object.create(null)),_o(vo(e),"controlNamedMap",Object.create(null)),_o(vo(e),"plugins",new Set),_o(vo(e),"toggle",(function(){e.paused?e.play():e.pause()})),e.opts=((s=o(o({},{shortcut:!0,seekStep:10,volumeStep:.1,volumeBarLength:100,settings:["speed"],contextMenus:["loop","pip","version"],contextMenuToggle:!0,openEdgeInIE:!0,posterEnable:!0,videoProps:{preload:"auto",playsinline:"true"}}),{},{isTouch:"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints},t)).controls=s.controls||[["play",s.isTouch?"":"volume","time","spacer","airplay","settings","web-fullscreen","fullscreen"],[s.live?"":"progress"]],s.bpControls=s.bpControls||{650:[["play",s.live?"":"progress","time","web-fullscreen","fullscreen"],[],["spacer","airplay","settings"]]},s.controls=s.controls.filter(Boolean).map((function(t){return t.filter(Boolean)})),c={},Object.keys(s.bpControls).filter((function(t){return t&&!isNaN(Number(t))&&Array.isArray(s.bpControls[t])})).forEach((function(t){c[t]=s.bpControls[t].filter(Boolean).map((function(t){return t.filter(Boolean)}))})),s.bpControls=c,s),(t=vo(e)).opts.openEdgeInIE&&p&&(window.location.assign("microsoft-edge:".concat(document.URL)),t.emit(l.OPEN_EDGE)),Le.setCurrentLang(e.opts.i18n),e.container=d(e.opts.container),e.el=h(".nplayer",{tabindex:"0"},void 0,""),e.opts.video?(e.video=e.opts.video,v(e.video,"video")):e.video=h("video.video"),e.opts.src&&(e.opts.videoProps.src=e.opts.src),Vn(e.el,e.opts),i=e.video,(a=e.opts.videoProps)&&Object.keys(a).forEach((function(t){i.setAttribute(t,a[t])})),Yn(e.video,e.opts.videoSources);var u=e.video;try{var f=parseFloat(localStorage.getItem(Wn));isNaN(f)||(u.volume=f)}catch(u){}return function(t){function e(e){Q(t,e)}var n;e(Fn(t,"durationchange",l.DURATION_CHANGE)),e(Fn(t,"ratechange",l.RATE_CHANGE)),e(Fn(t,"play",l.PLAY)),e(Fn(t,"pause",l.PAUSE)),e(Fn(t,"ended",l.ENDED)),e(Fn(t,"waiting",l.WAITING)),e(Fn(t,"stalled",l.STALLED)),e(Fn(t,"canplay",l.CANPLAY)),e(Fn(t,"loadedmetadata",l.LOADED_METADATA)),e(Fn(t,"error",l.ERROR)),e(Fn(t,"seeked",l.SEEKED)),e(Fn(t,"enterpictureinpicture",l.ENTER_PIP)),e(Fn(t,"leavepictureinpicture",l.EXIT_PIP)),e(zn(t,"timeupdate",l.TIME_UPDATE)),e(zn(t,"volumechange",l.VOLUME_CHANGE)),e(zn(t,"progress",l.PROGRESS)),e(zn(t,"resize",l.UPDATE_SIZE,window,(function(e){var n;(n=t)&&n.rect.changed&&n.emit(l.UPDATE_SIZE,e)}))),window.ResizeObserver&&((n=new ResizeObserver(tt((function(){return t.emit(l.UPDATE_SIZE)})))).observe(t.el),e({dispose:function(){return n.disconnect()}})),t.on(l.LOADED_METADATA,(function(){t.video.paused?t.emit(l.PAUSE):t.emit(l.PLAY)}))}(vo(e)),e.el.appendChild(e.video),(t=vo(e)).registerContextMenuItem({id:"loop",html:Le.t(Ce),show:function(t,e){e.checked=t.loop},click:function(t,e){e.checked=t.loop=!t.loop}}),t.registerContextMenuItem({id:"pip",html:Le.t(Se),init:function(){this.invisible=!("pictureInPictureEnabled"in document)},click:function(t){t.loaded&&(document.pictureInPictureElement!==t.video?t.video.requestPictureInPicture():document.exitPictureInPicture())}}),t.registerContextMenuItem({id:"version",html:"NPlayer v".concat("1.0.13"),disabled:!0}),t.registerSettingItem({id:"speed",html:Le.t(Te),type:"select",value:1,options:[{value:.25,html:"0.25"},{value:.5,html:"0.5"},{value:1,html:Le.t(Pe)},{value:1.5,html:"1.5"},{value:2,html:"2"}],init:function(t,e){if(e.options)for(var n=t.playbackRate,o=0,r=e.options.length;o<r;o++)if(e.options[o].value===n)return void(e.value=n);t.playbackRate=1},change:function(t,e){this.value=e.playbackRate=t}}),t.registerControlItem(new Je),t.registerControlItem(new an),t.registerControlItem(new pn),t.registerControlItem(new Ye),t.registerControlItem(new bn),t.registerControlItem(new En),t.registerControlItem(new Cn),t.registerControlItem(new Un),e.rect=Q(vo(e),new L(e.el,vo(e))),e.fullscreen=Q(vo(e),new Zt(vo(e))),e.webFullscreen=Q(vo(e),new $t(vo(e))),e.shortcut=Q(vo(e),new Ge(vo(e),e.opts.shortcut)),e.touch=Q(vo(e),new po(vo(e))),e.toast=Q(vo(e),new Gt(e.el)),e.loading=Q(vo(e),new At(e.el,vo(e))),e.poster=Q(vo(e),new co(e.el,vo(e))),e.opts.plugins&&e.opts.plugins.forEach((function(t){return e.use(t)})),e.contextmenu=Q(vo(e),new Nt(e.el,vo(e),e.opts.contextMenus.map((function(t){return B(t)?e.contextmenuNamedMap[t]:t})).filter(Boolean))),e.__settingItems=e.opts.settings.map((function(t){return B(t)?e.settingNamedMap[t]:t})).filter(Boolean),e.control=Q(vo(e),new Ot(e.el,vo(e))),Q(vo(e),e.on(l.CANPLAY,(function(){var t=e.opts.autoSeekTime||.3;e.currentTime<t&&(e.currentTime=t,e.currentTime<t)&&(e.video.load(),e.video.pause()),e.opts.autoSeekTime=0}))),e.opts.isTouch||e.enableClickPause(),e.emit(l.AFTER_INIT),e}return function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(r.prototype,[{key:"currentTime",get:function(){return this.video.currentTime},set:function(t){this.duration&&t-this.video.currentTime&&(this.video.currentTime=Z(t,0,this.duration))}},{key:"loaded",get:function(){return 3<=this.video.readyState}},{key:"duration",get:function(){return this.video.duration||0}},{key:"buffered",get:function(){return this.video.buffered}},{key:"volume",get:function(){return this.video.volume},set:function(t){this.video.volume=Z(t),this.muted&&0<t&&(this.muted=!1);var e=this.video.volume;try{localStorage.setItem(Wn,String(e))}catch(e){}}},{key:"muted",get:function(){return this.video.muted||0===this.volume},set:function(t){this.video.muted=t}},{key:"playbackRate",get:function(){return this.video.playbackRate},set:function(t){this.video.playbackRate=t}},{key:"ended",get:function(){return this.video.ended}},{key:"paused",get:function(){return this.video.paused}},{key:"playing",get:function(){return!this.paused&&!this.ended}},{key:"loop",get:function(){return this.video.loop},set:function(t){this.video.loop=t}},{key:"enableClickPause",value:function(){this.video.addEventListener("click",this.toggle)}},{key:"disableClickPause",value:function(){this.video.removeEventListener("click",this.toggle)}},{key:"use",value:function(t){return t&&!this.plugins.has(t)&&(t.dispose&&Q(this,t),t.apply(this)),this}},{key:"mount",value:function(t){this.mounted?(t=d(t))&&t!==this.container&&(this.container&&this.container.removeChild(this.el),this.container=t,this.container.appendChild(this.el),this.emit(l.UPDATE_SIZE)):(t&&(this.container=d(t)||this.container),this.container&&(this.container.appendChild(this.el),this.emit(l.MOUNTED),this.mounted=!0))}},{key:"incVolume",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.opts.volumeStep;this.volume+=t}},{key:"decVolume",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.opts.volumeStep;this.volume-=t}},{key:"forward",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.opts.seekStep;this.currentTime+=t}},{key:"rewind",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.opts.seekStep;this.currentTime-=t}},{key:"play",value:function(){return this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"seek",value:function(t){this.video.currentTime=Z(t,0,this.duration)}},{key:"toggleVolume",value:function(){this.muted?(this.volume=this.prevVolume||1,this.muted=!1):(this.prevVolume=this.volume,this.volume=0)}},{key:"eachBuffer",value:function(t){for(var e=this.buffered.length-1;0<=e&&!t(this.buffered.start(e),this.buffered.end(e));e--);}},{key:"registerSettingItem",value:function(t,e){this.settingNamedMap[e||t.id]=t}},{key:"registerContextMenuItem",value:function(t,e){this.contextmenuNamedMap[e||t.id]=t}},{key:"registerControlItem",value:function(t,e){this.controlNamedMap[e||t.id]=t}},{key:"getSettingItem",value:function(t){return this.settingNamedMap[t]}},{key:"getContextMenuItem",value:function(t){return this.contextmenuNamedMap[t]}},{key:"getControlItem",value:function(t){return this.controlNamedMap[t]}},{key:"updateOptions",value:function(t){t.videoProps!==this.opts.videoProps&&function(t,e,n){var o,r;void 0!==n&&(Object.keys(n).forEach((function(i){var a,l,s;o=e[i],r=n[i],"style"===i?(a=t,l=o,void 0!==(s=r)&&(s?(Object.keys(s).forEach((function(t){a.style[t]=s[t]||""})),Object.keys(l).forEach((function(t){t in s||(a.style[t]="")}))):a.removeAttribute("style"))):o!==r&&K(t,i,r)})),Object.keys(e).forEach((function(e){e in n||K(t,e,void 0)})))}(this.video,this.opts.videoProps,t.videoProps),t.src&&t.src!==this.opts.src&&(this.video.src=t.src),t.videoSources!==this.opts.videoSources&&Yn(this.video,t.videoSources),this.opts=mo(mo({},this.opts),t),Vn(this.el,this.opts),this.opts.shortcut?this.shortcut.enable():this.shortcut.disable(),this.emit(l.UPDATE_OPTIONS,this.opts)}},{key:"updateControlItems",value:function(t,e){this.control.updateItems(t,e)}},{key:"dispose",value:function(){var t;this.el&&(this.emit(l.BEFORE_DISPOSE),$(this),(t=this.opts.plugins)&&t.forEach((function(t){return t.dispose&&t.dispose()})),this.removeAllListeners(),y(this.el),this.el=null,this.container=null)}}]),r}();_o(wo,"__utils",u),_o(wo,"EVENT",l),_o(wo,"I18n",Le),_o(wo,"Icon",De),_o(wo,"components",t),_o(wo,"Player",wo),(wo.prototype.Player=wo).prototype.EVENT=l}(),r)},kWh2:function(t,e,n){"use strict";var o=n("dxB+"),r=n("hgw9"),i=n("wnEH"),a=n("vHVK")("toStringTag"),l=Object,s="Arguments"===i(function(){return arguments}());t.exports=o?i:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=l(t),a))?e:s?i(t):"Object"===(e=i(t))&&r(t.callee)?"Arguments":e}},"5u0C":function(t,e,n){"use strict";var o=n("lMFB"),r=n("iAz1");t.exports=function(t,e,n){return n.get&&o(n.get,e,{getter:!0}),n.set&&o(n.set,e,{setter:!0}),r.f(t,e,n)}},"dxB+":function(t,e,n){"use strict";var o={};o[n("vHVK")("toStringTag")]="z",t.exports="[object z]"===String(o)},"/uDU":function(t,e,n){"use strict";var o=n("kWh2"),r=String;t.exports=function(t){if("Symbol"===o(t))throw new TypeError("Cannot convert a Symbol value to a string");return r(t)}},"0MaD":function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},kvaN:function(t,e,n){"use strict";var o=n("P6Ci"),r=n("VWI/"),i=n("/uDU"),a=n("0MaD"),l=(n=URLSearchParams).prototype,s=r(l.append),c=r(l.delete),u=r(l.forEach),p=r([].push);(r=new n("a=1&a=2&b=3")).delete("a",1),r.delete("b",void 0),r+""!="a=2"&&o(l,"delete",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return c(this,t);for(var o,r=[],l=(u(this,(function(t,e){p(r,{key:e,value:t})})),a(e,1),i(t)),f=i(n),h=0,d=0,y=!1,m=r.length;h<m;)o=r[h++],y||o.key===l?(y=!0,c(this,o.key)):d++;for(;d<m;)(o=r[d++]).key===l&&o.value===f||s(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},"o5/U":function(t,e,n){"use strict";var o=n("P6Ci"),r=n("VWI/"),i=n("/uDU"),a=n("0MaD"),l=(n=URLSearchParams).prototype,s=r(l.getAll),c=r(l.has);!(r=new n("a=1")).has("a",2)&&r.has("a",void 0)||o(l,"has",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return c(this,t);for(var o=s(this,t),r=(a(e,1),i(n)),l=0;l<o.length;)if(o[l++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},pacc:function(t,e,n){"use strict";var o=n("S4+I"),r=n("VWI/"),i=(n=n("5u0C"),URLSearchParams.prototype),a=r(i.forEach);!o||"size"in i||n(i,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})}}]);
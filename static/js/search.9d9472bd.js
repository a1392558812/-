"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[187],{sYlY:function(e,t){t.A={leftSidebarW:{type:String,default:"300px"},ifLarger:{type:Boolean,default:!0},ifShowMenu:{type:Boolean,default:!0},toggleMenu:{type:Function,default:()=>{}},headerH:{type:String,default:"70px"}}},GZrv:function(e,t,l){l.d(t,{A:function(){return P}});var i=l("XEAi"),n=(l("60oc"),l("oekR")),a=l("MLNC"),s=l("yaf4"),r=l("Ip76"),o=(t=l("jZ9z"),l("DTtR")),c=l("LNhG"),u=l("sYlY"),d={name:"left-sidebar-item",props:{grade:{type:Number,default:-1},rowDetails:{type:Object,default:()=>({})},menuList:{type:Array,default:()=>[]},firstLevelIndex:{type:Number,default:-1},ifShow:{type:Boolean,default:!0},nowActive:{type:[Number,null],default:null}},setup(e,{emit:t}){const l=(0,n.QW)(e).rowDetails;var a=(0,i.EW)((()=>e.grade+1));const s=(0,i.EW)((()=>l.value&&l.value.children?l.value.children:[]));var r=(0,i.EW)((()=>s.value.length?"div":"a")),o=(0,i.EW)((()=>s.value.length?{}:{href:"/#/?indexPage="+l.value.indexPage})),c=(0,i.EW)((()=>({marginLeft:"1em",display:l.value.ifShow?"block":"none"}))),u=(0,i.EW)((()=>"ifHadRender"in l.value&&l.value.ifHadRender&&"ifShow"in l.value)),d=(0,i.EW)((()=>{let e="cursor-pointer cell";return l.value.link?e+=" link-cell":e=e+" "+(s.value.length?"list-cell":"display-block item-cell"),l.value.itemActive&&(e+=" item-active"),e}));return{tag:r,currentGrade:a,renderList:s,hrefMap:o,className:d,titleStyleName:c,ifRender:u,listClick:(e,l,i)=>{e.stopPropagation(),t("listClick",e,l,i)},itemClick:(e,l,i,n)=>{e.stopPropagation(),e.preventDefault(),t("itemClick",e,l,i,n)}}},render(){var e=this.tag;return this.rowDetails&&this.rowDetails.name?(0,i.bF)(e,(0,i.v6)({class:this.className},this.hrefMap,{title:this.rowDetails.name,onClick:e=>{this.renderList.length?this.listClick(e,this.rowDetails,this.firstLevelIndex):this.itemClick(e,this.menuList,this.rowDetails,this.firstLevelIndex)},key:this.rowDetails.index}),{default:()=>[0===this.currentGrade&&this.nowActive===this.firstLevelIndex?(0,i.bF)("div",{class:"list-active"},null):null,(0,i.bF)("div",{onClick:e=>{this.renderList.length?this.listClick(e,this.rowDetails,this.firstLevelIndex):this.itemClick(e,this.menuList,this.rowDetails,this.firstLevelIndex)},class:"cell-item-title"},[this.renderList.length?(0,i.bF)("svg",{class:"icon",style:{transform:`rotate(${this.rowDetails.ifShow?90:0}deg)`,transition:"all 0.3s",marginTop:"-2.5px",width:"1em",height:"1em",verticalAlign:"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"34097"},[(0,i.bF)("path",{d:"M349.184 208.384l346.624 261.632c22.528 16.896 27.136 49.152 10.24 71.68-3.072 3.584-6.144 7.168-10.24 10.24l-346.624 261.632c-11.264 8.704-27.136 6.144-35.84-5.12-3.584-4.608-5.12-9.728-5.12-15.36V228.864c0-14.336 11.264-25.6 25.6-25.6 5.12 0 10.752 2.048 15.36 5.12z","p-id":"34098"},null)]):null,(0,i.bF)("span",null,[this.rowDetails.name]),this.rowDetails.link?(0,i.bF)("div",{class:"cell-item-link display-inline"},[(0,i.eW)("链接")]):null,this.rowDetails.topping?(0,i.bF)("div",{class:"topping display-inline"},[(0,i.eW)("置顶")]):null]),this.ifRender?(0,i.bF)("div",{style:this.titleStyleName},[this.renderList.map(((e,t)=>(0,i.bF)((0,i.g2)("left-sidebar-item"),{rowDetails:e,menuList:this.renderList,nowActive:this.nowActive,key:t,ifShow:this.rowDetails.ifShow,firstLevelIndex:this.firstLevelIndex,grade:this.currentGrade,onListClick:this.listClick,onItemClick:this.itemClick},null)))]):null]}):null}},h=l("uaZu"),f=(0,h.A)(d,[["__scopeId","data-v-22a7dfbe"]]),v=(d=l("zcGJ"),l("gw9Z")),m=l("n/QL"),g=e=>((0,i.Qi)("data-v-270acaa0"),e=e(),(0,i.jt)(),e);const p={ref:"target",style:{"z-index":"1"},class:"relative cell list-cell"},w={style:{width:"1em",height:"1em","margin-left":"-2px","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"27655"},k=[g((()=>(0,i.Lk)("path",{d:"M0 1024h1024v-170.666667H0v170.666667z m0-426.666667h1024V426.666667H0v170.666666z m0-597.333333v170.666667h1024V0H0z","p-id":"27656"},null,-1)))],L={class:"relative width100 height100 flex align-items-center justify-content-space-between"},b={class:"relative"},C={class:"input relative"},y={class:"icon absolute align-center-y",style:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3269"},x=[g((()=>(0,i.Lk)("path",{d:"M416 192C537.6 192 640 294.4 640 416S537.6 640 416 640 192 537.6 192 416 294.4 192 416 192M416 128C256 128 128 256 128 416S256 704 416 704 704 576 704 416 576 128 416 128L416 128zM832 864c-6.4 0-19.2 0-25.6-6.4l-192-192c-12.8-12.8-12.8-32 0-44.8s32-12.8 44.8 0l192 192c12.8 12.8 12.8 32 0 44.8C851.2 864 838.4 864 832 864z","p-id":"3270"},null,-1)))],A={key:0,class:"absolute bg-white drop-down"},S=["href","onClick"];var D=l("KLu4"),R=l("XdTV"),I=(g={name:"LeftSidebarSearch",components:{commonmBtn:d.A},props:{list:{type:Array,default:()=>[]},toggleMenu:{type:Function,default:()=>{}}},setup(e,{emit:t}){const l=(0,n.KR)(""),i=(0,n.KR)([]),s=(0,a.rd)();var r=(0,n.KR)(null);const o=(0,n.KR)(!1),c=()=>{e.toggleMenu(!1),s.push({path:"/search",query:{key:encodeURI(l.value)?l.value:""}})};return(0,D.X2F)(r,(e=>{o.value=!1})),(0,R.rN)(l,(()=>{if(""===l.value)i.value=[];else{let t=10;const n=[],a=e=>{if(e.children&&t)for(let s=0;s<e.children.length&&t;s++){e.children[s].children&&a(e.children[s]);var i=l.value.trim().toLowerCase();e.children[s]&&e.children[s].name&&-1!==e.children[s].name.trim().toLowerCase().indexOf(i)&&(t--,n.push(e.children[s]))}};for(let l=0;l<e.list.length&&t;l++)a(e.list[l]);n.length?(5<=n.length&&n.push({name:"更多....",goSearch:!0}),i.value=n):i.value=[{name:"暂无搜索结果",noResult:!0}]}}),{debounce:600}),{inputValue:l,target:r,searchResult:i,ifShowSearchDropDown:o,goToDetail:(e,l)=>{if(l.preventDefault(),!e.noResult)return e.goSearch?c():(s.push({path:"/",query:{indexPage:e.indexPage}}),e.link?t("searchLinkClick",e.link):void t("searchItemClick",e.url))},menuListCloseAll:()=>{t("menuListCloseAll")},search:c}}},(0,h.A)(g,[["render",function(e,t,l,n,a,s){var r=(0,i.g2)("commonm-btn");return(0,i.uX)(),(0,i.CE)("div",p,[(0,i.Lk)("div",{title:"整理菜单",class:"absolute align-center-y flex align-items-center justify-content-center cursor-pointer menu-list-close",onClick:t[0]||(t[0]=(...e)=>n.menuListCloseAll&&n.menuListCloseAll(...e))},[((0,i.uX)(),(0,i.CE)("svg",w,k))]),(0,i.Lk)("div",L,[(0,i.Lk)("div",b,[(0,i.Lk)("div",C,[((0,i.uX)(),(0,i.CE)("svg",y,x)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.inputValue=e),class:"display-block search-input",type:"text",onFocus:t[2]||(t[2]=e=>n.ifShowSearchDropDown=!0)},null,544),[[v.Jo,n.inputValue]])]),n.searchResult.length&&n.ifShowSearchDropDown?((0,i.uX)(),(0,i.CE)("ul",A,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.searchResult,(e=>((0,i.uX)(),(0,i.CE)("li",{key:e,class:(0,m.C4)(["cursor-pointer drop-down-item",e.goSearch?"flex align-items-center justify-content-center more-content":""])},[(0,i.Lk)("a",{class:"drop-down-item-label",href:"/#/?indexPage="+e.indexPage,onClick:function(t){n.goToDetail(e,t)}},(0,m.v_)(e.name),9,S)],2)))),128))])):(0,i.Q3)("",!0)]),(0,i.bF)(r,{onClick:n.search},{default:(0,i.k6)((()=>[(0,i.eW)(" 搜索 ")])),_:1},8,["onClick"])])],512)}],["__scopeId","data-v-270acaa0"]])),F=l("8w0y");r.Ay.use(t.A),r.Ay.use(o.A),r.Ay.use(c.A),g={name:"LeftSidebar",components:{leftSidebarItem:f,leftSidebarSearch:I,commonmBtn:d.A},props:{...u.A},setup(e,{emit:t}){const l=(0,s.Pj)(),o=(0,i.EW)((()=>l.state.menuList)),c=(0,a.rd)(),u=(0,a.lq)();let d=null;const h=(0,n.KR)(null),f=(0,n.KR)(null),v=()=>{d&&d.destroy(),d=null};return(0,i.wB)((()=>e.ifLarger),(e=>{l.dispatch(F.XK).then((()=>{e&&o.value.length?(0,i.dY)().then((()=>{v(),d=new r.Ay(h.value,{click:!0,observeDOM:!0,bounce:!1,scrollbar:{fade:!1,interactive:!0,scrollbarTrackClickable:!0},mouseWheel:{speed:20,invert:!1,easeTime:300}})})):v()}))}),{immediate:!0}),(0,i.xo)((()=>{v()})),{menuList:o,nowActive:f,listContentRef:h,menuListCloseAll:()=>{null!==f.value&&(l.dispatch(F.x5),f.value=null,e.ifLarger?d.scrollTo(0,0):h.value.parentNode.scrollTop=0)},sidebarClassName:(0,i.EW)((()=>{let t="left-sidebar flex-shrink-0 bg-white height100";return e.ifLarger?""+t:t+" absolute "+(e.ifShowMenu?"translateX-0":"translateX-100")})),leftSidebarItemClick:(i,n,a,s)=>{if(u.query.indexPage!==a.indexPage){if(f.value=s,l.dispatch(F.Dq,a),e.toggleMenu(!1),c.push({path:"/",query:{indexPage:a.indexPage}}),a.link)return t("linkClick",a.link);t("itemClick",a.url)}},leftSidebarListClick:(e,t,i)=>{l.dispatch(F.g5,t),f.value=i}}},render(){return(0,i.bF)("div",{class:this.sidebarClassName},[this.menuList.length?(0,i.bF)("div",{class:"flex height100 relative flex-direction-column left-sidebar-content"},[(0,i.bF)(I,{class:"search",toggleMenu:this.toggleMenu,onSearchLinkClick:e=>{this.$emit("linkClick",e)},onSearchItemClick:e=>{this.$emit("itemClick",e)},onMenuListCloseAll:this.menuListCloseAll,list:this.menuList},null),(0,i.bF)("div",{key:this.ifLarger,class:`flex-1 flex-shrink-0 ${this.ifLarger?"overflow-y-hidden":"overflow-y-auto"} relative list-wrap`},[(0,i.bF)("div",{ref:e=>{this.listContentRef=e},class:"list-content height100 "+(this.ifLarger?"overflow-y-hidden":"")},[(0,i.bF)("div",{style:{padding:"0 0 50px 0"}},[this.menuList.map(((e,t)=>(0,i.bF)(f,{rowDetails:e,key:t,grade:-1,nowActive:this.nowActive,menuList:this.menuList,url:[e.name],firstLevelIndex:t,onItemClick:(e,t,l,i)=>{this.leftSidebarItemClick(e,t,l,i)},onListClick:(e,t,l)=>{this.leftSidebarListClick(e,t,l)}},null)))])])])]):null])}};const E=()=>{(0,v.$9)((e=>({a5b8c31c:e.leftSidebarW})))},M=g.setup;g.setup=M?(e,t)=>(E(),M(e,t)):E;var P=(0,h.A)(g,[["__scopeId","data-v-43dd33fa"]])},"6LA4":function(e,t,l){l.r(t),l.d(t,{default:function(){return w}}),l("60oc");var i=l("XEAi"),n=l("n/QL"),a=l("oekR"),s=l("MLNC"),r=l("yaf4"),o=l("GZrv"),c=(t=l("sYlY"),l("8w0y"));const u={style:{color:"var(--global-text-color)"},class:"bg-white relative width100 height100 flex flex-direction-row"},d={key:0,class:"width100 height100 flex flex-direction-column"},h={class:"search-title width100 flex align-items-center justify-content-center"},f={class:"flex align-items-baseline"},v=(e=>((0,i.Qi)("data-v-2d5db689"),e=e(),(0,i.jt)(),e))((()=>(0,i.Lk)("p",{style:{"margin-right":"10px"}}," 搜索结果 ",-1))),m={class:"search-total"},g={class:"search-content flex-1"},p=["href","onClick"];t={__name:"index",props:t.A,setup(e){const t=(0,r.Pj)(),l=(0,s.lq)(),w=(0,s.rd)(),k=(0,i.EW)((()=>t.state.menuList)),L=(0,a.KR)([]);let b=decodeURI(l.query.key);return(0,i.wB)(l,(()=>{t.dispatch(c.XK).then((()=>{if(""===(b=decodeURI(l.query.key)))L.value=[{name:"请输入关键字",noResult:!0}];else{const e=[],t=l=>{l.children&&l.children.forEach((l=>{l.children&&t(l),l&&l.name&&!l.children&&-1!==l.name.trim().toLowerCase().indexOf(b.trim().toLowerCase())&&e.push(l)}))};k.value.forEach(t),L.value=e.length?e:[{name:"暂无搜索结果",noResult:!0}]}}))}),{immediate:!0}),(e,t)=>{var l=(0,i.gN)("loading");return(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",u,[(0,i.bF)(o.A,{"left-sidebar-w":e.leftSidebarW,"if-show-menu":e.ifShowMenu,"if-larger":e.ifLarger,"header-h":e.headerH,"toggle-menu":e.toggleMenu},null,8,["left-sidebar-w","if-show-menu","if-larger","header-h","toggle-menu"]),k.value.length?((0,i.uX)(),(0,i.CE)("div",d,[(0,i.Lk)("div",h,[(0,i.Lk)("div",f,[v,(0,i.Lk)("p",m," (共计"+(0,n.v_)(L.value.length)+"条) ",1)])]),(0,i.Lk)("ul",g,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(L.value,((e,t)=>((0,i.uX)(),(0,i.CE)("li",{key:t,class:"search-item"},[(0,i.Lk)("a",{class:"search-item-label cursor-pointer",href:"/#/?indexPage="+e.indexPage,onClick:function(t){var l=e;t.preventDefault(),l.noResult||(l.link?window.open(l.link):w.push({path:"/",query:{indexPage:l.indexPage}}))}},(0,n.v_)(e.name),9,p)])))),128))])])):(0,i.Q3)("",!0)])),[[l,!k.value.length]])}}};var w=(0,l("uaZu").A)(t,[["__scopeId","data-v-2d5db689"]])}}]);
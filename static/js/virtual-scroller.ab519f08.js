"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[7834],{HlMS:function(e,t,n){n.d(t,{N:function(){return o},Vx:function(){return i},XM:function(){return r},eW:function(){return l},mr:function(){return u},oI:function(){return s},vD:function(){return a}}),n("FNk8"),n("vDqi");const l=e=>["md","js","ts","jsx","html","py"].filter((t=>t===e)).length,i=e=>["jpg","png","gif","jpeg"].filter((t=>t===e)).length,o=(e,t=0,n)=>{if(0===(r=e.children("h3")).length)return 0<(l=e.children("a")).length?Object.freeze({name:l.text(),href:l.attr("href"),...l.attr("icon")?{icon:l.attr("icon")}:{}}):null;var l=r.text(),i=[],r={ifRender:!1,ifShow:!1},a=e.children("dl").children("dt");for(let e=0;e<a.length;e++){var s=o(a.eq(e));i.push(s)}return r.name=l,r.child=i,r},r=(e,t)=>Math.round(Math.random()*(t-e)+e),a=()=>window.location.origin+window.location.pathname,s=e=>new Promise((t=>{var n=new FileReader;n.readAsDataURL(e),n.onload=e=>{t(e.target.result)}})),u=(e=!0)=>{var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];if(e){let e="#";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*t.length)];return e}return`rgb(${Math.floor(256*Math.random())},${Math.floor(256*Math.random())},${Math.floor(256*Math.random())})`}},JXP7:function(e,t,n){n.d(t,{Z:function(){return m}});var l=n("XEAi"),i=n("gw9Z"),o=n("n/QL");const r={class:"absolute toast-wrap"},a={class:"flex align-items-center line-height-1 toast-content"},s={style:{"margin-right":"20px"}},u=["onClick"],d=[(e=>((0,l.dD)("data-v-57b1a168"),e=e(),(0,l.Cn)(),e))((()=>(0,l._)("path",{d:"M282.517333 213.376l-45.354666 45.162667L489.472 512 237.162667 765.461333l45.354666 45.162667L534.613333 557.354667l252.096 253.269333 45.354667-45.162667-252.288-253.44 252.288-253.482666-45.354667-45.162667L534.613333 466.624l-252.096-253.226667z","p-id":"1346"},null,-1)))],c={class:"width100 duration"};n("FNk8");var v=n("wDM7"),h=n("oekR"),m=(t={setup(e){const t=(0,h.iH)([]),n=[],l=(e,l)=>{var i=t.value.findIndex((t=>t.id===e)),o=n.findIndex((e=>e===l));-1!==i&&t.value.splice(i,1),-1!==o&&n.splice(o,1),clearTimeout(l)};return{toastArr:t,addToast:({duration:e=3e3,durationBgColor:i="var(--global-primary-color)",showCloseBtn:o=!0,showDurationLine:r=!0,content:a})=>{const s=(0,v.Z)();i={id:s,hiddenTime:e,durationBgColor:i,showCloseBtn:o,showDurationLine:r,content:a};const u=setTimeout((()=>{l(s,u)}),e);i.setTimeoutId=u,t.value.push(i),n.push(u)},closeToast:(e,t)=>{l(e,t)}}}},(0,n("uaZu").Z)(t,[["render",function(e,t,n,v,h,m){return(0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(i.W3,{duration:550,name:"nested"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(v.toastArr,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"toast overflow-hidden",key:e.id},[(0,l._)("div",a,[(0,l._)("div",s,(0,o.zw)(e.content),1),e.showCloseBtn?((0,l.wg)(),(0,l.iD)("svg",{key:0,onClick:t=>v.closeToast(e.id,e.setTimeoutId),class:"icon cursor-pointer",style:{width:"1.0205078125em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1045 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1345"},d,8,u)):(0,l.kq)("",!0)]),(0,l._)("div",c,[e.showDurationLine?((0,l.wg)(),(0,l.iD)("div",{key:0,style:(0,o.j5)({backgroundColor:e.durationBgColor,animationDuration:e.hiddenTime+"ms"}),class:"duration-line"},null,4)):(0,l.kq)("",!0)])])))),128))])),_:1})])}],["__scopeId","data-v-57b1a168"]]))},xvPJ:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var l=n("XEAi"),i=n("n/QL"),o=n("gw9Z");t=e=>((0,l.dD)("data-v-7fb23171"),e=e(),(0,l.Cn)(),e);const r={class:"flex flex-direction-column relative virtual-scroller"},a={class:"flex align-items-center justify-content-center virtual-scroller-header"},s={style:{"margin-right":"10px"}},u={key:0},d={class:"flex-1 overflow-y-hidden"},c=t((()=>(0,l._)("div",{style:{"margin-bottom":"20px"},class:"dynamic-scroller-slot flex align-items-center justify-content-center"},"🥵插槽头部🥵",-1))),v={class:"dynamic-scroller-item flex align-items-center justify-content-center"},h=["id"],m=["onClick"],f={style:{"margin-top":"20px"},class:"dynamic-scroller-slot flex align-items-center justify-content-center"},g=t((()=>(0,l._)("div",{class:"flex align-items-center justify-content-center virtual-scroller-bottom"}," #footer ",-1)));n("FNk8");var w=n("oekR"),p=(t=n("hrb9"),n("JXP7")),k=n("HlMS"),b=n("wDM7"),y=n("SFuZ");const x=()=>(0,k.XM)(400,800),_=(e=30)=>{var t=[];for(let n=0;n<e;n++)t.push({height:(0,k.XM)(300,550),width:x(),id:(0,b.Z)(),background:(0,k.mr)()});return t};t={components:{DynamicScroller:t.cV,DynamicScrollerItem:t.Wk,toast:p.Z},setup(){const e=(0,w.iH)([]),t=(0,w.iH)(!1),n=(0,w.iH)(0),l=(0,w.iH)(10),i=(0,w.iH)(1),o=(0,w.iH)(null),r=(0,w.iH)(null),a=(n,l=!1)=>new Promise((i=>{if(t.value)return i();t.value=!0,setTimeout((()=>{e.value=l?_(n):e.value.concat(_(n)),t.value=!1,i()}),1e3)}));return a(10).then(),{list:e,loading:t,scrollerRef:o,toastRef:r,scrollToIndex:n,listNum:l,addListNum:i,onSetSize:(t,n)=>{e.value[n].width=x(),e.value[n].height=(0,k.XM)(600,1e3),e.value[n].background=(0,k.mr)()},onScrollEnd:()=>{r.value.addToast({content:"即将滚动到底部"})},onScrollTo:()=>{var t;null!==n.value&&(!(0,y.hj)(+n.value)||Number.isNaN(+n.value)?alert("请输入数字"):(t=+n.value)>e.value.length-1||t<0?alert("请输入正确数字范围"):o.value.scrollToItem(t))},onSetList:()=>{null!==l.value&&(!(0,y.hj)(+l.value)||Number.isNaN(+l.value)?alert("请输入数字"):a(+l.value,!0).then())},onAddList:()=>{null!==l.value&&(!(0,y.hj)(+l.value)||Number.isNaN(+l.value)?alert("请输入数字"):a(i.value).then((()=>{o.value.scrollToItem(e.value.length-1)})))}}}};var D=(0,n("uaZu").Z)(t,[["render",function(e,t,n,w,p,k){const b=(0,l.up)("DynamicScrollerItem");var y=(0,l.up)("DynamicScroller"),x=(0,l.up)("toast");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",a,[(0,l._)("div",s,"当前记录条数: "+(0,i.zw)(w.list.length),1),w.loading?((0,l.wg)(),(0,l.iD)("button",u,"加载中...")):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l._)("button",{class:"virtual-scroller-header-btn",onClick:t[2]||(t[2]=(...e)=>w.onSetList&&w.onSetList(...e))},[(0,l.Uk)("重置列表为"),(0,l.wy)((0,l._)("input",{class:"num-input",onClick:t[0]||(t[0]=(0,o.iM)((()=>{}),["stop"])),"onUpdate:modelValue":t[1]||(t[1]=e=>w.listNum=e)},null,512),[[o.nr,w.listNum,void 0,{number:!0}]]),(0,l.Uk)("条")]),(0,l._)("button",{class:"virtual-scroller-header-btn",onClick:t[5]||(t[5]=(...e)=>w.onScrollTo&&w.onScrollTo(...e))},[(0,l.Uk)("滚动到第"),(0,l.wy)((0,l._)("input",{class:"num-input",onClick:t[3]||(t[3]=(0,o.iM)((()=>{}),["stop"])),"onUpdate:modelValue":t[4]||(t[4]=e=>w.scrollToIndex=e)},null,512),[[o.nr,w.scrollToIndex,void 0,{number:!0}]]),(0,l.Uk)("条")]),(0,l._)("button",{class:"virtual-scroller-header-btn",onClick:t[8]||(t[8]=(...e)=>w.onAddList&&w.onAddList(...e))},[(0,l.Uk)("添加"),(0,l.wy)((0,l._)("input",{class:"num-input",onClick:t[6]||(t[6]=(0,o.iM)((()=>{}),["stop"])),"onUpdate:modelValue":t[7]||(t[7]=e=>w.addListNum=e)},null,512),[[o.nr,w.addListNum,void 0,{number:!0}]]),(0,l.Uk)("条记录")])],64))]),(0,l._)("div",d,[(0,l.Wm)(y,{ref:"scrollerRef",items:w.list,"min-item-size":500,buffer:1e3,class:"scroller",onScrollEnd:w.onScrollEnd},{before:(0,l.w5)((()=>[c])),default:(0,l.w5)((({item:e,index:t,active:n})=>[(0,l.Wm)(b,{item:e,active:n,"size-dependencies":[e.width,e.hegiht],"data-index":t},{default:(0,l.w5)((()=>[(0,l._)("div",v,[((0,l.wg)(),(0,l.iD)("div",{id:"item-"+t,class:"dynamic-scroller-item-content",key:e.id,style:(0,i.j5)({width:e.width+"px",height:e.height+"px",background:e.background})},[(0,l._)("div",null,"width: "+(0,i.zw)(e.width),1),(0,l._)("div",null,"hegiht: "+(0,i.zw)(e.hegiht),1),(0,l._)("div",null,"id: "+(0,i.zw)(e.id),1),(0,l._)("div",null,"background: "+(0,i.zw)(e.background),1),(0,l._)("div",null,"index: "+(0,i.zw)(t),1),(0,l._)("div",null,"active: "+(0,i.zw)(n),1),(0,l._)("button",{onClick:n=>w.onSetSize(e,t)},"重置当前size,变高点",8,m)],12,h))])])),_:2},1032,["item","active","size-dependencies","data-index"])])),after:(0,l.w5)((()=>[(0,l._)("div",f,"🥵"+(0,i.zw)(w.loading?"loading....":"插槽底部")+"🥵",1)])),_:1},8,["items","onScrollEnd"])]),g,(0,l.Wm)(x,{ref:"toastRef"},null,512)])}],["__scopeId","data-v-7fb23171"]])}}]);
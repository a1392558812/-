"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[1963],{HlMS:function(t,o,e){e.d(o,{BP:function(){return s},K0:function(){return a},NP:function(){return c},Pc:function(){return i},_G:function(){return n},ar:function(){return l},se:function(){return r}}),e("60oc"),e("kvaN"),e("o5/U"),e("pacc"),e("vDqi");const n=t=>["md","js","ts","jsx","html","py"].filter((o=>o===t)).length,a=t=>["jpg","png","gif","jpeg"].filter((o=>o===t)).length,i=(t,o=0,e)=>{if(0===(r=t.children("h3")).length)return 0<(n=t.children("a")).length?Object.freeze({name:n.text(),href:n.attr("href"),...n.attr("icon")?{icon:n.attr("icon")}:{}}):null;var n=r.text(),a=[],r={ifRender:!1,ifShow:!1},l=t.children("dl").children("dt");for(let t=0;t<l.length;t++){var s=i(l.eq(t));a.push(s)}return r.name=n,r.child=a,r},r=(t,o)=>Math.round(Math.random()*(o-t)+t),l=()=>window.location.origin+window.location.pathname,s=t=>new Promise((o=>{var e=new FileReader;e.readAsDataURL(t),e.onload=t=>{o(t.target.result)}})),c=(t=!0)=>{var o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];if(t){let t="#";for(let e=0;e<6;e++)t+=o[Math.floor(Math.random()*o.length)];return t}return`rgb(${Math.floor(256*Math.random())},${Math.floor(256*Math.random())},${Math.floor(256*Math.random())})`}},VJzC:function(t,o,e){e.d(o,{A:function(){return g}});var n=e("XEAi"),a=e("gw9Z"),i=e("n/QL");const r={class:"absolute toast-wrap"},l={class:"flex align-items-center line-height-1 toast-content"},s={style:{"margin-right":"20px"}},c=["onClick"],d=[(t=>((0,n.Qi)("data-v-0a26fcd9"),t=t(),(0,n.jt)(),t))((()=>(0,n.Lk)("path",{d:"M282.517333 213.376l-45.354666 45.162667L489.472 512 237.162667 765.461333l45.354666 45.162667L534.613333 557.354667l252.096 253.269333 45.354667-45.162667-252.288-253.44 252.288-253.482666-45.354667-45.162667L534.613333 466.624l-252.096-253.226667z","p-id":"1346"},null,-1)))],u={class:"width100 duration"};e("60oc");var p=e("wDM7"),m=e("oekR"),g=(o={setup(t){const o=(0,m.KR)([]),e=[],n=(t,n)=>{var a=o.value.findIndex((o=>o.id===t)),i=e.findIndex((t=>t===n));-1!==a&&o.value.splice(a,1),-1!==i&&e.splice(i,1),clearTimeout(n)};return{toastArr:o,addToast:({duration:t=3e3,durationBgColor:a="var(--global-primary-color)",showCloseBtn:i=!0,showDurationLine:r=!0,content:l})=>{const s=(0,p.A)();a={id:s,hiddenTime:t,durationBgColor:a,showCloseBtn:i,showDurationLine:r,content:l};const c=setTimeout((()=>{n(s,c)}),t);a.setTimeoutId=c,o.value.push(a),e.push(c)},closeToast:(t,o)=>{n(t,o)}}}},(0,e("uaZu").A)(o,[["render",function(t,o,e,p,m,g){return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(a.F,{duration:550,name:"nested"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(p.toastArr,(t=>((0,n.uX)(),(0,n.CE)("div",{class:"toast overflow-hidden",key:t.id},[(0,n.Lk)("div",l,[(0,n.Lk)("div",s,(0,i.v_)(t.content),1),t.showCloseBtn?((0,n.uX)(),(0,n.CE)("svg",{key:0,onClick:o=>p.closeToast(t.id,t.setTimeoutId),class:"icon cursor-pointer",style:{width:"1.0205078125em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1045 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1345"},d,8,c)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",u,[t.showDurationLine?((0,n.uX)(),(0,n.CE)("div",{key:0,style:(0,i.Tr)({backgroundColor:t.durationBgColor,animationDuration:t.hiddenTime+"ms"}),class:"duration-line"},null,4)):(0,n.Q3)("",!0)])])))),128))])),_:1})])}],["__scopeId","data-v-0a26fcd9"]]))},OX57:function(t,o,e){e.r(o),e.d(o,{default:function(){return h}});var n=e("XEAi");const a={class:"width100 height100 relative panorama-wrap"};o=t=>((0,n.Qi)("data-v-5e2e546d"),t=t(),(0,n.jt)(),t);const i={class:"width100 height100"},r=[o((()=>(0,n.Lk)("div",{id:"viewer",class:"width100 height100"},null,-1))),o((()=>(0,n.Lk)("div",{id:"custom-tooltip-0"},null,-1))),o((()=>(0,n.Lk)("div",{id:"custom-tooltip-1"},null,-1)))];var l=e("42jg"),s=e("JF+l"),c=e("PjIm"),d=e("HlMS"),u=e("EVdn"),p=(o={setup(t,{emit:o}){(0,n.sV)((()=>{{var t=(0,d.ar)(),n=e("WjXK"),a=e("DHnP");const i={latitude:{start:-Math.PI/2,end:.2},longitude:{start:Math.PI,end:0},zoom:{start:0,end:50},fisheye:{start:2,end:0}},r={"360bg1":[{id:"custom-tooltip-0",data:{content:"标记custom-tooltip-0"},tooltip:{content:`\n                      <div class="custom-tooltip-content-wrap">\n                        <div class="custom-tooltip-content">提示：这里是黑手之山！</div>\n                        <img class="line-height-1 custom-tooltip-image" src='${n}'/>\n                      </div>\n                      `,toastContent:"toastContent1",className:"custom-tooltip custom-tooltip-0",position:"top",trigger:"click"},latitude:.11,longitude:-.35,image:t+"demo-static/360range/pin-blue.png",width:32,height:32,anchor:"bottom center"},{id:"custom-tooltip-1",data:{content:"标记custom-tooltip-1"},tooltip:{content:`\n                      <div class="custom-tooltip-content-wrap">\n                        <div class="custom-tooltip-content">哈哈！这里还是黑手之山！</div>\n                        <img class="line-height-1 display-block custom-tooltip-image" src='${a}'/>\n                      </div>\n                      `,toastContent:"toastContent2",className:"custom-tooltip custom-tooltip-1",position:"top",trigger:"click"},latitude:.11,longitude:2.55,image:t+"demo-static/360range/pin-blue.png",width:32,height:32,anchor:"bottom center"}],"360bg2":[{id:"custom-tooltip-2",data:{content:"标记custom-tooltip-2"},tooltip:{content:"场景2的content🥵🥵",toastContent:"toastContent3",className:"custom-tooltip custom-tooltip-2",position:"top",trigger:"click"},latitude:.31,longitude:-.15,image:t+"demo-static/360range/pin-blue.png",width:32,height:32,anchor:"bottom center"}],"360bg3":[{id:"custom-tooltip-3",data:{content:"标记custom-tooltip-3"},tooltip:{content:"场景3的content🥵🥵",toastContent:"toastContent4",className:"custom-tooltip custom-tooltip-3",position:"top",trigger:"click"},latitude:.31,longitude:-.25,image:t+"demo-static/360range/pin-blue.png",width:32,height:32,anchor:"bottom center"}]},p=new l.Viewer({container:document.querySelector("#viewer"),panorama:t+"demo-static/360range/360bg1.jpg",caption:"大风车啊转啊转~",defaultLat:i.latitude.start,defaultLong:i.longitude.start,defaultZoomLvl:i.zoom.start,fisheye:i.fisheye.start,navbar:["zoom","move","autorotate","markers","markersList","gallery",{title:"Change image",content:"🔄 奥利给，把握住了！！",onClick:(t,o,e)=>{g().then()}},"caption","fullscreen"],plugins:[[s.MarkersPlugin,{}],[c.GalleryPlugin,{visibleOnLoad:!0,items:[{id:"360bg1",name:"全景1",panorama:t+"demo-static/360range/360bg1.jpg",thumbnail:t+"demo-static/360range/preview/preview1.png",options:{caption:"大风车啊转啊转~"}},{id:"360bg2",name:"全景2",panorama:t+"demo-static/360range/360bg2.jpg",thumbnail:t+"demo-static/360range/preview/preview2.png",options:{caption:"caption2"}},{id:"360bg3",name:"全景3",panorama:t+"demo-static/360range/360bg3.jpg",thumbnail:t+"demo-static/360range/preview/preview3.png",options:{caption:"caption3"}}]}]]}),m=p.getPlugin(s.MarkersPlugin),g=()=>new Promise((t=>{p.stopAutorotate(),new l.utils.Animation({properties:i,duration:2500,easing:"inOutQuad",onTick:t=>{p.setOption("fisheye",t.fisheye),p.rotate({longitude:t.longitude,latitude:t.latitude}),p.zoom(t.zoom)}}).then((()=>{p.setOptions({autorotateLat:i.latitude.end,autorotateDelay:1e3,autorotateIdle:!0}),p.startAutorotate(),t()}))}));p.on("panorama-loaded",((t,o)=>{o=(o=o.panorama.split("/"))[o.length-1].split(".")[0],m.clearMarkers(),r[o].forEach((t=>{m.addMarker(t)}))})),p.on("ready",(()=>{p.plugins.markers.on("select-marker",((t,e,n)=>{o("select-marker",{e:t,marker:e,data:n})})),u(".psv-gallery-item").click((t=>{m.clearMarkers()})),g().then((()=>{p.getPlugin(s.MarkersPlugin).showMarkerTooltip("custom-tooltip-0")}))}))}}))}},e("uaZu")),m=(o=(0,p.A)(o,[["render",function(t,o,e,a,l,s){return(0,n.uX)(),(0,n.CE)("div",i,r)}],["__scopeId","data-v-5e2e546d"]]),e("VJzC")),g=e("oekR"),h=(o={components:{vrComponent:o,toast:m.A},setup(){const t=(0,g.KR)(null);return{toastRefDom:t,selectMarker:({marker:o})=>{t.value.addToast({content:o.config.tooltip.toastContent+"-marker标记被点击"})}}}},(0,p.A)(o,[["render",function(t,o,e,i,r,l){var s=(0,n.g2)("vr-component"),c=(0,n.g2)("toast");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.bF)(s,{onSelectMarker:i.selectMarker},null,8,["onSelectMarker"]),(0,n.bF)(c,{ref:"toastRefDom"},null,512)])}],["__scopeId","data-v-a3576246"]]))},WjXK:function(t,o,e){t.exports=e.p+"static/img/heishou.a580a5c7.png"}}]);
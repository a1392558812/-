"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[1281],{LyAB:function(e,a,t){t.r(a),t.d(a,{default:function(){return h}});var n=t("XEAi");const o={class:"relative canvas-wrap"},i=[(0,n.Fv)('<div id="canvas" data-v-0f88210d></div><div class="absolute line-height-1 tips" data-v-0f88210d><p style="margin-bottom:10px;" data-v-0f88210d>模型拢共大小30Mb，github这网速，慢慢加载吧</p><p style="margin-bottom:10px;" data-v-0f88210d>这个是学习threejs大佬“暮志未晚”的,</p><p data-v-0f88210d>详情指路：<a href="http://www.wjceo.com/" data-v-0f88210d>http://www.wjceo.com/</a></p></div>',2)];t("60oc");var d=t("JVck"),r=t("Womt"),s=t("iZKT"),w=(a=t("MZFn"),t.n(a)),c=t("z6iS"),h=(a={setup(){let e,a,t,o,i,h,l,m,p;const u=new r.Clock;function f(){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight)}function v(){var n;m.update(),n=u.getDelta(),p&&p.update(n),e.render(t,a),i.update(),requestAnimationFrame(v)}(0,n.sV)((()=>{o={},new s.cL,(e=new r.WebGLRenderer({antialias:!0,logarithmicDepthBuffer:!0})).setSize(window.innerWidth,window.innerHeight),e.shadowMap.enabled=!0,document.getElementById("canvas").appendChild(e.domElement),t=new r.Scene,(a=new r.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,30,60),a.lookAt(new r.Vector3(0,0,0)),t.add(a),h=new r.AmbientLight("#bbbbbb"),t.add(h),(l=new r.DirectionalLight("#ffffff")).position.set(40,60,10),l.shadow.camera.near=1,l.shadow.camera.far=400,l.shadow.camera.left=-50,l.shadow.camera.right=50,l.shadow.camera.top=50,l.shadow.camera.bottom=-50,l.shadow.mapSize.height=1024,l.shadow.mapSize.width=1024,l.castShadow=!0,a.add(l),function(){var e,a,n=new r.PlaneGeometry(1e3,1e3),o=new r.MeshLambertMaterial({color:3355443,side:r.DoubleSide});(n=new r.Mesh(n,o)).rotation.x=-.5*Math.PI,n.position.y=-.1,n.receiveShadow=!0,t.add(n);const i=new r.Group,s=[];for(let t=0;t<1e3;t++)i.add((a=void 0,e=new r.MeshBasicMaterial({color:16777215*Math.random()}),a=.5*Math.random(),a=new r.BoxGeometry(a,a,a),(a=new r.Mesh(a,e)).position.set(100*Math.random()-50,-3,100*Math.random()-50),a.speed=Math.random(),a)),s.push({speed:Math.random(),y:-3});t.add(i),window.Worker||alert("你的电脑不支持web Workers");const w=new Worker("demo-static/marie/worker.js");(new d.B).load("demo-static/marie/scene.gltf",(function(e){e.scene.scale.set(.1,.1,.1),e.scene.traverse((function(e){e.isMesh&&(e.frustumCulled=!1,e.castShadow=!0)})),t.add(e.scene);var a=e.scene;new r.SkeletonHelper(a),(p=new r.AnimationMixer(a)).clipAction(e.animations[0]).play(),w.postMessage(s),w.onmessage=function(e){for(let a=0;a<e.data.length;a++)i.children[a].position.y=e.data[a].y}}))}(),i=new(w()),document.body.appendChild(i.dom),(m=new c.N(a,e.domElement)).target.set(0,15,0),v(),window.onresize=f}))}},(0,t("uaZu").A)(a,[["render",function(e,a,t,d,r,s){return(0,n.uX)(),(0,n.CE)("div",o,i)}],["__scopeId","data-v-0f88210d"]]))}}]);
"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[8775],{HlMS:function(e,t,n){n.d(t,{BP:function(){return s},K0:function(){return o},NP:function(){return u},Pc:function(){return i},_G:function(){return l},ar:function(){return a},se:function(){return r}}),n("60oc"),n("kvaN"),n("o5/U"),n("pacc"),n("vDqi");const l=e=>["md","js","ts","jsx","html","py"].filter((t=>t===e)).length,o=e=>["jpg","png","gif","jpeg"].filter((t=>t===e)).length,i=(e,t=0,n)=>{if(0===(r=e.children("h3")).length)return 0<(l=e.children("a")).length?Object.freeze({name:l.text(),href:l.attr("href"),...l.attr("icon")?{icon:l.attr("icon")}:{}}):null;var l=r.text(),o=[],r={ifRender:!1,ifShow:!1},a=e.children("dl").children("dt");for(let e=0;e<a.length;e++){var s=i(a.eq(e));o.push(s)}return r.name=l,r.child=o,r},r=(e,t)=>Math.round(Math.random()*(t-e)+e),a=()=>window.location.origin+window.location.pathname,s=e=>new Promise((t=>{var n=new FileReader;n.readAsDataURL(e),n.onload=e=>{t(e.target.result)}})),u=(e=!0)=>{var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];if(e){let e="#";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*t.length)];return e}return`rgb(${Math.floor(256*Math.random())},${Math.floor(256*Math.random())},${Math.floor(256*Math.random())})`}},VJzC:function(e,t,n){n.d(t,{A:function(){return m}});var l=n("XEAi"),o=n("gw9Z"),i=n("n/QL");const r={class:"absolute toast-wrap"},a={class:"flex align-items-center line-height-1 toast-content"},s={style:{"margin-right":"20px"}},u=["onClick"],d=[(e=>((0,l.Qi)("data-v-0a26fcd9"),e=e(),(0,l.jt)(),e))((()=>(0,l.Lk)("path",{d:"M282.517333 213.376l-45.354666 45.162667L489.472 512 237.162667 765.461333l45.354666 45.162667L534.613333 557.354667l252.096 253.269333 45.354667-45.162667-252.288-253.44 252.288-253.482666-45.354667-45.162667L534.613333 466.624l-252.096-253.226667z","p-id":"1346"},null,-1)))],c={class:"width100 duration"};n("60oc");var v=n("wDM7"),h=n("oekR"),m=(t={setup(e){const t=(0,h.KR)([]),n=[],l=(e,l)=>{var o=t.value.findIndex((t=>t.id===e)),i=n.findIndex((e=>e===l));-1!==o&&t.value.splice(o,1),-1!==i&&n.splice(i,1),clearTimeout(l)};return{toastArr:t,addToast:({duration:e=3e3,durationBgColor:o="var(--global-primary-color)",showCloseBtn:i=!0,showDurationLine:r=!0,content:a})=>{const s=(0,v.A)();o={id:s,hiddenTime:e,durationBgColor:o,showCloseBtn:i,showDurationLine:r,content:a};const u=setTimeout((()=>{l(s,u)}),e);o.setTimeoutId=u,t.value.push(o),n.push(u)},closeToast:(e,t)=>{l(e,t)}}}},(0,n("uaZu").A)(t,[["render",function(e,t,n,v,h,m){return(0,l.uX)(),(0,l.CE)("div",r,[(0,l.bF)(o.F,{duration:550,name:"nested"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(v.toastArr,(e=>((0,l.uX)(),(0,l.CE)("div",{class:"toast overflow-hidden",key:e.id},[(0,l.Lk)("div",a,[(0,l.Lk)("div",s,(0,i.v_)(e.content),1),e.showCloseBtn?((0,l.uX)(),(0,l.CE)("svg",{key:0,onClick:t=>v.closeToast(e.id,e.setTimeoutId),class:"icon cursor-pointer",style:{width:"1.0205078125em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1045 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1345"},d,8,u)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",c,[e.showDurationLine?((0,l.uX)(),(0,l.CE)("div",{key:0,style:(0,i.Tr)({backgroundColor:e.durationBgColor,animationDuration:e.hiddenTime+"ms"}),class:"duration-line"},null,4)):(0,l.Q3)("",!0)])])))),128))])),_:1})])}],["__scopeId","data-v-0a26fcd9"]]))},eKcb:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var l=n("XEAi"),o=n("n/QL"),i=n("gw9Z");t=e=>((0,l.Qi)("data-v-7fb23171"),e=e(),(0,l.jt)(),e);const r={class:"flex flex-direction-column relative virtual-scroller"},a={class:"flex align-items-center justify-content-center virtual-scroller-header"},s={style:{"margin-right":"10px"}},u={key:0},d={class:"flex-1 overflow-y-hidden"},c=t((()=>(0,l.Lk)("div",{style:{"margin-bottom":"20px"},class:"dynamic-scroller-slot flex align-items-center justify-content-center"},"🥵插槽头部🥵",-1))),v={class:"dynamic-scroller-item flex align-items-center justify-content-center"},h=["id"],m=["onClick"],f={style:{"margin-top":"20px"},class:"dynamic-scroller-slot flex align-items-center justify-content-center"},g=t((()=>(0,l.Lk)("div",{class:"flex align-items-center justify-content-center virtual-scroller-bottom"}," #footer ",-1)));n("60oc");var k=n("oekR"),p=(t=n("hrb9"),n("VJzC")),b=n("HlMS"),L=n("wDM7"),w=n("SFuZ");const C=()=>(0,b.se)(400,800),x=(e=30)=>{var t=[];for(let n=0;n<e;n++)t.push({height:(0,b.se)(300,550),width:C(),id:(0,L.A)(),background:(0,b.NP)()});return t};t={components:{DynamicScroller:t.Ku,DynamicScrollerItem:t.nM,toast:p.A},setup(){const e=(0,k.KR)([]),t=(0,k.KR)(!1),n=(0,k.KR)(0),l=(0,k.KR)(10),o=(0,k.KR)(1),i=(0,k.KR)(null),r=(0,k.KR)(null),a=(n,l=!1)=>new Promise((o=>{if(t.value)return o();t.value=!0,setTimeout((()=>{e.value=l?x(n):e.value.concat(x(n)),t.value=!1,o()}),1e3)}));return a(10).then(),{list:e,loading:t,scrollerRef:i,toastRef:r,scrollToIndex:n,listNum:l,addListNum:o,onSetSize:(t,n)=>{e.value[n].width=C(),e.value[n].height=(0,b.se)(600,1e3),e.value[n].background=(0,b.NP)()},onScrollEnd:()=>{r.value.addToast({content:"即将滚动到底部"})},onScrollTo:()=>{var t;null!==n.value&&(!(0,w.Et)(+n.value)||Number.isNaN(+n.value)?alert("请输入数字"):(t=+n.value)>e.value.length-1||t<0?alert("请输入正确数字范围"):i.value.scrollToItem(t))},onSetList:()=>{null!==l.value&&(!(0,w.Et)(+l.value)||Number.isNaN(+l.value)?alert("请输入数字"):a(+l.value,!0).then())},onAddList:()=>{null!==l.value&&(!(0,w.Et)(+l.value)||Number.isNaN(+l.value)?alert("请输入数字"):a(o.value).then((()=>{i.value.scrollToItem(e.value.length-1)})))}}}};var y=(0,n("uaZu").A)(t,[["render",function(e,t,n,k,p,b){const L=(0,l.g2)("DynamicScrollerItem");var w=(0,l.g2)("DynamicScroller"),C=(0,l.g2)("toast");return(0,l.uX)(),(0,l.CE)("div",r,[(0,l.Lk)("div",a,[(0,l.Lk)("div",s,"当前记录条数: "+(0,o.v_)(k.list.length),1),k.loading?((0,l.uX)(),(0,l.CE)("button",u,"加载中...")):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.Lk)("button",{class:"virtual-scroller-header-btn",onClick:t[1]||(t[1]=(...e)=>k.onSetList&&k.onSetList(...e))},[(0,l.eW)("重置列表为"),(0,l.bo)((0,l.Lk)("input",{class:"num-input",onClick:(0,i.D$)((()=>{}),["stop"]),"onUpdate:modelValue":t[0]||(t[0]=e=>k.listNum=e)},null,512),[[i.Jo,k.listNum,void 0,{number:!0}]]),(0,l.eW)("条")]),(0,l.Lk)("button",{class:"virtual-scroller-header-btn",onClick:t[3]||(t[3]=(...e)=>k.onScrollTo&&k.onScrollTo(...e))},[(0,l.eW)("滚动到第"),(0,l.bo)((0,l.Lk)("input",{class:"num-input",onClick:(0,i.D$)((()=>{}),["stop"]),"onUpdate:modelValue":t[2]||(t[2]=e=>k.scrollToIndex=e)},null,512),[[i.Jo,k.scrollToIndex,void 0,{number:!0}]]),(0,l.eW)("条")]),(0,l.Lk)("button",{class:"virtual-scroller-header-btn",onClick:t[5]||(t[5]=(...e)=>k.onAddList&&k.onAddList(...e))},[(0,l.eW)("添加"),(0,l.bo)((0,l.Lk)("input",{class:"num-input",onClick:(0,i.D$)((()=>{}),["stop"]),"onUpdate:modelValue":t[4]||(t[4]=e=>k.addListNum=e)},null,512),[[i.Jo,k.addListNum,void 0,{number:!0}]]),(0,l.eW)("条记录")])],64))]),(0,l.Lk)("div",d,[(0,l.bF)(w,{ref:"scrollerRef",items:k.list,"min-item-size":500,buffer:1e3,class:"scroller",onScrollEnd:k.onScrollEnd},{before:(0,l.k6)((()=>[c])),default:(0,l.k6)((({item:e,index:t,active:n})=>[(0,l.bF)(L,{item:e,active:n,"size-dependencies":[e.width,e.hegiht],"data-index":t},{default:(0,l.k6)((()=>[(0,l.Lk)("div",v,[((0,l.uX)(),(0,l.CE)("div",{id:"item-"+t,class:"dynamic-scroller-item-content",key:e.id,style:(0,o.Tr)({width:e.width+"px",height:e.height+"px",background:e.background})},[(0,l.Lk)("div",null,"width: "+(0,o.v_)(e.width),1),(0,l.Lk)("div",null,"hegiht: "+(0,o.v_)(e.hegiht),1),(0,l.Lk)("div",null,"id: "+(0,o.v_)(e.id),1),(0,l.Lk)("div",null,"background: "+(0,o.v_)(e.background),1),(0,l.Lk)("div",null,"index: "+(0,o.v_)(t),1),(0,l.Lk)("div",null,"active: "+(0,o.v_)(n),1),(0,l.Lk)("button",{onClick:n=>k.onSetSize(e,t)},"重置当前size,变高点",8,m)],12,h))])])),_:2},1032,["item","active","size-dependencies","data-index"])])),after:(0,l.k6)((()=>[(0,l.Lk)("div",f,"🥵"+(0,o.v_)(k.loading?"loading....":"插槽底部")+"🥵",1)])),_:1},8,["items","onScrollEnd"])]),g,(0,l.bF)(C,{ref:"toastRef"},null,512)])}],["__scopeId","data-v-7fb23171"]])}}]);
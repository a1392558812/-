import{u as e,a as t}from"../../../vue-router-DBqTrJEm.js";import{u as s}from"../../../vuex-C9rRLaBQ.js";import{l as a}from"../../components/left-sidebar/index-BfrYtyzS.js";import{l as i}from"../../common/props/left-sidebar-props/index-Cvo_KCZG.js";import{l as o}from"../../components/left-sidebar/components/link-tag-BA05wykv.js";import{c as r}from"../../store/actionType-CNHuB-Of.js";import{_ as n}from"../../../plugin-vue_export-helper-BCo6x5W8.js";import{b as l,e as m,U as c,m as p,a as u,g as d,j as f,l as h,F as g,q as v,s as x,c as b,P as j,x as y,y as w}from"../../../@vue-runtime-core-lkGMyH8G.js";import{r as k}from"../../../@vue-reactivity-mdokXGQ5.js";import{k as _}from"../../../@vue-shared-LkD7rn4X.js";import"../../../@vue-devtools-api-CFGE8QBr.js";import"../../components/left-sidebar/index.vue_vue_type_script_lang-Tzp1qjQU.js";import"../../../@vue-runtime-dom-Dkxbnx-0.js";import"../../../@better-scroll-yEU79_0X.js";import"../../common/util/debounce-CNl5k4zp.js";import"../../components/left-sidebar/components/left-sidebar-item-CPRXYt0O.js";import"../../components/left-sidebar/components/left-sidebar-item.vue_vue_type_script_lang-C47xgyCn.js";import"../../components/commonm-btn/index-BXWbb5gu.js";import"../../components/left-sidebar/components/left-sidebar-search-Chz6xH7U.js";import"../../../@vueuse-CzS49P4w.js";const P={style:{color:"var(--global-text-color)"},class:"bg-white relative width100 height100 flex flex-direction-row"},q={key:0,class:"width100 height100 flex flex-direction-column"},C={class:"search-title width100 flex align-items-center justify-content-center"},L={class:"flex align-items-baseline"},R=(e=>(y("data-v-cb904515"),e=e(),w(),e))((()=>h("p",{style:{"margin-right":"10px"}},"搜索结果",-1))),I={class:"search-total"},U={class:"search-content flex-1"},D=["href","onClick"],F=n(Object.assign({name:"view-search"},{__name:"index",props:i,setup(i){const n=s(),y=e(),w=t(),F=l((()=>n.state.menuData.menuList)),M=k([]);let O=decodeURI(y.query.key);const S=e=>{w.push({path:"/",query:{indexPage:e.indexPage}})};return m(y,(()=>{n.dispatch(r).then((()=>{(()=>{if(O=decodeURI(y.query.key),""===O)return void(M.value=[{name:"请输入关键字",noResult:!0}]);const e=[],t=s=>{s.forEach((s=>{s.children?t(s.children):-1!==s.name.trim().toLowerCase().indexOf(O.trim().toLowerCase())&&e.push(s)}))};t(F.value),M.value=e.length?e:[{name:"暂无搜索结果",noResult:!0}]})()}))}),{immediate:!0}),(e,t)=>{const s=c("loading");return p((u(),d("div",P,[f(a,{"left-sidebar-w":e.leftSidebarW,"if-show-menu":e.ifShowMenu,"if-larger":e.ifLarger,"header-h":e.headerH,"toggle-menu":e.toggleMenu,onItemClick:S},null,8,["left-sidebar-w","if-show-menu","if-larger","header-h","toggle-menu"]),F.value.length?(u(),d("div",q,[h("div",C,[h("div",L,[R,h("p",I,"(共计"+_(M.value.length)+"条)",1)])]),h("ul",U,[(u(!0),d(g,null,v(M.value,((e,t)=>(u(),d("li",{key:t,class:"search-item"},[h("a",{class:"search-item-label cursor-pointer",href:`/#/?indexPage=${e.indexPage}`,onClick:function(t){((e,t)=>{if(t.preventDefault(),!e.noResult)e.link?window.open(e.link):w.push({path:"/",query:{indexPage:e.indexPage}})})(e,t)}},[e.link?(u(),b(o,{key:0,class:"display-inline"})):x("",!0),j(" "+_(e.name),1)],8,D)])))),128))])])):x("",!0)])),[[s,!F.value.length]])}}}),[["__scopeId","data-v-cb904515"]]);export{F as default};

import{$ as t}from"../../../../../jquery-IViRahhZ.js";import{a}from"../../../../../@vue-runtime-dom-Dkxbnx-0.js";import{H as e}from"../../../../../hanzi-writer-DLooQWmQ.js";import{a as r}from"../../../../common/axios/index-CK6lisJl.js";import{b as i}from"../../../../common/util/methods-G0pJ8i8C.js";import{_ as d}from"../../../../../plugin-vue_export-helper-BCo6x5W8.js";import{r as n}from"../../../../../@vue-reactivity-mdokXGQ5.js";import{o as s,a as o,g as c,l,m as u,T as h,x as v,y as m}from"../../../../../@vue-runtime-core-lkGMyH8G.js";import{k as p}from"../../../../../@vue-shared-LkD7rn4X.js";import"../../../../../__commonjsHelpers__-MdiGH4nz.js";import"../../../../../axios-DPD4D5Qz.js";import"../../../../../nprogress-DbBgBvvH.js";function g(t,a){const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.style.width="75px",r.style.height="75px",r.style.border="1px solid #EEE",r.style.marginRight="3px",t.appendChild(r);const i=document.createElementNS("http://www.w3.org/2000/svg","g"),d=e.getScalingTransform(75,75);i.setAttributeNS(null,"transform",d.transform),r.appendChild(i),a.forEach((function(t){const a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttributeNS(null,"d",t),a.style.fill="#555",i.appendChild(a)}))}const f={name:"view-demo-character",setup(){const a=n(""),d=n(""),o=n(""),c=n("");let l;const u=(t="长风破浪会有时",a="character-target-div1")=>{const r=[];t.split("").forEach((t=>{r.push(e.create(a,t,{width:100,height:100,padding:5,showOutline:!1,strokeAnimationSpeed:8,delayBetweenStrokes:10,radicalColor:"#337ab7",delayBetweenLoops:1e3,showCharacter:!1}))}));const i=()=>{r.forEach((t=>{t.hideCharacter()}));let t=Promise.resolve();r.forEach(((a,e)=>{t=t.then((()=>a.animateCharacter())),e===r.length-1&&t.then((()=>i()))}))};i()},h=()=>{l=e.create("character-target-div2","妲",{width:150,height:150,showCharacter:!1,padding:5}),l.quiz({onMistake:t=>{a.value=`你刚刚在第${t.strokeNum+1}画写错，\n            目前为止你在该画写错${t.mistakesOnStroke}次，\n            一共在该字写错${t.totalMistakes}次，\n            还剩${t.strokesRemaining}画写完`},onCorrectStroke:t=>{d.value=`当前正在书写第${t.strokeNum+1}画，\n            在这一画上写错次数为${t.mistakesOnStroke}，\n            拢共写错次数为${t.totalMistakes}，还剩${t.strokesRemaining}画写完`},onComplete:t=>{o.value=`字写完了，你刚写完了${t.totalMistakes}画的${t.character}`}})},v=(t="character-target-div6")=>{e.loadCharacterData("静").then((function(a){const r=document.getElementById(t),i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.width="150px",i.style.height="150px",r.appendChild(i);const d=document.createElementNS("http://www.w3.org/2000/svg","g"),n=e.getScalingTransform(150,150);d.setAttributeNS(null,"transform",n.transform),i.appendChild(d),a.strokes.forEach((function(t){const a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttributeNS(null,"d",t),a.style.fill="#555",d.appendChild(a)}))}))};return s((()=>{u(),h(),e.create("character-target-div3","醇",{width:150,height:150,showCharacter:!1,showOutline:!1,showHintAfterMisses:1,highlightOnComplete:!1,padding:5}).quiz(),e.create("character-target-div5","福",{width:150,height:150,showCharacter:!1,padding:5,charDataLoader:(t,a)=>{r.get(`${i()}demo-static/hanzi/福.json`).then((t=>{a(t.data)}))}}).quiz(),v(),e.loadCharacterData("静").then((function(t){const a=document.getElementById("character-target-div7");for(let e=0;e<t.strokes.length;e++)g(a,t.strokes.slice(0,e+1))})),v("character-target-div8")})),{charAnimation2info1:a,charAnimation2info2:d,charAnimation2info3:o,inputValue:c,handelCreate:()=>{/^(?:[\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0])+$/g.test(c.value)?(t("#character-target-div4").empty(),u(c.value,"character-target-div4")):alert("请输入纯汉字")},reWrite1:()=>{l.hideCharacter({onComplete:()=>{t(l.target.node).remove(),h()}})}}}},w=t=>(v("data-v-a2db199f"),t=t(),m(),t),D={class:"hanzi"},b=w((()=>l("div",null,"突出汉字偏旁",-1))),C=w((()=>l("div",{id:"character-target-div1"},null,-1))),F=w((()=>l("div",null,"自定义汉字",-1))),x=w((()=>l("div",{id:"character-target-div4"},null,-1))),y={class:"flex"},A={class:"chart-wrap"},k=w((()=>l("div",null,"描红书写该字",-1))),E=w((()=>l("div",{class:"character-box",id:"character-target-div2"},null,-1))),S=w((()=>l("span",{style:{color:"red"}},"错误提示：",-1))),j=w((()=>l("span",{style:{color:"#50ec7b"}},"每步写完提示：",-1))),N=w((()=>l("span",{style:{color:"#337ab7"}},"字写完提示：",-1))),$=h('<div class="chart-wrap" data-v-a2db199f><div data-v-a2db199f>醇香的“醇”字盲写</div><div class="character-box" id="character-target-div3" data-v-a2db199f></div></div><div class="chart-wrap" data-v-a2db199f><div data-v-a2db199f>加载本地服务器的汉字</div><div class="character-box" id="character-target-div5" data-v-a2db199f></div><div data-v-a2db199f>（为了演示只提供个“福”字）打开f12查看</div></div><div class="chart-wrap" data-v-a2db199f><div data-v-a2db199f>静态汉字无笔画</div><div class="character-box" id="character-target-div6" data-v-a2db199f></div></div><div style="margin-right:20px;width:300px;" data-v-a2db199f><div data-v-a2db199f>静态汉字无笔画</div><div id="character-target-div7" data-v-a2db199f></div></div><div class="chart-wrap" data-v-a2db199f><div data-v-a2db199f>静态汉字无笔画</div><svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" class="character-box" id="character-target-div8" data-v-a2db199f><line x1="0" y1="0" x2="150" y2="150" stroke="#DDD" data-v-a2db199f></line><line x1="150" y1="0" x2="0" y2="150" stroke="#DDD" data-v-a2db199f></line><line x1="75" y1="0" x2="75" y2="150" stroke="#DDD" data-v-a2db199f></line><line x1="0" y1="75" x2="150" y2="75" stroke="#DDD" data-v-a2db199f></line></svg></div>',5);const _=d(f,[["render",function(t,e,r,i,d,n){return o(),c("div",D,[b,C,l("div",null,[F,u(l("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.inputValue=t)},null,512),[[a,i.inputValue]]),l("button",{onClick:e[1]||(e[1]=(...t)=>i.handelCreate&&i.handelCreate(...t))},"确定生成"),x]),l("div",y,[l("div",A,[k,E,l("button",{onClick:e[2]||(e[2]=(...t)=>i.reWrite1&&i.reWrite1(...t))},"重写"),l("div",null,[S,l("span",null,p(i.charAnimation2info1),1)]),l("div",null,[j,l("span",null,p(i.charAnimation2info2),1)]),l("div",null,[N,l("span",null,p(i.charAnimation2info3),1)])]),$])])}],["__scopeId","data-v-a2db199f"]]);export{_ as default};

import{r as e}from"../../../../../@vue-reactivity-mdokXGQ5.js";import{e as t,o as a,t as i,j as l,P as s,F as n}from"../../../../../@vue-runtime-core-lkGMyH8G.js";const o={name:"ImageType",props:{loading:{type:Boolean,default:!0},htmlMD:{type:String,default:""}},emits:["imageLoad"],setup(l,{emit:s}){let n=null;const o=e(1),r=e(!1),m=e=>{r.value&&27===e.keyCode&&(r.value=!1)};return t((()=>l.loading),(e=>{r.value=!1,o.value=1,clearInterval(n),e&&(n=setInterval((()=>{o.value++}),1e3))})),a((()=>{document.addEventListener("keydown",m)})),i((()=>{clearInterval(n),document.removeEventListener("keydown",m)})),{imageloadingTime:o,showPopup:r,imageLoad:()=>{clearInterval(n),o.value=0,s("imageLoad",!1)}}},render(){return l(n,null,[l("div",{class:"image width100"},[l("div",null,[s("预览 / 点击查看详情")]),l("div",{class:"image-wrap flex"},[l("div",{style:this.loading?{display:"none"}:{},className:"image-content",onClick:()=>{this.showPopup=!0}},[l("img",{title:this.htmlMD,onLoad:this.imageLoad,onError:this.imageLoad,src:this.htmlMD,alt:this.htmlMD},null)]),l("div",{style:this.loading?{}:{display:"none"}},[l("div",null,[s("github响应有点慢，莫急,已加载"),this.imageloadingTime,s("秒")]),l("div",{class:"loading"},[s("φ(≧ω≦*)♪图片正在努力加载中")])])])]),this.showPopup?l("div",{className:"popup flex align-items-center justify-content-center relative",onClick:()=>{this.showPopup=!1}},[l("img",{src:this.htmlMD,alt:this.htmlMD},null)]):null])}};export{o as _};

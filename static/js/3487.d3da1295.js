"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[3487],{Ojbj:function(e,t,r){r.d(t,{w:function(){return Dt}}),t={};var n=(r.r(t),r.d(t,{AsyncCompress:function(){return Pe},AsyncDecompress:function(){return _e},AsyncDeflate:function(){return xe},AsyncGunzip:function(){return Oe},AsyncGzip:function(){return Pe},AsyncInflate:function(){return ke},AsyncUnzipInflate:function(){return yt},AsyncUnzlib:function(){return je},AsyncZipDeflate:function(){return ft},AsyncZlib:function(){return Ue},Compress:function(){return Ce},DecodeUTF8:function(){return Je},Decompress:function(){return Xe},Deflate:function(){return be},EncodeUTF8:function(){return et},Gunzip:function(){return Ee},Gzip:function(){return Ce},Inflate:function(){return Me},Unzip:function(){return wt},UnzipInflate:function(){return mt},UnzipPassThrough:function(){return gt},Unzlib:function(){return Ve},Zip:function(){return pt},ZipDeflate:function(){return ht},ZipPassThrough:function(){return ct},Zlib:function(){return Re},compress:function(){return Se},compressSync:function(){return Ne},decompress:function(){return Ze},decompressSync:function(){return Ke},deflate:function(){return Ie},deflateSync:function(){return Te},gunzip:function(){return Le},gunzipSync:function(){return Fe},gzip:function(){return Se},gzipSync:function(){return Ne},inflate:function(){return Ae},inflateSync:function(){return De},strFromU8:function(){return rt},strToU8:function(){return tt},unzip:function(){return bt},unzipSync:function(){return xt},unzlib:function(){return Ge},unzlibSync:function(){return We},zip:function(){return dt},zipSync:function(){return vt},zlib:function(){return ze},zlibSync:function(){return Be}}),r("Womt")),i={},a=function(e){return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},o=function(e){return new Worker(e)};try{URL.revokeObjectURL(a(""))}catch(r){a=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)},o=function(e){return new Worker(e,{type:"module"})}}for(var s=Uint8Array,u=Uint16Array,l=Uint32Array,c=new s([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),h=new s([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),f=new s([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p=(t=function(e,t){for(var r=new u(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new l(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return[r,i]},(r=t(c,2))[0]),d=r[1],v=(p[28]=258,d[258]=28,r=t(h,0))[0],g=r[1],m=new u(32768),y=0;y<32768;++y){var w=(43690&y)>>>1|(21845&y)<<1;m[y]=((65280&(w=(61680&(w=(52428&w)>>>2|(13107&w)<<2))>>>4|(3855&w)<<4))>>>8|(255&w)<<8)>>>1}var b=function(e,t,r){for(var n=e.length,i=0,a=new u(t);i<n;++i)++a[e[i]-1];var o=new u(t);for(i=0;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;if(r){var s=new u(1<<t),l=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],h=t-e[i],f=o[e[i]-1]++<<h,p=f|(1<<h)-1;f<=p;++f)s[m[f]>>>l]=c}else for(s=new u(n),i=0;i<n;++i)e[i]&&(s[i]=m[o[e[i]-1]++]>>>15-e[i]);return s},x=new s(288);for(y=0;y<144;++y)x[y]=8;for(y=144;y<256;++y)x[y]=9;for(y=256;y<280;++y)x[y]=7;for(y=280;y<288;++y)x[y]=8;var I=new s(32);for(y=0;y<32;++y)I[y]=5;function T(e){return e.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(t){return e.push(t.data[0],t.data[1])}}function M(e,t,r,n,i){var a,o=ee(e,n,i,(function(e,r){e?(o.terminate(),t.ondata.call(t,e)):(r[1]&&o.terminate(),t.ondata.call(t,e,r[0],r[1]))}));o.postMessage(r),t.push=function(e,r){if(a)throw"stream finished";if(!t.ondata)throw"no stream handler";o.postMessage([e,a=r],[e.buffer])},t.terminate=function(){o.terminate()}}function k(e,t){return he(e,t)+4294967296*he(e,t+4)}var A=b(x,9,0),D=b(x,9,1),C=b(I,5,0),P=b(I,5,1),S=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},N=function(e,t,r){var n=t/8|0;return(e[n]|e[1+n]<<8)>>(7&t)&r},E=function(e,t){var r=t/8|0;return(e[r]|e[1+r]<<8|e[2+r]<<16)>>(7&t)},O=function(e){return(e/8|0)+(7&e&&1)},L=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof u?u:e instanceof l?l:s)(r-t);return n.set(e.subarray(t,r)),n},F=function(e,t,r){var n=e.length;if(!n||r&&!r.l&&n<5)return t||new s(0);function i(e){var r=t.length;r<e&&((r=new s(Math.max(2*r,e))).set(t),t=r)}var a=!t||r,o=!r||r.i,u=(r=r||{},t=t||new s(3*n),r.f||0),l=r.p||0,d=r.b||0,g=r.l,m=r.d,y=r.m,w=r.n,x=8*n;do{if(!g){r.f=u=N(e,l,1);var I=N(e,l+1,3);if(l+=3,!I){var T=e[(B=O(l)+4)-4]|e[B-3]<<8;if(n<(R=B+T)){if(o)throw"unexpected EOF";break}a&&i(d+T),t.set(e.subarray(B,R),d),r.b=d+=T,r.p=l=8*R;continue}if(1==I)g=D,m=P,y=9,w=5;else{if(2!=I)throw"invalid block type";T=N(e,l,31)+257;for(var M=N(e,l+10,15)+4,k=T+N(e,l+5,31)+1,A=(l+=14,new s(k)),C=new s(19),F=0;F<M;++F)C[f[F]]=N(e,l+3*F,7);l+=3*M;var R,U=(1<<(R=S(C)))-1,z=b(C,R,1);for(F=0;F<k;){var B,V=z[N(e,l,U)];if(l+=15&V,(B=V>>>4)<16)A[F++]=B;else{var j=0,G=0;for(16==B?(G=3+N(e,l,3),l+=2,j=A[F-1]):17==B?(G=3+N(e,l,7),l+=3):18==B&&(G=11+N(e,l,127),l+=7);G--;)A[F++]=j}}I=A.subarray(0,T);var W=A.subarray(T);y=S(I),w=S(W),g=b(I,y,1),m=b(W,w,1)}if(x<l){if(o)throw"unexpected EOF";break}}a&&i(d+131072);for(var X=(1<<y)-1,_=(1<<w)-1,Z=l;;Z=l){var K=(j=g[E(e,l)&X])>>>4;if(x<(l+=15&j)){if(o)throw"unexpected EOF";break}if(!j)throw"invalid length/literal";if(K<256)t[d++]=K;else{if(256==K){Z=l,g=null;break}var H,Y=K-254,Q=(264<K&&(H=c[F=K-257],Y=N(e,l,(1<<H)-1)+p[F],l+=H),(K=m[E(e,l)&_])>>>4);if(!K)throw"invalid distance";if(l+=15&K,W=v[Q],3<Q&&(H=h[Q],W+=E(e,l)&(1<<H)-1,l+=H),x<l){if(o)throw"unexpected EOF";break}a&&i(d+131072);for(var $=d+Y;d<$;d+=4)t[d]=t[d-W],t[d+1]=t[d+1-W],t[d+2]=t[d+2-W],t[d+3]=t[d+3-W];d=$}}r.l=g,r.p=Z,r.b=d,g&&(u=1,r.m=y,r.d=m,r.n=w)}while(!u);return d==t.length?t:L(t,0,d)},R=function(e,t,r){var n=t/8|0;e[n]|=r<<=7&t,e[1+n]|=r>>>8},U=function(e,t,r){var n=t/8|0;e[n]|=r<<=7&t,e[1+n]|=r>>>8,e[2+n]|=r>>>16},z=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return[_,0];if(1==i)return(m=new s(r[0].s+1))[r[0].s]=1,[m,1];r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,h=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=h&&r[c].f<r[f].f?c++:f++],r[h++]={s:-1,f:o.f+l.f,l:o,r:l};var p=a[0].s;for(n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var d=new u(p+1),v=B(r[h-1],d,0);if(t<v){n=0;var g=0,m=v-t,y=1<<m;for(a.sort((function(e,t){return d[t.s]-d[e.s]||e.f-t.f}));n<i;++n){var w=a[n].s;if(!(d[w]>t))break;g+=y-(1<<v-d[w]),d[w]=t}for(g>>>=m;0<g;){var b=a[n].s;d[b]<t?g-=1<<t-d[b]++-1:++n}for(;0<=n&&g;--n){var x=a[n].s;d[x]==t&&(--d[x],++g)}v=t}return[new s(d),v]},B=function(e,t,r){return-1==e.s?Math.max(B(e.l,t,r+1),B(e.r,t,r+1)):t[e.s]=r},V=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new u(++t),n=0,i=e[0],a=1,o=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&2<a){for(;138<a;a-=138)o(32754);2<a&&(o(10<a?a-11<<5|28690:a-3<<5|12305),a=0)}else if(3<a){for(o(i),--a;6<a;a-=6)o(8304);2<a&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return[r.subarray(0,n),t]},j=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},G=function(e,t,r){var n=r.length,i=O(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<n;++a)e[i+a+4]=r[a];return 8*(i+4+n)},W=function(e,t,r,n,i,a,o,s,l,p,d){R(t,d++,r),++i[256];for(var v=(r=z(i,15))[0],g=(r=r[1],(m=z(a,15))[0]),m=m[1],y=(w=V(v))[0],w=w[1],T=(M=V(g))[0],M=M[1],k=new u(19),D=0;D<y.length;++D)k[31&y[D]]++;for(D=0;D<T.length;++D)k[31&T[D]]++;for(var P=(S=z(k,7))[0],S=S[1],N=19;4<N&&!P[f[N-1]];--N);var E,O=p+5<<3,L=j(i,x)+j(a,I)+o;if(i=j(i,v)+j(a,g)+o+14+3*N+j(k,P)+(2*k[16]+3*k[17]+7*k[18]),O<=L&&O<=i)return G(t,d,e.subarray(l,l+p));if(R(t,d,1+(i<L)),d+=2,i<L){var F=b(v,r,0),B=v,W=b(g,m,0),X=g,_=b(P,S,0);for(R(t,d,w-257),R(t,d+5,M-1),R(t,d+10,N-4),d+=14,D=0;D<N;++D)R(t,d+3*D,P[f[D]]);d+=3*N;for(var Z=[y,T],K=0;K<2;++K){var H=Z[K];for(D=0;D<H.length;++D){var Y=31&H[D];R(t,d,_[Y]),d+=P[Y],15<Y&&(R(t,d,H[D]>>>5&127),d+=H[D]>>>12)}}}else F=A,B=x,W=C,X=I;for(D=0;D<s;++D)255<n[D]?(Y=n[D]>>>18&31,U(t,d,F[Y+257]),d+=B[Y+257],7<Y&&(R(t,d,n[D]>>>23&31),d+=c[Y]),E=31&n[D],U(t,d,W[E]),d+=X[E],3<E&&(U(t,d,n[D]>>>5&8191),d+=h[E])):(U(t,d,F[n[D]]),d+=B[n[D]]);return U(t,d,F[256]),d+B[256]},X=new l([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_=new s(0),Z=function(e,t,r,n,i,a){var o=e.length,f=new s(n+o+5*(1+Math.ceil(o/7e3))+i),p=f.subarray(n,f.length-i),v=0;if(!t||o<8)for(var m=0;m<=o;m+=65535){var y=m+65535;v=y<o?G(p,v,e.subarray(m,y)):(p[m]=a,G(p,v,e.subarray(m,o)))}else{for(var w=(t=X[t-1])>>>13,b=8191&t,x=(1<<r)-1,I=new u(32768),T=new u(1+x),M=Math.ceil(r/3),k=2*M,A=function(t){return(e[t]^e[t+1]<<M^e[t+2]<<k)&x},D=new l(25e3),C=new u(288),P=new u(32),S=0,N=0,E=(m=0,0),F=0,R=0;m<o;++m){var U=A(m),z=32767&m,B=T[U];if(I[z]=B,T[U]=z,F<=m){var V=o-m;if((7e3<S||24576<E)&&423<V){v=W(e,p,0,D,C,P,N,E,R,m-R,v),E=S=N=0,R=m;for(var j=0;j<286;++j)C[j]=0;for(j=0;j<30;++j)P[j]=0}var Z=2,K=0,H=b,Y=z-B&32767;if(2<V&&U==A(m-Y))for(var Q=Math.min(w,V)-1,$=Math.min(32767,m),q=Math.min(258,V);Y<=$&&--H&&z!=B;){if(e[m+Z]==e[m+Z-Y]){for(var J=0;J<q&&e[m+J]==e[m+J-Y];++J);if(Z<J){if(K=Y,Q<(Z=J))break;var ee=Math.min(Y,J-2),te=0;for(j=0;j<ee;++j){var re=m-Y+j+32768&32767,ne=re-I[re]+32768&32767;te<ne&&(te=ne,B=re)}}}Y+=(z=B)-(B=I[z])+32768&32767}K?(D[E++]=268435456|d[Z]<<18|g[K],U=31&d[Z],V=31&g[K],N+=c[U]+h[V],++C[257+U],++P[V],F=m+Z,++S):(D[E++]=e[m],++C[e[m]])}}v=W(e,p,a,D,C,P,N,E,R,m-R,v),!a&&7&v&&(v=G(p,v+1,_))}return L(f,0,n+O(v)+i)},K=function(){for(var e=new l(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e}(),H=function(){var e=-1;return{p:function(t){for(var r=e,n=0;n<t.length;++n)r=K[255&r^t[n]]^r>>>8;e=r},d:function(){return~e}}},Y=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}e=n,t=i},d:function(){return(255&(e%=65521))<<24|e>>>8<<16|(255&(t%=65521))<<8|t>>>8}}},Q=function(e,t,r,n,i){return Z(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!i)},$=function(e,t){var r,n={};for(r in e)n[r]=e[r];for(r in t)n[r]=t[r];return n},q=function(e,t,r){for(var n=e(),i=(e=e.toString()).slice(e.indexOf("[")+1,e.lastIndexOf("]")).replace(/ /g,"").split(","),a=0;a<n.length;++a){var o=n[a],s=i[a];if("function"==typeof o){t+=";"+s+"=";var u=o.toString();if(o.prototype)if(-1!=u.indexOf("[native code]")){var l=u.indexOf(" ",8)+1;t+=u.slice(l,u.indexOf("(",l))}else for(var c in t+=u,o.prototype)t+=";"+s+".prototype."+c+"="+o.prototype[c].toString();else t+=u}else r[s]=o}return[t,r]},J=[],ee=function(e,t,r,n){var c;if(!J[r]){for(var h="",f={},p=e.length-1,d=0;d<p;++d)h=(c=q(e[d],h,f))[0],f=c[1];J[r]=q(e[p],h,f)}var v=$({},J[r][1]);return function(e,t,r,n,s){return(t=o(i[t]||(i[t]=a(e)))).onerror=function(e){return s(e.error,null)},t.onmessage=function(e){return s(null,e.data)},t.postMessage(r,n),t}(J[r][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",r,v,function(e){var t,r=[];for(t in e)(e[t]instanceof s||e[t]instanceof u||e[t]instanceof l)&&r.push((e[t]=new e[t].constructor(e[t])).buffer);return r}(v),n)},te=function(){return[s,u,l,c,h,f,p,v,D,P,m,b,S,N,E,O,L,F,De,se,ue]},re=function(){return[s,u,l,c,h,f,d,g,A,x,C,I,m,X,_,b,R,U,z,B,V,j,G,W,O,L,Z,Q,Te,se]},ne=function(){return[pe,ge,fe,H,K]},ie=function(){return[de,ve]},ae=function(){return[me,fe,Y]},oe=function(){return[ye]},se=function(e){return postMessage(e,[e.buffer])},ue=function(e){return e&&e.size&&new s(e.size)},le=function(e,t,r,n,i,a){var o=ee(r,n,i,(function(e,t){o.terminate(),a(e,t)}));return o.postMessage([e,t],t.consume?[e.buffer]:[]),function(){o.terminate()}},ce=function(e,t){return e[t]|e[t+1]<<8},he=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},fe=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},pe=function(e,t){var r=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&fe(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),r){e[3]=8;for(var n=0;n<=r.length;++n)e[n+10]=r.charCodeAt(n)}},de=function(e){if(31!=e[0]||139!=e[1]||8!=e[2])throw"invalid gzip data";var t=e[3],r=10;4&t&&(r+=e[10]|2+(e[11]<<8));for(var n=(t>>3&1)+(t>>4&1);0<n;n-=!e[r++]);return r+(2&t)},ve=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},ge=function(e){return 10+(e.filename&&e.filename.length+1||0)},me=function(e,t){t=0==(t=t.level)?0:t<6?1:9==t?3:2,e[0]=120,e[1]=t<<6|(t?32-2*t:1)},ye=function(e){if(8!=(15&e[0])||7<e[0]>>>4||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function we(e,t){return t||"function"!=typeof e||(t=e,e={}),this.ondata=t,e}var be=function(){function e(e,t){t||"function"!=typeof e||(t=e,e={}),this.ondata=t,this.o=e||{}}return e.prototype.p=function(e,t){this.ondata(Q(e,this.o,0,0,!t),t)},e.prototype.push=function(e,t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=t,this.p(e,t||!1)},e}(),xe=function(e,t){M([re,function(){return[T,be]}],this,we.call(this,e,t),(function(e){e=new be(e.data),onmessage=T(e)}),6)};function Ie(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return le(e,t,[re],(function(e){return se(Te(e.data[0],e.data[1]))}),0,r)}function Te(e,t){return Q(e,t||{},0,0)}var Me=function(){function e(e){this.s={},this.p=new s(0),this.ondata=e}return e.prototype.e=function(e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var t=this.p.length,r=new s(t+e.length);r.set(this.p),r.set(e,t),this.p=r},e.prototype.c=function(e){this.d=this.s.i=e||!1,e=this.s.b;var t=F(this.p,this.o,this.s);this.ondata(L(t,e,this.s.b),this.d),this.o=L(t,this.s.b-32768),this.s.b=this.o.length,this.p=L(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}(),ke=function(e){this.ondata=e,M([te,function(){return[T,Me]}],this,0,(function(){var e=new Me;onmessage=T(e)}),7)};function Ae(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return le(e,t,[te],(function(e){return se(De(e.data[0],ue(e.data[1])))}),1,r)}function De(e,t){return F(e,t)}var Ce=function(){function e(e,t){this.c=H(),this.l=0,this.v=1,be.call(this,e,t)}return e.prototype.push=function(e,t){be.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e),this.l+=e.length,e=Q(e,this.o,this.v&&ge(this.o),t&&8,!t),this.v&&(pe(e,this.o),this.v=0),t&&(fe(e,e.length-8,this.c.d()),fe(e,e.length-4,this.l)),this.ondata(e,t)},e}(),Pe=function(e,t){M([re,ne,function(){return[T,be,Ce]}],this,we.call(this,e,t),(function(e){e=new Ce(e.data),onmessage=T(e)}),8)};function Se(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return le(e,t,[re,ne,function(){return[Ne]}],(function(e){return se(Ne(e.data[0],e.data[1]))}),2,r)}function Ne(e,t){t=t||{};var r=H(),n=e.length,i=(r.p(e),e=Q(e,t,ge(t),8)).length;return pe(e,t),fe(e,i-8,r.d()),fe(e,i-4,n),e}var Ee=function(){function e(e){this.v=1,Me.call(this,e)}return e.prototype.push=function(e,t){if(Me.prototype.e.call(this,e),this.v){if((e=3<this.p.length?de(this.p):4)>=this.p.length&&!t)return;this.p=this.p.subarray(e),this.v=0}if(t){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}Me.prototype.c.call(this,t)},e}(),Oe=function(e){this.ondata=e,M([te,ie,function(){return[T,Me,Ee]}],this,0,(function(){var e=new Ee;onmessage=T(e)}),9)};function Le(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return le(e,t,[te,ie,function(){return[Fe]}],(function(e){return se(Fe(e.data[0]))}),3,r)}function Fe(e,t){return F(e.subarray(de(e),-8),t||new s(ve(e)))}var Re=function(){function e(e,t){this.c=Y(),this.v=1,be.call(this,e,t)}return e.prototype.push=function(e,t){be.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e),e=Q(e,this.o,this.v&&2,t&&4,!t),this.v&&(me(e,this.o),this.v=0),t&&fe(e,e.length-4,this.c.d()),this.ondata(e,t)},e}(),Ue=function(e,t){M([re,ae,function(){return[T,be,Re]}],this,we.call(this,e,t),(function(e){e=new Re(e.data),onmessage=T(e)}),10)};function ze(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return le(e,t,[re,ae,function(){return[Be]}],(function(e){return se(Be(e.data[0],e.data[1]))}),4,r)}function Be(e,t){t=t||{};var r=Y();return r.p(e),e=Q(e,t,2,4),me(e,t),fe(e,e.length-4,r.d()),e}var Ve=function(){function e(e){this.v=1,Me.call(this,e)}return e.prototype.push=function(e,t){if(Me.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}if(t){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}Me.prototype.c.call(this,t)},e}(),je=function(e){this.ondata=e,M([te,oe,function(){return[T,Me,Ve]}],this,0,(function(){var e=new Ve;onmessage=T(e)}),11)};function Ge(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return le(e,t,[te,oe,function(){return[We]}],(function(e){return se(We(e.data[0],ue(e.data[1])))}),5,r)}function We(e,t){return F((ye(e),e.subarray(2,-4)),t)}var Xe=function(){function e(e){this.G=Ee,this.I=Me,this.Z=Ve,this.ondata=e}return e.prototype.push=function(e,t){if(!this.ondata)throw"no stream handler";var r,n;this.s?this.s.push(e,t):(this.p&&this.p.length?((r=new s(this.p.length+e.length)).set(this.p),r.set(e,this.p.length)):this.p=e,2<this.p.length&&((n=this).s=new(31==this.p[0]&&139==this.p[1]&&8==this.p[2]?this.G:8!=(15&this.p[0])||7<this.p[0]>>4||(this.p[0]<<8|this.p[1])%31?this.I:this.Z)((function(){n.ondata.apply(n,arguments)})),this.s.push(this.p,t),this.p=null))},e}(),_e=function(){function e(e){this.G=Oe,this.I=ke,this.Z=je,this.ondata=e}return e.prototype.push=function(e,t){Xe.prototype.push.call(this,e,t)},e}();function Ze(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";return(31==e[0]&&139==e[1]&&8==e[2]?Le:8!=(15&e[0])||7<e[0]>>4||(e[0]<<8|e[1])%31?Ae:Ge)(e,t,r)}function Ke(e,t){return(31==e[0]&&139==e[1]&&8==e[2]?Fe:8!=(15&e[0])||7<e[0]>>4||(e[0]<<8|e[1])%31?De:We)(e,t)}var He=function(e,t,r,n){for(var i in e){var a=e[i];i=t+i,a instanceof s?r[i]=[a,n]:Array.isArray(a)?r[i]=[a[0],$(n,a[1])]:He(a,i+"/",r,n)}},Ye="undefined"!=typeof TextEncoder&&new TextEncoder,Qe="undefined"!=typeof TextDecoder&&new TextDecoder,$e=0;try{Qe.decode(_,{stream:!0}),$e=1}catch(r){}var qe=function(e){for(var t="",r=0;;){var n=e[r++],i=(127<n)+(223<n)+(239<n);if(r+i>e.length)return[t,L(e,r-1)];i?3==i?(n=((15&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,t+=String.fromCharCode(55296|n>>10,56320|1023&n)):t+=1&i?String.fromCharCode((31&n)<<6|63&e[r++]):String.fromCharCode((15&n)<<12|(63&e[r++])<<6|63&e[r++]):t+=String.fromCharCode(n)}},Je=function(){function e(e){this.ondata=e,$e?this.t=new TextDecoder:this.p=_}return e.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(t=!!t,this.t){if(this.ondata(this.t.decode(e,{stream:!0}),t),t){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}}else{if(!this.p)throw"stream finished";var r=((r=new s(this.p.length+e.length)).set(this.p),r.set(e,this.p.length),e=qe(r))[0];if(e=e[1],t){if(e.length)throw"invalid utf-8 data";this.p=null}else this.p=e;this.ondata(r,t)}},e}(),et=function(){function e(e){this.ondata=e}return e.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata(tt(e),this.d=t||!1)},e}();function tt(e,t){if(t){for(var r=new s(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(Ye)return Ye.encode(e);var i=e.length,a=new s(e.length+(e.length>>1)),o=0,u=function(e){a[o++]=e};for(n=0;n<i;++n){o+5>a.length&&((l=new s(o+8+(i-n<<1))).set(a),a=l);var l=e.charCodeAt(n);l<128||t?u(l):(l<2048?u(192|l>>6):(55295<l&&l<57344?(u(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++n))>>18),u(128|l>>12&63)):u(224|l>>12),u(128|l>>6&63)),u(128|63&l))}return L(a,0,o)}function rt(e,t){if(t){for(var r="",n=0;n<e.length;n+=16384)r+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return r}if(Qe)return Qe.decode(e);var i=(t=qe(e))[0];if(t[1].length)throw"invalid utf-8 data";return i}function nt(e){return 1==e?3:e<6?2:9==e?1:0}var it=function(e,t){return t+30+ce(e,t+26)+ce(e,t+28)},at=function(e,t,r){var n=ce(e,t+28),i=rt(e.subarray(t+46,t+46+n),!(2048&ce(e,t+8))),a=(n=t+46+n,he(e,t+20)),o=(a=(r=r&&4294967295==a?ot(e,n):[a,he(e,t+24),he(e,t+42)])[0],r[1]);return r=r[2],[ce(e,t+10),a,o,i,n+ce(e,t+30)+ce(e,t+32),r]},ot=function(e,t){for(;1!=ce(e,t);t+=4+ce(e,t+2));return[k(e,t+12),k(e,t+4),k(e,t+20)]},st=function(e){var t=0;if(e)for(var r in e){if(65535<(r=e[r].length))throw"extra field too long";t+=r+4}return t},ut=function(e,t,r,n,i,a,o,s){var u=n.length,l=r.extra,c=s&&s.length,h=st(l),f=(fe(e,t,null!=o?33639248:67324752),t+=4,null!=o&&(e[t++]=20,e[t++]=r.os),e[t]=20,t+=2,e[t++]=r.flag<<1|(null==a&&8),e[t++]=i&&8,e[t++]=255&r.compression,e[t++]=r.compression>>8,i=new Date(null==r.mtime?Date.now():r.mtime)).getFullYear()-1980;if(f<0||119<f)throw"date not in range 1980-2099";if(fe(e,t,f<<25|i.getMonth()+1<<21|i.getDate()<<16|i.getHours()<<11|i.getMinutes()<<5|i.getSeconds()>>>1),t+=4,null!=a&&(fe(e,t,r.crc),fe(e,t+4,a),fe(e,t+8,r.size)),fe(e,t+12,u),fe(e,t+14,h),t+=16,null!=o&&(fe(e,t,c),fe(e,t+6,r.attrs),fe(e,t+10,o),t+=14),e.set(n,t),t+=u,h)for(var p in l){var d=l[p],v=d.length;fe(e,t,+p),fe(e,t+2,v),e.set(d,t+4),t+=4+v}return c&&(e.set(s,t),t+=c),t},lt=function(e,t,r,n,i){fe(e,t,101010256),fe(e,t+8,r),fe(e,t+10,r),fe(e,t+12,n),fe(e,t+16,i)},ct=function(){function e(e){this.filename=e,this.c=H(),this.size=0,this.compression=0}return e.prototype.process=function(e,t){this.ondata(null,e,t)},e.prototype.push=function(e,t){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},e}(),ht=function(){function e(e,t){var r=this;t=t||{},ct.call(this,e),this.d=new be(t,(function(e,t){r.ondata(null,e,t)})),this.compression=8,this.flag=nt(t.level)}return e.prototype.process=function(e,t){try{this.d.push(e,t)}catch(e){this.ondata(e,null,t)}},e.prototype.push=function(e,t){ct.prototype.push.call(this,e,t)},e}(),ft=function(){function e(e,t){var r=this;t=t||{},ct.call(this,e),this.d=new xe(t,(function(e,t,n){r.ondata(e,t,n)})),this.compression=8,this.flag=nt(t.level),this.terminate=this.d.terminate}return e.prototype.process=function(e,t){this.d.push(e,t)},e.prototype.push=function(e,t){ct.prototype.push.call(this,e,t)},e}(),pt=function(){function e(e){this.ondata=e,this.u=[],this.d=1}return e.prototype.add=function(e){var t=this;if(2&this.d)throw"stream finished";var r=tt(e.filename),n=r.length,i=(a=e.comment)&&tt(a),a=n!=e.filename.length||i&&a.length!=i.length,o=n+st(e.extra)+30;if(65535<n)throw"filename too long";function u(){for(var e=0,r=l;e<r.length;e++){var n=r[e];t.ondata(null,n,!1)}l=[]}n=new s(o);var l=(ut(n,0,e,r,a),[n]),c=this.d,h=(this.d=0,this.u.length),f=$(e,{f:r,u:a,o:i,t:function(){e.terminate&&e.terminate()},r:function(){var e;u(),c&&((e=t.u[h+1])?e.r():t.d=1),c=1}}),p=0;e.ondata=function(r,n,i){r?(t.ondata(r,n,i),t.terminate()):(p+=n.length,l.push(n),i?(r=new s(16),fe(r,0,134695760),fe(r,4,e.crc),fe(r,8,p),fe(r,12,e.size),l.push(r),f.c=p,f.b=o+p+16,f.crc=e.crc,f.size=e.size,c&&f.r(),c=1):c&&u())},this.u.push(f)},e.prototype.end=function(){var e=this;if(2&this.d){if(1&this.d)throw"stream finishing";throw"stream finished"}this.d?this.e():this.u.push({r:function(){1&e.d&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},e.prototype.e=function(){for(var e=0,t=0,r=0,n=0,i=this.u;n<i.length;n++)r+=46+(l=i[n]).f.length+st(l.extra)+(l.o?l.o.length:0);for(var a=new s(r+22),o=0,u=this.u;o<u.length;o++){var l=u[o];ut(a,e,l,l.f,l.u,l.c,t,l.o),e+=46+l.f.length+st(l.extra)+(l.o?l.o.length:0),t+=l.b}lt(a,e,this.u.length,r,t),this.ondata(null,a,!0),this.d=2},e.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++)t[e].t();this.d=2},e}();function dt(e,t,r){if(r||(r=t,t={}),"function"!=typeof r)throw"no callback";for(var n={},i=(He(e,"",n,t),Object.keys(n)),a=i.length,o=0,u=0,l=a,c=new Array(a),h=[],f=function(){for(var e=0;e<h.length;++e)h[e]()},p=function(){for(var e=new s(u+22),t=o,n=u-o,i=u=0;i<l;++i){var a=c[i];try{var h=a.c.length,f=(ut(e,u,a,a.f,a.u,h),30+a.f.length+st(a.extra)),p=u+f;e.set(a.c,p),ut(e,o,a,a.f,a.u,h,u,a.m),o+=16+f+(a.m?a.m.length:0),u=p+h}catch(e){return r(e,null)}}lt(e,o,c.length,n,t),r(null,e)},d=(a||p(),function(e){function t(t,n){t?(f(),r(t,null)):(t=n.length,c[e]=$(v,{size:m,crc:g.d(),c:n,f:y,m:x,u:w!=s.length||x&&b.length!=I,compression:M}),o+=30+w+T+t,u+=76+2*(w+T)+(I||0)+t,--a||p())}var s=i[e],l=n[s],d=l[0],v=l[1],g=H(),m=d.length,y=(g.p(d),tt(s)),w=y.length,b=v.comment,x=b&&tt(b),I=x&&x.length,T=st(v.extra),M=0==v.level?0:8;if(65535<w&&t("filename too long",null),M)if(m<16e4)try{t(null,Te(d,v))}catch(l){t(l,null)}else h.push(Ie(d,v,t));else t(null,d)}),v=0;v<l;++v)d(v);return f}function vt(e,t){var r,n={},i=[],a=(He(e,"",n,t=t||{}),0),o=0;for(r in n){var u,l=(u=n[r])[0],c=0==(u=u[1]).level?0:8,h=(x=tt(r)).length,f=u.comment,p=f&&tt(f),d=p&&p.length,v=st(u.extra);if(65535<h)throw"filename too long";var g=c?Te(l,u):l,m=g.length,y=H();y.p(l),i.push($(u,{size:l.length,crc:y.d(),c:g,f:x,m:p,u:h!=r.length||p&&f.length!=d,o:a,compression:c})),a+=30+h+v+m,o+=76+2*(h+v)+(d||0)+m}for(var w=new s(o+22),b=(e=a,t=o-a,0);b<i.length;++b){ut(w,(x=i[b]).o,x,x.f,x.u,x.c.length);var x,I=30+x.f.length+st(x.extra);w.set(x.c,x.o+I),ut(w,a,x,x.f,x.u,x.c.length,x.o,x.m),a+=16+I+(x.m?x.m.length:0)}return lt(w,a,i.length,t,e),w}var gt=function(){function e(){}return e.prototype.push=function(e,t){this.ondata(null,e,t)},e.compression=0,e}(),mt=function(){function e(){var e=this;this.i=new Me((function(t,r){e.ondata(null,t,r)}))}return e.prototype.push=function(e,t){try{this.i.push(e,t)}catch(r){this.ondata(r,e,t)}},e.compression=8,e}(),yt=function(){function e(e,t){var r=this;t<32e4?this.i=new Me((function(e,t){r.ondata(null,e,t)})):(this.i=new ke((function(e,t,n){r.ondata(e,t,n)})),this.terminate=this.i.terminate)}return e.prototype.push=function(e,t){this.i.terminate&&(e=L(e,0)),this.i.push(e,t)},e.compression=8,e}(),wt=function(){function e(e){this.onfile=e,this.k=[],this.o={0:gt},this.p=_}return e.prototype.push=function(e,t){var r=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(0<this.c){var n=Math.min(this.c,e.length),i=e.subarray(0,n);if(this.c-=n,this.d?this.d.push(i,!this.c):this.k[0].push(i),(e=e.subarray(n)).length)return this.push(e,t)}else{for(var a=0,o=0,u=void 0,l=void 0,c=(this.p.length?e.length?((l=new s(this.p.length+e.length)).set(this.p),l.set(e,this.p.length)):l=this.p:l=e,l.length),h=this.c,f=(i=h&&this.d,this);o<c-4&&"break"!==function(){var e,t,n,i,s,p,d,v,g,m,y,w=he(l,o);return 67324752==w?(a=1,u=o,f.d=null,f.c=0,n=ce(l,o+6),e=ce(l,o+8),t=2048&n,n&=8,i=ce(l,o+26),s=ce(l,o+28),o+30+i+s<c&&(f.k.unshift(p=[]),a=2,d=he(l,o+18),v=he(l,o+22),g=rt(l.subarray(o+30,o+=30+i),!t),4294967295==d?(i=n?[-2]:ot(l,o),d=i[0],v=i[1]):n&&(d=-1),o+=s,f.c=d,y={name:g,compression:e,start:function(){if(!y.ondata)throw"no callback";if(d){var t=r.o[e];if(!t)throw"unknown compression type "+e;(m=d<0?new t(g):new t(g,d,v)).ondata=function(e,t,r){y.ondata(e,t,r)};for(var n=0,i=p;n<i.length;n++)m.push(i[n],!1);r.k[0]==p&&r.c?r.d=m:m.push(_,!0)}else y.ondata(null,_,!0)},terminate:function(){m&&m.terminate&&m.terminate()}},0<=d&&(y.size=d,y.originalSize=v),f.onfile(y)),"break"):h?134695760==w?(u=o+=12+(-2==h&&8),a=3,f.c=0,"break"):33639248==w?(u=o-=4,a=3,f.c=0,"break"):void 0:void 0}();++o);if(this.p=_,h<0&&(n=a?l.subarray(0,u-12-(-2==h&&8)-(134695760==he(l,u-16)&&4)):l.subarray(0,o),i?i.push(n,!!a):this.k[+(2==a)].push(n)),2&a)return this.push(l.subarray(o),t);this.p=l.subarray(o)}if(t){if(this.c)throw"invalid zip file";this.p=null}},e.prototype.register=function(e){this.o[e.compression]=e},e}();function bt(e,t){if("function"!=typeof t)throw"no callback";for(var r=[],n=function(){for(var e=0;e<r.length;++e)r[e]()},i={},a=e.length-22;101010256!=he(e,a);--a)if(!a||65558<e.length-a)return void t("invalid zip file",null);var o=ce(e,a+8),u=(o||t(null,{}),o),l=he(e,a+16),c=4294967295==l;if(c){if(a=he(e,a-12),101075792!=he(e,a))return void t("invalid zip file",null);u=o=he(e,a+32),l=he(e,a+48)}for(var h=function(a){function u(e,r){e?(n(),t(e,null)):(i[d]=r,--o||t(null,i))}var h=(g=at(e,l,c))[0],f=g[1],p=g[2],d=g[3],v=g[4],g=g[5];if(g=it(e,g),l=v,h)if(8==h)if(v=e.subarray(g,g+f),f<32e4)try{u(null,De(v,new s(p)))}catch(a){u(a,null)}else r.push(Ae(v,{size:p},u));else u("unknown compression type "+h,null);else u(null,L(e,g,g+f))},f=0;f<u;++f)h();return n}function xt(e){for(var t={},r=e.length-22;101010256!=he(e,r);--r)if(!r||65558<e.length-r)throw"invalid zip file";var n=ce(e,r+8);if(!n)return{};var i=4294967295==(p=he(e,r+16));if(i){if(r=he(e,r-12),101075792!=he(e,r))throw"invalid zip file";n=he(e,r+32),p=he(e,r+48)}for(var a=0;a<n;++a){var o=(f=at(e,p,i))[0],u=f[1],l=f[2],c=f[3],h=f[4],f=f[5],p=(f=it(e,f),h);if(o){if(8!=o)throw"unknown compression type "+o;t[c]=De(e.subarray(f,f+u),new s(l))}else t[c]=L(e,f,f+u)}return t}function It(e,t,r){var n=r.length-e-1;if(t>=r[n])return n-1;if(t<=r[e])return e;let i=e,a=n,o=Math.floor((i+a)/2);for(;t<r[o]||t>=r[o+1];)t<r[o]?a=o:i=o,o=Math.floor((i+a)/2);return o}class Tt extends n.Curve{constructor(e,t,r,i,a){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=a||this.knots.length-1;for(let e=0;e<r.length;++e){var o=r[e];this.controlPoints[e]=new n.Vector4(o.x,o.y,o.z,o.w)}}getPoint(e,t=new n.Vector3){return e=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),e=function(e,t,r,i){var a=It(e,i,t),o=function(e,t,r,n){var i=[],a=[],o=[];for(let c=i[0]=1;c<=r;++c){a[c]=t-n[e+1-c],o[c]=n[e+c]-t;let r=0;for(let e=0;e<c;++e){var s=o[e+1],u=a[c-e],l=i[e]/(s+u);i[e]=r+s*l,r=u*l}i[c]=r}return i}(a,i,e,t),s=new n.Vector4(0,0,0,0);for(let t=0;t<=e;++t){var u=r[a-e+t],l=o[t],c=u.w*l;s.x+=u.x*c,s.y+=u.y*c,s.z+=u.z*c,s.w+=u.w*l}return s}(this.degree,this.knots,this.controlPoints,e),1!==e.w&&e.divideScalar(e.w),t.set(e.x,e.y,e.z)}getTangent(e,t=new n.Vector3){e=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]);var r=function(e){var t=e.length,r=[],i=[];for(let o=0;o<t;++o){var a=e[o];r[o]=new n.Vector3(a.x,a.y,a.z),i[o]=a.w}var o=[];for(let e=0;e<t;++e){var s=r[e].clone();for(let t=1;t<=e;++t)s.sub(o[e-t].clone().multiplyScalar(function(e,t){let r=1;for(let t=2;t<=e;++t)r*=t;let n=1;for(let e=2;e<=t;++e)n*=e;for(let r=2;r<=e-t;++r)n*=r;return r/n}(e,t)*i[t]));o[e]=s.divideScalar(i[0])}return o}(function(e,t,r,i,a){var o=1<e?1:e,s=[],u=It(e,i,t),l=function(e,t,r,n,i){var a=[];for(let e=0;e<=r;++e)a[e]=0;var o=[];for(let e=0;e<=n;++e)o[e]=a.slice(0);var s=[];for(let e=0;e<=r;++e)s[e]=a.slice(0);s[0][0]=1;var u=a.slice(0),l=a.slice(0);for(let n=1;n<=r;++n){u[n]=t-i[e+1-n],l[n]=i[e+n]-t;let r=0;for(let e=0;e<n;++e){var c=l[e+1],h=u[n-e],f=(s[n][e]=c+h,s[e][n-1]/s[n][e]);s[e][n]=r+c*f,r=h*f}s[n][n]=r}for(let e=0;e<=r;++e)o[0][e]=s[e][r];for(let e=0;e<=r;++e){let t=0,i=1;var p=[];for(let e=0;e<=r;++e)p[e]=a.slice(0);for(let a=p[0][0]=1;a<=n;++a){let n=0;var d=e-a,v=r-a,g=(e>=a&&(p[i][0]=p[t][0]/s[1+v][d],n=p[i][0]*s[d][v]),-1<=d?1:-d),m=e-1<=v?a-1:r-e;for(let e=g;e<=m;++e)p[i][e]=(p[t][e]-p[t][e-1])/s[1+v][d+e],n+=p[i][e]*s[d+e][v];e<=v&&(p[i][a]=-p[t][a-1]/s[1+v][e],n+=p[i][a]*s[e][v]),o[a][e]=n,g=t,t=i,i=g}}let y=r;for(let e=1;e<=n;++e){for(let t=0;t<=r;++t)o[e][t]*=y;y*=r-e}return o}(u,i,e,o,t),c=[];for(let e=0;e<r.length;++e){var h=r[e].clone(),f=h.w;h.x*=f,h.y*=f,h.z*=f,c[e]=h}for(let t=0;t<=o;++t){var p=c[u-e].clone().multiplyScalar(l[t][0]);for(let r=1;r<=e;++r)p.add(c[u-e+r].clone().multiplyScalar(l[t][r]));s[t]=p}for(let e=o+1;e<=2;++e)s[e]=new n.Vector4(0,0,0);return s}(r=this.degree,this.knots,this.controlPoints,e));return t.copy(r[1]).normalize(),t}}let Mt,kt,At;class Dt extends n.Loader{constructor(e){super(e)}load(e,t,r,i){const a=this,o=""===a.path?n.LoaderUtils.extractUrlBase(e):a.path;var s=new n.FileLoader(this.manager);s.setPath(a.path),s.setResponseType("arraybuffer"),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,(function(r){try{t(a.parse(r,o))}catch(r){i&&i(r),a.manager.itemError(e)}}),r,i)}parse(e,t){if(i="Kaydara FBX Binary  \0",(r=e).byteLength>=i.length&&i===Xt(r,0,i.length))Mt=(new Et).parse(e);else{if(!function(e){var t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let r=0;for(let n=0;n<t.length;++n)if(function(t){var n=e[0];return e=e.slice(r+1),r++,n}()===t[n])return;return 1}(r=Xt(e)))throw new Error("THREE.FBXLoader: Unknown format.");if(Ft(r)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+Ft(r));Mt=(new Nt).parse(r)}var r,i=new n.TextureLoader(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new Ct(i,this.manager).parse(Mt)}}class Ct{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){kt=this.parseConnections();var e=this.parseImages(),t=(e=this.parseTextures(e),e=this.parseMaterials(e),this.parseDeformers()),r=(new Pt).parse(t);return this.parseScene(t,r,e),At}parseConnections(){const e=new Map;return"Connections"in Mt&&Mt.Connections.connections.forEach((function(t){var r=t[0],n=t[1],i=(t=t[2],e.has(r)||e.set(r,{parents:[],children:[]}),{ID:n,relationship:t});e.get(r).parents.push(i),e.has(n)||e.set(n,{parents:[],children:[]}),i={ID:r,relationship:t},e.get(n).children.push(i)})),e}parseImages(){var e={},t={};if("Video"in Mt.Objects){var r=Mt.Objects.Video;for(const o in r){var n,i,a=r[o];e[parseInt(o)]=a.RelativeFilename||a.Filename,"Content"in a&&(i=a.Content instanceof ArrayBuffer&&0<a.Content.byteLength,n="string"==typeof a.Content&&""!==a.Content,i||n)&&(i=this.parseImage(r[o]),t[a.RelativeFilename||a.Filename]=i)}}for(const r in e){var o=e[r];e[r]=void 0!==t[o]?t[o]:e[r].split("\\").pop()}return e}parseImage(e){var t=e.Content;let r;switch(e=(e=e.RelativeFilename||e.Filename).slice(e.lastIndexOf(".")+1).toLowerCase()){case"bmp":r="image/bmp";break;case"jpg":case"jpeg":r="image/jpeg";break;case"png":r="image/png";break;case"tif":r="image/tiff";break;case"tga":this.manager.getHandler(".tga"),r="image/tga";break;default:return}return"string"==typeof t?"data:"+r+";base64,"+t:(e=new Uint8Array(t),window.URL.createObjectURL(new Blob([e],{type:r})))}parseTextures(e){var t=new Map;if("Texture"in Mt.Objects){var r=Mt.Objects.Texture;for(const i in r){var n=this.parseTexture(r[i],e);t.set(parseInt(i),n)}}return t}parseTexture(e,t){var r=((t=this.loadTexture(e,t)).ID=e.id,t.name=e.attrName,e.WrapModeU),i=e.WrapModeV;return r=void 0!==r?r.value:0,i=void 0!==i?i.value:0,t.wrapS=0===r?n.RepeatWrapping:n.ClampToEdgeWrapping,t.wrapT=0===i?n.RepeatWrapping:n.ClampToEdgeWrapping,"Scaling"in e&&(r=e.Scaling.value,t.repeat.x=r[0],t.repeat.y=r[1]),t}loadTexture(e,t){let r;var i=this.textureLoader.path,a=kt.get(e.id).children;let o;return void 0!==a&&0<a.length&&void 0!==t[a[0].ID]&&(0!==(r=t[a[0].ID]).indexOf("blob:")&&0!==r.indexOf("data:")||this.textureLoader.setPath(void 0)),o="tga"===(t=e.FileName.slice(-3).toLowerCase())?null===(a=this.manager.getHandler(".tga"))?new n.Texture:(a.setPath(this.textureLoader.path),a.load(r)):"psd"===t?new n.Texture:this.textureLoader.load(r),this.textureLoader.setPath(i),o}parseMaterials(e){var t=new Map;if("Material"in Mt.Objects){var r=Mt.Objects.Material;for(const i in r){var n=this.parseMaterial(r[i],e);null!==n&&t.set(parseInt(i),n)}}return t}parseMaterial(e,t){var r=e.id,i=e.attrName;let a,o=e.ShadingModel;if("object"==typeof o&&(o=o.value),!kt.has(r))return null;switch(e=this.parseParameters(e,t,r),o.toLowerCase()){case"phong":default:a=new n.MeshPhongMaterial;break;case"lambert":a=new n.MeshLambertMaterial}return a.setValues(e),a.name=i,a}parseParameters(e,t,r){const i={},a=(e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=(new n.Color).fromArray(e.Diffuse.value):!e.DiffuseColor||"Color"!==e.DiffuseColor.type&&"ColorRGB"!==e.DiffuseColor.type||(i.color=(new n.Color).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=(new n.Color).fromArray(e.Emissive.value):!e.EmissiveColor||"Color"!==e.EmissiveColor.type&&"ColorRGB"!==e.EmissiveColor.type||(i.emissive=(new n.Color).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=(new n.Color).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(i.specular=(new n.Color).fromArray(e.SpecularColor.value)),this);return kt.get(r).children.forEach((function(e){switch(e.relationship){case"Bump":i.bumpMap=a.getTexture(t,e.ID);break;case"Maya|TEX_ao_map":i.aoMap=a.getTexture(t,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=a.getTexture(t,e.ID),void 0!==i.map&&(i.map.encoding=n.sRGBEncoding);break;case"DisplacementColor":i.displacementMap=a.getTexture(t,e.ID);break;case"EmissiveColor":i.emissiveMap=a.getTexture(t,e.ID),void 0!==i.emissiveMap&&(i.emissiveMap.encoding=n.sRGBEncoding);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=a.getTexture(t,e.ID);break;case"ReflectionColor":i.envMap=a.getTexture(t,e.ID),void 0!==i.envMap&&(i.envMap.mapping=n.EquirectangularReflectionMapping,i.envMap.encoding=n.sRGBEncoding);break;case"SpecularColor":i.specularMap=a.getTexture(t,e.ID),void 0!==i.specularMap&&(i.specularMap.encoding=n.sRGBEncoding);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=a.getTexture(t,e.ID),i.transparent=!0}})),i}getTexture(e,t){return"LayeredTexture"in Mt.Objects&&t in Mt.Objects.LayeredTexture&&(t=kt.get(t).children[0].ID),e.get(t)}parseDeformers(){var e={},t={};if("Deformer"in Mt.Objects){var r=Mt.Objects.Deformer;for(const o in r){var n,i=r[o],a=kt.get(parseInt(o));"Skin"===i.attrType?((n=this.parseSkeleton(a,r)).ID=o,a.parents.length,n.geometryID=a.parents[0].ID,e[o]=n):"BlendShape"===i.attrType&&((n={id:o}).rawTargets=this.parseMorphTargets(a,r),n.id=o,a.parents.length,t[o]=n)}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const r=[];return e.children.forEach((function(e){var i=t[e.ID];"Cluster"===i.attrType&&(e={ID:e.ID,indices:[],weights:[],transformLink:(new n.Matrix4).fromArray(i.TransformLink.a)},"Indexes"in i&&(e.indices=i.Indexes.a,e.weights=i.Weights.a),r.push(e))})),{rawBones:r,bones:[]}}parseMorphTargets(e,t){var r=[];for(let o=0;o<e.children.length;o++){var n=e.children[o],i=t[n.ID],a={name:i.attrName,initialWeight:i.DeformPercent,id:i.id,fullWeights:i.FullWeights.a};if("BlendShapeChannel"!==i.attrType)return;a.geoID=kt.get(parseInt(n.ID)).children.filter((function(e){return void 0===e.relationship}))[0].ID,r.push(a)}return r}parseScene(e,t,r){At=new n.Group;const i=this.parseModels(e.skeletons,t,r),a=Mt.Objects.Model,o=this;i.forEach((function(e){var t=a[e.ID];o.setLookAtProperties(e,t),kt.get(e.ID).parents.forEach((function(t){void 0!==(t=i.get(t.ID))&&t.add(e)})),null===e.parent&&At.add(e)})),this.bindSkeleton(e.skeletons,t,i),this.createAmbientLight(),At.traverse((function(e){var t;e.userData.transformData&&(e.parent&&(e.userData.transformData.parentMatrix=e.parent.matrix,e.userData.transformData.parentMatrixWorld=e.parent.matrixWorld),t=jt(e.userData.transformData),e.applyMatrix4(t),e.updateWorldMatrix())})),r=(new St).parse(),1===At.children.length&&At.children[0].isGroup&&(At.children[0].animations=r,At=At.children[0]),At.animations=r}parseModels(e,t,r){var i=new Map,a=Mt.Objects.Model;for(const l in a){var o=parseInt(l),s=a[l],u=kt.get(o);let c=this.buildSkeleton(u,e,o,s.attrName);if(!c){switch(s.attrType){case"Camera":c=this.createCamera(u);break;case"Light":c=this.createLight(u);break;case"Mesh":c=this.createMesh(u,t,r);break;case"NurbsCurve":c=this.createCurve(u,t);break;case"LimbNode":case"Root":c=new n.Bone;break;default:c=new n.Group}c.name=s.attrName?n.PropertyBinding.sanitizeNodeName(s.attrName):"",c.ID=o}this.getTransformData(c,s),i.set(o,c)}return i}buildSkeleton(e,t,r,i){let a=null;return e.parents.forEach((function(e){for(const o in t){const s=t[o];s.rawBones.forEach((function(t,o){var u;t.ID===e.ID&&(u=a,(a=new n.Bone).matrixWorld.copy(t.transformLink),a.name=i?n.PropertyBinding.sanitizeNodeName(i):"",a.ID=r,s.bones[o]=a,null!==u)&&a.add(u)}))}})),a}createCamera(e){let t,r;if(e.children.forEach((function(e){void 0!==(e=Mt.Objects.NodeAttribute[e.ID])&&(r=e)})),void 0===r)t=new n.Object3D;else{let e=0,o=(void 0!==r.CameraProjectionType&&1===r.CameraProjectionType.value&&(e=1),1),s=(void 0!==r.NearPlane&&(o=r.NearPlane.value/1e3),1e3),u=(void 0!==r.FarPlane&&(s=r.FarPlane.value/1e3),window.innerWidth),l=window.innerHeight;void 0!==r.AspectWidth&&void 0!==r.AspectHeight&&(u=r.AspectWidth.value,l=r.AspectHeight.value);var i=u/l;let c=45;void 0!==r.FieldOfView&&(c=r.FieldOfView.value);var a=r.FocalLength?r.FocalLength.value:null;switch(e){case 0:t=new n.PerspectiveCamera(c,i,o,s),null!==a&&t.setFocalLength(a);break;case 1:t=new n.OrthographicCamera(-u/2,u/2,l/2,-l/2,o,s);break;default:t=new n.Object3D}}return t}createLight(e){let t,r;if(e.children.forEach((function(e){void 0!==(e=Mt.Objects.NodeAttribute[e.ID])&&(r=e)})),void 0===r)t=new n.Object3D;else{let e,i=(e=void 0===r.LightType?0:r.LightType.value,16777215),a=(void 0!==r.Color&&(i=(new n.Color).fromArray(r.Color.value)),void 0===r.Intensity?1:r.Intensity.value/100),o=(void 0!==r.CastLightOnObject&&0===r.CastLightOnObject.value&&(a=0),0);switch(void 0!==r.FarAttenuationEnd&&(o=void 0!==r.EnableFarAttenuation&&0===r.EnableFarAttenuation.value?0:r.FarAttenuationEnd.value),e){case 0:t=new n.PointLight(i,a,o,1);break;case 1:t=new n.DirectionalLight(i,a);break;case 2:let e=Math.PI/3,s=(void 0!==r.InnerAngle&&(e=n.MathUtils.degToRad(r.InnerAngle.value)),0);void 0!==r.OuterAngle&&(s=n.MathUtils.degToRad(r.OuterAngle.value),s=Math.max(s,1)),t=new n.SpotLight(i,a,o,e,s,1);break;default:t=new n.PointLight(i,a)}void 0!==r.CastShadows&&1===r.CastShadows.value&&(t.castShadow=!0)}return t}createMesh(e,t,r){let i,a=null,o=null;const s=[];return e.children.forEach((function(e){t.has(e.ID)&&(a=t.get(e.ID)),r.has(e.ID)&&s.push(r.get(e.ID))})),1<s.length?o=s:0<s.length?o=s[0]:(o=new n.MeshPhongMaterial({color:13421772}),s.push(o)),"color"in a.attributes&&s.forEach((function(e){e.vertexColors=!0})),a.FBX_Deformer?(i=new n.SkinnedMesh(a,o)).normalizeSkinWeights():i=new n.Mesh(a,o),i}createCurve(e,t){e=e.children.reduce((function(e,r){return t.has(r.ID)?t.get(r.ID):e}),null);var r=new n.LineBasicMaterial({color:3342591,linewidth:1});return new n.Line(e,r)}getTransformData(e,t){var r={};"InheritType"in t&&(r.inheritType=parseInt(t.InheritType.value)),r.eulerOrder="RotationOrder"in t?Gt(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(r.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(r.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(r.rotationPivot=t.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,t){"LookAtProperty"in t&&kt.get(e.ID).children.forEach((function(t){"LookAtProperty"===t.relationship&&"Lcl_Translation"in(t=Mt.Objects.Model[t.ID])&&(t=t.Lcl_Translation.value,void 0!==e.target?(e.target.position.fromArray(t),At.add(e.target)):e.lookAt((new n.Vector3).fromArray(t)))}))}bindSkeleton(e,t,r){const i=this.parsePoseNodes();for(const a in e){const o=e[a];kt.get(parseInt(o.ID)).parents.forEach((function(e){t.has(e.ID)&&(e=e.ID,kt.get(e).parents.forEach((function(e){r.has(e.ID)&&r.get(e.ID).bind(new n.Skeleton(o.bones),i[e.ID])})))}))}}parsePoseNodes(){const e={};if("Pose"in Mt.Objects){var t,r=Mt.Objects.Pose;for(const i in r)"BindPose"===r[i].attrType&&0<r[i].NbPoseNodes&&(t=r[i].PoseNode,Array.isArray(t)?t.forEach((function(t){e[t.Node]=(new n.Matrix4).fromArray(t.Matrix.a)})):e[t.Node]=(new n.Matrix4).fromArray(t.Matrix.a))}return e}createAmbientLight(){var e,t,r;"GlobalSettings"in Mt&&"AmbientColor"in Mt.GlobalSettings&&(r=(t=Mt.GlobalSettings.AmbientColor.value)[0],e=t[1],t=t[2],0===r&&0===e&&0===t||(r=new n.Color(r,e,t),At.add(new n.AmbientLight(r,1))))}}class Pt{parse(e){var t=new Map;if("Geometry"in Mt.Objects){var r=Mt.Objects.Geometry;for(const i in r){var n=kt.get(parseInt(i));n=this.parseGeometry(n,r[i],e),t.set(parseInt(i),n)}}return t}parseGeometry(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,r){const n=r.skeletons,i=[];var a,o=e.parents.map((function(e){return Mt.Objects.Model[e.ID]}));if(0!==o.length)return a=e.children.reduce((function(e,t){return void 0!==n[t.ID]?n[t.ID]:e}),null),e.children.forEach((function(e){void 0!==r.morphTargets[e.ID]&&i.push(r.morphTargets[e.ID])})),e={},"RotationOrder"in(o=o[0])&&(e.eulerOrder=Gt(o.RotationOrder.value)),"InheritType"in o&&(e.inheritType=parseInt(o.InheritType.value)),"GeometricTranslation"in o&&(e.translation=o.GeometricTranslation.value),"GeometricRotation"in o&&(e.rotation=o.GeometricRotation.value),"GeometricScaling"in o&&(e.scale=o.GeometricScaling.value),o=jt(e),this.genGeometry(t,a,i,o)}genGeometry(e,t,r,i){const a=new n.BufferGeometry;e.attrName&&(a.name=e.attrName);var o=this.parseGeoNode(e,t);const s=this.genBuffers(o);var u=new n.Float32BufferAttribute(s.vertex,3);if(u.applyMatrix4(i),a.setAttribute("position",u),0<s.colors.length&&a.setAttribute("color",new n.Float32BufferAttribute(s.colors,3)),t&&(a.setAttribute("skinIndex",new n.Uint16BufferAttribute(s.weightsIndices,4)),a.setAttribute("skinWeight",new n.Float32BufferAttribute(s.vertexWeights,4)),a.FBX_Deformer=t),0<s.normal.length&&(u=(new n.Matrix3).getNormalMatrix(i),(t=new n.Float32BufferAttribute(s.normal,3)).applyNormalMatrix(u),a.setAttribute("normal",t)),s.uvs.forEach((function(e,t){let r="uv"+(t+1).toString();0===t&&(r="uv"),a.setAttribute(r,new n.Float32BufferAttribute(s.uvs[t],2))})),o.material&&"AllSame"!==o.material.mappingType){let e=s.materialIndex[0],r=0;s.materialIndex.forEach((function(t,n){t!==e&&(a.addGroup(r,n-r,e),e=t,r=n)})),0<a.groups.length&&(t=(u=a.groups[a.groups.length-1]).start+u.count)!==s.materialIndex.length&&a.addGroup(t,s.materialIndex.length-t,e),0===a.groups.length&&a.addGroup(0,s.materialIndex.length,s.materialIndex[0])}return this.addMorphTargets(a,e,r,i),a}parseGeoNode(e,t){const r={};if(r.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],r.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let t=0;for(;e.LayerElementUV[t];)e.LayerElementUV[t].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[t])),t++}return r.weightTable={},null!==t&&(r.skeleton=t).rawBones.forEach((function(e,t){e.indices.forEach((function(n,i){void 0===r.weightTable[n]&&(r.weightTable[n]=[]),r.weightTable[n].push({id:t,weight:e.weights[i]})}))})),r}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,n=0,i=!1,a=[],o=[],s=[],u=[],l=[],c=[];const h=this;return e.vertexIndices.forEach((function(f,p){let d,v=!1,g=(f<0&&(f^=-1,v=!0),[]),m=[];var y;if(a.push(3*f,3*f+1,3*f+2),e.color&&(y=zt(p,r,f,e.color),s.push(y[0],y[1],y[2])),e.skeleton){if(void 0!==e.weightTable[f]&&e.weightTable[f].forEach((function(e){m.push(e.weight),g.push(e.id)})),4<m.length){i=i||!0;const e=[0,0,0,0],t=[0,0,0,0];m.forEach((function(r,n){let i=r,a=g[n];t.forEach((function(t,r,n){i>t&&(n[r]=i,i=t,n=e[r],e[r]=a,a=n)}))})),g=e,m=t}for(;m.length<4;)m.push(0),g.push(0);for(let e=0;e<4;++e)l.push(m[e]),c.push(g[e])}e.normal&&(y=zt(p,r,f,e.normal),o.push(y[0],y[1],y[2])),e.material&&"AllSame"!==e.material.mappingType&&(d=zt(p,r,f,e.material)[0]),e.uv&&e.uv.forEach((function(e,t){e=zt(p,r,f,e),void 0===u[t]&&(u[t]=[]),u[t].push(e[0]),u[t].push(e[1])})),n++,v&&(h.genFace(t,e,a,d,o,s,u,l,c,n),r++,n=0,a=[],o=[],s=[],u=[],l=[],c=[])})),t}genFace(e,t,r,n,i,a,o,s,u,l){for(let c=2;c<l;c++)e.vertex.push(t.vertexPositions[r[0]]),e.vertex.push(t.vertexPositions[r[1]]),e.vertex.push(t.vertexPositions[r[2]]),e.vertex.push(t.vertexPositions[r[3*(c-1)]]),e.vertex.push(t.vertexPositions[r[3*(c-1)+1]]),e.vertex.push(t.vertexPositions[r[3*(c-1)+2]]),e.vertex.push(t.vertexPositions[r[3*c]]),e.vertex.push(t.vertexPositions[r[3*c+1]]),e.vertex.push(t.vertexPositions[r[3*c+2]]),t.skeleton&&(e.vertexWeights.push(s[0]),e.vertexWeights.push(s[1]),e.vertexWeights.push(s[2]),e.vertexWeights.push(s[3]),e.vertexWeights.push(s[4*(c-1)]),e.vertexWeights.push(s[4*(c-1)+1]),e.vertexWeights.push(s[4*(c-1)+2]),e.vertexWeights.push(s[4*(c-1)+3]),e.vertexWeights.push(s[4*c]),e.vertexWeights.push(s[4*c+1]),e.vertexWeights.push(s[4*c+2]),e.vertexWeights.push(s[4*c+3]),e.weightsIndices.push(u[0]),e.weightsIndices.push(u[1]),e.weightsIndices.push(u[2]),e.weightsIndices.push(u[3]),e.weightsIndices.push(u[4*(c-1)]),e.weightsIndices.push(u[4*(c-1)+1]),e.weightsIndices.push(u[4*(c-1)+2]),e.weightsIndices.push(u[4*(c-1)+3]),e.weightsIndices.push(u[4*c]),e.weightsIndices.push(u[4*c+1]),e.weightsIndices.push(u[4*c+2]),e.weightsIndices.push(u[4*c+3])),t.color&&(e.colors.push(a[0]),e.colors.push(a[1]),e.colors.push(a[2]),e.colors.push(a[3*(c-1)]),e.colors.push(a[3*(c-1)+1]),e.colors.push(a[3*(c-1)+2]),e.colors.push(a[3*c]),e.colors.push(a[3*c+1]),e.colors.push(a[3*c+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(n),e.materialIndex.push(n),e.materialIndex.push(n)),t.normal&&(e.normal.push(i[0]),e.normal.push(i[1]),e.normal.push(i[2]),e.normal.push(i[3*(c-1)]),e.normal.push(i[3*(c-1)+1]),e.normal.push(i[3*(c-1)+2]),e.normal.push(i[3*c]),e.normal.push(i[3*c+1]),e.normal.push(i[3*c+2])),t.uv&&t.uv.forEach((function(t,r){void 0===e.uvs[r]&&(e.uvs[r]=[]),e.uvs[r].push(o[r][0]),e.uvs[r].push(o[r][1]),e.uvs[r].push(o[r][2*(c-1)]),e.uvs[r].push(o[r][2*(c-1)+1]),e.uvs[r].push(o[r][2*c]),e.uvs[r].push(o[r][2*c+1])}))}addMorphTargets(e,t,r,n){if(0!==r.length){e.morphTargetsRelative=!0,e.morphAttributes.position=[];const i=this;r.forEach((function(r){r.rawTargets.forEach((function(r){var a=Mt.Objects.Geometry[r.geoID];void 0!==a&&i.genMorphGeometry(e,t,a,n,r.name)}))}))}}genMorphGeometry(e,t,r,i,a){t=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[];var o=void 0!==r.Vertices?r.Vertices.a:[],s=void 0!==r.Indexes?r.Indexes.a:[],u=3*e.attributes.position.count,l=new Float32Array(u);for(let e=0;e<s.length;e++){var c=3*s[e];l[c]=o[3*e],l[1+c]=o[3*e+1],l[2+c]=o[3*e+2]}u=this.genBuffers({vertexIndices:t,vertexPositions:l}),(t=new n.Float32BufferAttribute(u.vertex,3)).name=a||r.attrName,t.applyMatrix4(i),e.morphAttributes.position.push(t)}parseNormals(e){var t=e.MappingInformationType,r=e.ReferenceInformationType,n=e.Normals.a;let i=[];return"IndexToDirect"===r&&("NormalIndex"in e?i=e.NormalIndex.a:"NormalsIndex"in e&&(i=e.NormalsIndex.a)),{dataSize:3,buffer:n,indices:i,mappingType:t,referenceType:r}}parseUVs(e){var t=e.MappingInformationType,r=e.ReferenceInformationType;let n=[];return{dataSize:2,buffer:e.UV.a,indices:n="IndexToDirect"===r?e.UVIndex.a:n,mappingType:t,referenceType:r}}parseVertexColors(e){var t=e.MappingInformationType,r=e.ReferenceInformationType;let n=[];return{dataSize:4,buffer:e.Colors.a,indices:n="IndexToDirect"===r?e.ColorIndex.a:n,mappingType:t,referenceType:r}}parseMaterialIndices(e){var t=e.MappingInformationType,r=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};var n=e.Materials.a,i=[];for(let e=0;e<n.length;++e)i.push(e);return{dataSize:1,buffer:n,indices:i,mappingType:t,referenceType:r}}parseNurbsGeometry(e){if(void 0===Tt)return new n.BufferGeometry;var t=parseInt(e.Order);if(isNaN(t))return new n.BufferGeometry;var r=t-1,i=(t=e.KnotVector.a,[]),a=e.Points.a;for(let e=0,t=a.length;e<t;e+=4)i.push((new n.Vector4).fromArray(a,e));let o,s;if("Closed"===e.Form)i.push(i[0]);else if("Periodic"===e.Form){o=r,s=t.length-1-o;for(let e=0;e<r;++e)i.push(i[e])}return e=new Tt(r,t,i,o,s).getPoints(12*i.length),(new n.BufferGeometry).setFromPoints(e)}}class St{parse(){var e=[],t=this.parseClips();if(void 0!==t)for(const n in t){var r=t[n];r=this.addClip(r),e.push(r)}return e}parseClips(){var e;if(void 0!==Mt.Objects.AnimationCurve)return e=this.parseAnimationCurveNodes(),this.parseAnimationCurves(e),e=this.parseAnimationLayers(e),this.parseAnimStacks(e)}parseAnimationCurveNodes(){var e=Mt.Objects.AnimationCurveNode,t=new Map;for(const n in e){var r=e[n];null!==r.attrName.match(/S|R|T|DeformPercent/)&&(r={id:r.id,attr:r.attrName,curves:{}},t.set(r.id,r))}return t}parseAnimationCurves(e){var t=Mt.Objects.AnimationCurve;for(const a in t){var r,n={id:t[a].id,times:t[a].KeyTime.a.map(Rt),values:t[a].KeyValueFloat.a},i=kt.get(n.id);void 0!==i&&(r=i.parents[0].ID,(i=i.parents[0].relationship).match(/X/)?e.get(r).curves.x=n:i.match(/Y/)?e.get(r).curves.y=n:i.match(/Z/)?e.get(r).curves.z=n:i.match(/d|DeformPercent/)&&e.has(r)&&(e.get(r).curves.morph=n))}}parseAnimationLayers(e){var t=Mt.Objects.AnimationLayer,r=new Map;for(const a in t){const t=[];var i=kt.get(parseInt(a));void 0!==i&&(i.children.forEach((function(r,i){if(e.has(r.ID)){var a=e.get(r.ID);if(void 0!==a.curves.x||void 0!==a.curves.y||void 0!==a.curves.z){if(void 0===t[i]){var o=kt.get(r.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID;if(void 0!==o){const e=Mt.Objects.Model[o.toString()];if(void 0===e)return;const r={modelName:e.attrName?n.PropertyBinding.sanitizeNodeName(e.attrName):"",ID:e.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};At.traverse((function(t){t.ID===e.id&&(r.transform=t.matrix,t.userData.transformData)&&(r.eulerOrder=t.userData.transformData.eulerOrder)})),r.transform||(r.transform=new n.Matrix4),"PreRotation"in e&&(r.preRotation=e.PreRotation.value),"PostRotation"in e&&(r.postRotation=e.PostRotation.value),t[i]=r}}t[i]&&(t[i][a.attr]=a)}else void 0!==a.curves.morph&&(void 0===t[i]&&(o=kt.get(r.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID,r=kt.get(o).parents[0].ID,r=kt.get(r).parents[0].ID,r=kt.get(r).parents[0].ID,r={modelName:(r=Mt.Objects.Model[r]).attrName?n.PropertyBinding.sanitizeNodeName(r.attrName):"",morphName:Mt.Objects.Deformer[o].attrName},t[i]=r),t[i][a.attr]=a)}})),r.set(parseInt(a),t))}return r}parseAnimStacks(e){var t=Mt.Objects.AnimationStack,r={};for(const i in t){var n=((n=kt.get(parseInt(i)).children).length,e.get(n[0].ID));r[i]={name:t[i].attrName,layer:n}}return r}addClip(e){let t=[];const r=this;return e.layer.forEach((function(e){t=t.concat(r.generateTracks(e))})),new n.AnimationClip(e.name,-1,t)}generateTracks(e){var t=[];let r=new n.Vector3;var i,a=new n.Quaternion;let o=new n.Vector3;return e.transform&&e.transform.decompose(r,a,o),r=r.toArray(),a=(new n.Euler).setFromQuaternion(a,e.eulerOrder).toArray(),o=o.toArray(),void 0!==e.T&&0<Object.keys(e.T.curves).length&&void 0!==(i=this.generateVectorTrack(e.modelName,e.T.curves,r,"position"))&&t.push(i),void 0!==e.R&&0<Object.keys(e.R.curves).length&&void 0!==(i=this.generateRotationTrack(e.modelName,e.R.curves,a,e.preRotation,e.postRotation,e.eulerOrder))&&t.push(i),void 0!==e.S&&0<Object.keys(e.S.curves).length&&void 0!==(a=this.generateVectorTrack(e.modelName,e.S.curves,o,"scale"))&&t.push(a),void 0!==e.DeformPercent&&void 0!==(i=this.generateMorphTrack(e))&&t.push(i),t}generateVectorTrack(e,t,r,i){var a=this.getTimesForAllAxes(t);return t=this.getKeyframeTrackValues(a,t,r),new n.VectorKeyframeTrack(e+"."+i,a,t)}generateRotationTrack(e,t,r,i,a,o){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(n.MathUtils.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(n.MathUtils.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(n.MathUtils.degToRad));var s=this.getTimesForAllAxes(t),u=this.getKeyframeTrackValues(s,t,r),l=(void 0!==i&&((i=i.map(n.MathUtils.degToRad)).push(o),i=(new n.Euler).fromArray(i),i=(new n.Quaternion).setFromEuler(i)),void 0!==a&&((a=a.map(n.MathUtils.degToRad)).push(o),a=(new n.Euler).fromArray(a),a=(new n.Quaternion).setFromEuler(a).invert()),new n.Quaternion),c=new n.Euler,h=[];for(let e=0;e<u.length;e+=3)c.set(u[e],u[e+1],u[e+2],o),l.setFromEuler(c),void 0!==i&&l.premultiply(i),void 0!==a&&l.multiply(a),l.toArray(h,e/3*4);return new n.QuaternionKeyframeTrack(e+".quaternion",s,h)}generateMorphTrack(e){var t=e.DeformPercent.curves.morph,r=t.values.map((function(e){return e/100})),i=At.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new n.NumberKeyframeTrack(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)}getTimesForAllAxes(e){let t=[];if(void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),1<(t=(t=void 0!==e.z?t.concat(e.z.times):t).sort((function(e,t){return e-t}))).length){let e=1,n=t[0];for(let i=1;i<t.length;i++){var r=t[i];r!==n&&(t[e]=r,n=r,e++)}t=t.slice(0,e)}return t}getKeyframeTrackValues(e,t,r){const n=r,i=[];let a=-1,o=-1,s=-1;return e.forEach((function(e){t.x&&(a=t.x.times.indexOf(e)),t.y&&(o=t.y.times.indexOf(e)),t.z&&(s=t.z.times.indexOf(e)),-1!==a?(e=t.x.values[a],i.push(e),n[0]=e):i.push(n[0]),-1!==o?(e=t.y.values[o],i.push(e),n[1]=e):i.push(n[1]),-1!==s?(e=t.z.values[s],i.push(e),n[2]=e):i.push(n[2])})),i}interpolateRotations(e){for(let u=1;u<e.values.length;u++){var t=e.values[u-1],r=e.values[u]-t;if(180<=(n=Math.abs(r))){var n,i=r/(n/=180);let l=t+i;r=e.times[u-1];var a=(e.times[u]-r)/n;let c=r+a;for(var o=[],s=[];c<e.times[u];)o.push(c),c+=a,s.push(l),l+=i;e.times=_t(e.times,u,o),e.values=_t(e.values,u,s)}}}}class Nt{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),--this.currentIndent}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new Lt,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,r=e.split(/[\r\n]+/);return r.forEach((function(e,n){var i,a=e.match(/^[\s\t]*;/),o=e.match(/^[\s\t]*$/);a||o||(a=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),o=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),i=e.match("^\\t{"+(t.currentIndent-1)+"}}"),a?t.parseNodeBegin(e,a):o?t.parseNodeProperty(e,o,r[++n]):i?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e))})),this.allNodes}parseNodeBegin(e,t){var r=t[1].trim().replace(/^"/,"").replace(/"$/,""),n=(t=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),{name:r}),i=(t=this.parseNodeAttr(t),this.getCurrentNode());0===this.currentIndent?this.allNodes.add(r,n):r in i?("PoseNode"===r?i.PoseNode.push(n):void 0!==i[r].id&&(i[r]={},i[r][i[r].id]=i[r]),""!==t.id&&(i[r][t.id]=n)):"number"==typeof t.id?(i[r]={},i[r][t.id]=n):"Properties70"!==r&&(i[r]="PoseNode"===r?[n]:n),"number"==typeof t.id&&(n.id=t.id),""!==t.name&&(n.attrName=t.name),""!==t.type&&(n.attrType=t.type),this.pushStack(n)}parseNodeAttr(e){let t=e[0],r=(""!==e[0]&&(t=parseInt(e[0]),isNaN(t))&&(t=e[0]),""),n="";return 1<e.length&&(r=e[1].replace(/^(\w+)::/,""),n=e[2]),{id:t,name:r,type:n}}parseNodeProperty(e,t,r){let n=t[1].replace(/^"/,"").replace(/"$/,"").trim(),i=t[2].replace(/^"/,"").replace(/"$/,"").trim();if("Content"===n&&","===i&&(i=r.replace(/"/g,"").replace(/,$/,"").trim()),"Properties70"===(t=this.getCurrentNode()).name)this.parseNodeSpecialProperty(e,n,i);else{if("C"===n){r=i.split(",").slice(1),e=parseInt(r[0]),r=parseInt(r[1]);let s=i.split(",").slice(3);s=s.map((function(e){return e.trim().replace(/^"/,"")})),n="connections";var a=i=[e,r],o=s;for(let e=0,t=a.length,r=o.length;e<r;e++,t++)a[t]=o[e];void 0===t[n]&&(t[n]=[])}"Node"===n&&(t.id=i),n in t&&Array.isArray(t[n])?t[n].push(i):"a"!==n?t[n]=i:t.a=i,this.setCurrentProp(t,n),"a"===n&&","!==i.slice(-1)&&(t.a=Wt(i))}}parseNodePropertyContinued(e){var t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=Wt(t.a))}parseNodeSpecialProperty(e,t,r){r=r.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")}));var n=r[0],i=r[1],a=r[2],o=r[3];let s=r[4];switch(i){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":s=parseFloat(s);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":s=Wt(s)}this.getPrevNode()[n]={type:i,type2:a,flag:o,value:s},this.setCurrentProp(this.getPrevNode(),n)}}class Et{parse(e){var t=new Ot(e),r=(t.skip(23),t.getUint32());if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);for(var n=new Lt;!this.endOfContent(t);){var i=this.parseNode(t,r);null!==i&&n.add(i.name,i)}return n}endOfContent(e){return e.size()%16==0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){var r={},n=7500<=t?e.getUint64():e.getUint32(),i=7500<=t?e.getUint64():e.getUint32(),a=(7500<=t?e.getUint64():e.getUint32(),e.getUint8()),o=e.getString(a);if(0===n)return null;var s=[];for(let t=0;t<i;t++)s.push(this.parseProperty(e));a=0<s.length?s[0]:"";var u=1<s.length?s[1]:"",l=2<s.length?s[2]:"";for(r.singleProperty=1===i&&e.getOffset()===n;n>e.getOffset();){var c=this.parseNode(e,t);null!==c&&this.parseSubNode(o,r,c)}return r.propertyList=s,"number"==typeof a&&(r.id=a),""!==u&&(r.attrName=u),""!==l&&(r.attrType=l),""!==o&&(r.name=o),r}parseSubNode(e,t,r){if(!0===r.singleProperty){var n=r.propertyList[0];Array.isArray(n)?(t[r.name]=r).a=n:t[r.name]=n}else if("Connections"===e&&"C"===r.name){const e=[];r.propertyList.forEach((function(t,r){0!==r&&e.push(t)})),void 0===t.connections&&(t.connections=[]),t.connections.push(e)}else if("Properties70"===r.name)Object.keys(r).forEach((function(e){t[e]=r[e]}));else if("Properties70"===e&&"P"===r.name){let i,a=r.propertyList[0],o=r.propertyList[1];n=r.propertyList[2],e=r.propertyList[3],0===a.indexOf("Lcl ")&&(a=a.replace("Lcl ","Lcl_")),0===o.indexOf("Lcl ")&&(o=o.replace("Lcl ","Lcl_")),i="Color"===o||"ColorRGB"===o||"Vector"===o||"Vector3D"===o||0===o.indexOf("Lcl_")?[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:r.propertyList[4],t[a]={type:o,type2:n,flag:e,value:i}}else void 0===t[r.name]?"number"==typeof r.id?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:"PoseNode"===r.name?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):void 0===t[r.name][r.id]&&(t[r.name][r.id]=r)}parseProperty(e){var t=e.getString(1);let r;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var n=e.getUint32(),i=e.getUint32(),a=e.getUint32();if(0===i)switch(t){case"b":case"c":return e.getBooleanArray(n);case"d":return e.getFloat64Array(n);case"f":return e.getFloat32Array(n);case"i":return e.getInt32Array(n);case"l":return e.getInt64Array(n)}i=We(new Uint8Array(e.getArrayBuffer(a)));var o=new Ot(i.buffer);switch(t){case"b":case"c":return o.getBooleanArray(n);case"d":return o.getFloat64Array(n);case"f":return o.getFloat32Array(n);case"i":return o.getInt32Array(n);case"l":return o.getInt64Array(n)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class Ot{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return!(1&~this.getUint8())}getBooleanArray(e){var t=[];for(let r=0;r<e;r++)t.push(this.getBoolean());return t}getUint8(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){var t=[];for(let r=0;r<e;r++)t.push(this.getInt32());return t}getUint32(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,4294967295==(e=4294967295&~e)&&(t=t+1&4294967295),e=e+1&4294967295,-(4294967296*t+e)):4294967296*t+e}getInt64Array(e){var t=[];for(let r=0;r<e;r++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e}getFloat32(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){var t=[];for(let r=0;r<e;r++)t.push(this.getFloat32());return t}getFloat64(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){var t=[];for(let r=0;r<e;r++)t.push(this.getFloat64());return t}getArrayBuffer(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let r=0;r<e;r++)t[r]=this.getUint8();var r=t.indexOf(0);return 0<=r&&(t=t.slice(0,r)),n.LoaderUtils.decodeText(new Uint8Array(t))}}class Lt{add(e,t){this[e]=t}}function Ft(e){if(e=e.match(/FBXVersion: (\d+)/))return parseInt(e[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function Rt(e){return e/46186158e3}const Ut=[];function zt(e,t,r,n){let i;switch(n.mappingType){case"ByPolygonVertex":i=e;break;case"ByPolygon":i=t;break;case"ByVertice":i=r;break;case"AllSame":i=n.indices[0]}var a=(i="IndexToDirect"===n.referenceType?n.indices[i]:i)*n.dataSize,o=a+n.dataSize,s=Ut,u=n.buffer,l=o;for(let e=a,t=0;e<l;e++,t++)s[t]=u[e];return s}const Bt=new n.Euler,Vt=new n.Vector3;function jt(e){var t=new n.Matrix4,r=new n.Matrix4,i=new n.Matrix4,a=new n.Matrix4,o=new n.Matrix4,s=new n.Matrix4,u=new n.Matrix4,l=new n.Matrix4,c=new n.Matrix4,h=new n.Matrix4,f=new n.Matrix4,p=new n.Matrix4,d=e.inheritType||0,v=(e.translation&&t.setPosition(Vt.fromArray(e.translation)),e.preRotation&&((v=e.preRotation.map(n.MathUtils.degToRad)).push(e.eulerOrder),r.makeRotationFromEuler(Bt.fromArray(v))),e.rotation&&((v=e.rotation.map(n.MathUtils.degToRad)).push(e.eulerOrder),i.makeRotationFromEuler(Bt.fromArray(v))),e.postRotation&&((v=e.postRotation.map(n.MathUtils.degToRad)).push(e.eulerOrder),a.makeRotationFromEuler(Bt.fromArray(v)),a.invert()),e.scale&&o.scale(Vt.fromArray(e.scale)),e.scalingOffset&&u.setPosition(Vt.fromArray(e.scalingOffset)),e.scalingPivot&&s.setPosition(Vt.fromArray(e.scalingPivot)),e.rotationOffset&&l.setPosition(Vt.fromArray(e.rotationOffset)),e.rotationPivot&&c.setPosition(Vt.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(f.copy(e.parentMatrix),h.copy(e.parentMatrixWorld)),r.clone().multiply(i).multiply(a)),g=(((e=new n.Matrix4).extractRotation(h),g=new n.Matrix4).copyPosition(h),g.clone().invert().multiply(h)),m=(g=e.clone().invert().multiply(g),o),y=new n.Matrix4;return(0===d?y.copy(e).multiply(v).multiply(g):1===d?y.copy(e).multiply(g).multiply(v):(d=(new n.Matrix4).scale((new n.Vector3).setFromMatrixScale(f)).clone().invert(),f=g.clone().multiply(d),y.copy(e).multiply(v).multiply(f))).multiply(m),g=c.clone().invert(),d=s.clone().invert(),e=t.clone().multiply(l).multiply(c).multiply(r).multiply(i).multiply(a).multiply(g).multiply(u).multiply(s).multiply(o).multiply(d),v=(new n.Matrix4).copyPosition(e),f=h.clone().multiply(v),p.copyPosition(f),(e=p.clone().multiply(y)).premultiply(h.invert()),e}function Gt(e){var t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(e=e||0)?t[0]:t[e]}function Wt(e){return e.split(",").map((function(e){return parseFloat(e)}))}function Xt(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=e.byteLength),n.LoaderUtils.decodeText(new Uint8Array(e,t,r))}function _t(e,t,r){return e.slice(0,t).concat(r).concat(e.slice(t))}}}]);
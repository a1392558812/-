"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[8723],{cpDa:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}}),a("kvaN"),a("o5/U"),a("pacc");var n=a("XEAi"),r=a("oekR"),o=a("n/QL"),l=a("KLu4");const i={key:0,style:{width:"600px",height:"600px"},class:"flex align-items-center justify-content-center"},u={key:1},s={class:"flex"},c={class:"video-player-wrap"},v={class:"video-label flex align-items-center"},d=(e=>((0,n.Qi)("data-v-0500422a"),e=e(),(0,n.jt)(),e))((()=>(0,n.Lk)("span",{style:{"margin-right":"10px"}},"录制预览",-1))),f={class:"video-player-wrap"},p={class:"video-label flex align-items-center"},h=["href"],k=["src"];t={__name:"index",setup(e){const{isSupported:t,enabled:a,stream:g,start:y,stop:b}=(0,l.W9b)(),m=(0,r.KR)(null),L=(0,r.KR)(null);let w;const x=()=>{L.value&&(URL.revokeObjectURL(L.value),L.value=null)};return(0,n.nT)((()=>{m.value&&(m.value.srcObject=g.value)})),(0,n.xo)((()=>{w.stop(),b(),x(),w=null})),(e,l)=>((0,n.uX)(),(0,n.CE)("div",null,[(0,r.R1)(t)?((0,n.uX)(),(0,n.CE)("div",u,[(0,n.Lk)("div",s,[(0,n.Lk)("div",c,[(0,n.Lk)("div",v,[d,(0,n.Lk)("button",{onClick:l[0]||(l[0]=e=>(0,r.R1)(a)?(w.stop(),w.ondataavailable=e=>{0<e.data.size&&(L.value=URL.createObjectURL(new Blob([e.data],{type:"video/mp4"})),w=null)},void b()):(x(),void y().then((()=>{(w=new MediaRecorder(g.value,{mimeType:"video/webm"})).start()}))))},(0,o.v_)((0,r.R1)(a)?"结束录制":"开始录制"),1)]),(0,n.Lk)("video",{class:"display-block video-player",ref_key:"videoRef",ref:m,muted:"",download:"",autoplay:"",controls:""},null,512)]),(0,n.Lk)("div",f,[(0,n.Lk)("div",p,[(0,n.Lk)("span",null,[(0,n.eW)("预览："),(0,n.Lk)("a",{href:L.value,download:""},(0,o.v_)(L.value),9,h)])]),(0,n.Lk)("video",{class:"display-block video-player",src:L.value,muted:"",download:"",autoplay:!1,preload:"auto",controls:""},null,8,k)])])])):((0,n.uX)(),(0,n.CE)("div",i," 浏览器不支持 "))]))}};var g=(0,a("uaZu").A)(t,[["__scopeId","data-v-0500422a"]])},kWh2:function(e,t,a){var n=a("dxB+"),r=a("hgw9"),o=a("wnEH"),l=a("vHVK")("toStringTag"),i=Object,u="Arguments"===o(function(){return arguments}());e.exports=n?o:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=i(e),l))?t:u?o(e):"Object"===(t=o(e))&&r(e.callee)?"Arguments":t}},"5u0C":function(e,t,a){var n=a("lMFB"),r=a("iAz1");e.exports=function(e,t,a){return a.get&&n(a.get,t,{getter:!0}),a.set&&n(a.set,t,{setter:!0}),r.f(e,t,a)}},"dxB+":function(e,t,a){var n={};n[a("vHVK")("toStringTag")]="z",e.exports="[object z]"===String(n)},"/uDU":function(e,t,a){var n=a("kWh2"),r=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}},"0MaD":function(e){var t=TypeError;e.exports=function(e,a){if(e<a)throw new t("Not enough arguments");return e}},kvaN:function(e,t,a){var n=a("P6Ci"),r=a("VWI/"),o=a("/uDU"),l=a("0MaD"),i=(a=URLSearchParams).prototype,u=r(i.append),s=r(i.delete),c=r(i.forEach),v=r([].push);(r=new a("a=1&a=2&b=3")).delete("a",1),r.delete("b",void 0),r+""!="a=2"&&n(i,"delete",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return s(this,e);for(var n,r=[],i=(c(this,(function(e,t){v(r,{key:t,value:e})})),l(t,1),o(e)),d=o(a),f=0,p=0,h=!1,k=r.length;f<k;)n=r[f++],h||n.key===i?(h=!0,s(this,n.key)):p++;for(;p<k;)(n=r[p++]).key===i&&n.value===d||u(this,n.key,n.value)}),{enumerable:!0,unsafe:!0})},"o5/U":function(e,t,a){var n=a("P6Ci"),r=a("VWI/"),o=a("/uDU"),l=a("0MaD"),i=(a=URLSearchParams).prototype,u=r(i.getAll),s=r(i.has);!(r=new a("a=1")).has("a",2)&&r.has("a",void 0)||n(i,"has",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return s(this,e);for(var n=u(this,e),r=(l(t,1),o(a)),i=0;i<n.length;)if(n[i++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},pacc:function(e,t,a){var n=a("S4+I"),r=a("VWI/"),o=(a=a("5u0C"),URLSearchParams.prototype),l=r(o.forEach);!n||"size"in o||a(o,"size",{get:function(){var e=0;return l(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);
"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[9131],{c3uC:function(e,t,i){i.r(t),i.d(t,{default:function(){return k}});var l=i("XEAi"),a=i("oekR"),r=(t=i("wZee"),t=i.n(t),i("GbPD")),n=(r=i.n(r),i("AsZ1")),d=(n=i.n(n),i("3vcW")),s=i("nTDo"),h=i("n/QL");const o=(e=>((0,l.dD)("data-v-448d850d"),e=e(),(0,l.Cn)(),e))((()=>(0,l._)("div",{class:"width100 text-align-center markdown-title-navigator"}," 标题导航 ",-1))),c=["onClick"];var m=i("gw9Z"),u=i("EVdn"),p={name:"NavigatorTitle",props:{ifLarger:{type:Boolean,default:!0},markdownTitleWidth:{type:String,default:"10px"},articleTitles:{type:Array,default:()=>[]},headerH:{type:String,default:"70px"}},setup(e,{emit:t}){const i=(0,a.iH)(0),r=(0,a.iH)(0);return(0,l.bv)((()=>{var t,l,a;i.value=e.ifLarger?((t=document.createElement("div")).style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t),l=t.offsetWidth,t.style.overflow="scroll",(a=document.createElement("div")).style.width="100%",t.appendChild(a),a=a.offsetWidth,document.body.removeChild(t),l-a):0,r.value=u(".home").height()})),{barWidth:i,articleTitlesHeight:r,handleAnchorClick:e=>{t("handleAnchorClick",e)}}}};const g=()=>{(0,m.sj)((e=>({d089c520:e.markdownTitleWidth,"8351b730":e.headerH})))},v=p.setup;p.setup=v?(e,t)=>(g(),v(e,t)):g;var w=i("uaZu"),f=(p=(0,w.Z)(p,[["render",function(e,t,i,a,r,n){return i.articleTitles.length?((0,l.wg)(),(0,l.iD)("div",{key:0,style:(0,h.j5)({right:a.barWidth+"px",height:a.articleTitlesHeight+"px"}),class:"fixed flex-shrink-0 markdown-title"},[(0,l._)("div",{class:(0,h.C_)([i.ifLarger?"scroll-bar-y":"","width100 height100 markdown-title-inner"])},[o,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.articleTitles,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"markdown-title-item",style:(0,h.j5)({padding:`10px 0 10px ${20*e.indent}px`})},[(0,l._)("a",{style:{cursor:"pointer"},onClick:t=>a.handleAnchorClick(e)},(0,h.zw)(e.title),9,c)],4)))),128))],2)],4)):(0,l.kq)("",!0)}],["__scopeId","data-v-448d850d"]]),i("EVdn")),k=(r().use(n(),{Prism:t()}),r().use((0,d.Z)()),r().use((0,s.Z)()),i={name:"Markdown",components:{navigatorTitle:p,VMdPreview:r()},props:{headerH:{type:String,default:"70px"},loading:{type:Boolean,default:!0},ifLarger:{type:Boolean,default:!0},htmlMD:{type:String,default:""},markdownTitleWidth:{type:String,default:""},title:{type:String,default:""}},setup(e){const t=(0,a.iH)(null),i=(0,a.iH)([]),r=(0,a.iH)("calc(100% - 170px)"),n=(0,a.iH)(e.htmlMD),d=()=>{if(t.value){var e=t.value.$el.querySelectorAll("h1,h2,h3,h4,h5,h6");if((e=Array.from(e).filter((e=>!!e.innerText.trim()))).length){const t=Array.from(new Set(e.map((e=>e.tagName)))).sort();i.value=e.map((e=>({title:e.innerText,lineIndex:e.getAttribute("data-v-md-line"),indent:t.indexOf(e.tagName)})))}else i.value=[]}else setTimeout((()=>{d()}))},s=()=>{r.value=`calc(100% - ${100+f(".home .title").outerHeight()}px)`};return(0,l.YP)((()=>e.htmlMD),(()=>{n.value=e.htmlMD,(0,l.Y3)().then((()=>{d()}))}),{immediate:!0}),(0,l.YP)((()=>e.title),(()=>{s()})),(0,l.YP)((()=>e.ifLarger),(e=>{(0,l.Y3)().then((()=>{f(".v-md-pre-wrapper pre[class*=v-md-prism-]")[e?"addClass":"removeClass"]("scroll-bar-x")}))}),{immediate:!0}),(0,l.bv)(s),{preview:t,htmlMarkStr:n,articleTitles:i,markdownMinHeight:r,handelClick:e=>{let t=f(e.target);if(t.hasClass("v-md-copy-code-btn")){let e=t.html(),i=(t.css({whiteSpace:"nowrap"}),{width:t.width(),height:t.height(),lineHeight:t.css("line-height"),whiteSpace:"nowrap"});t.html("复制成功"),t.css({width:"5em",height:"2em",lineHeight:"1.5em",transition:"all 0.3s"}),setTimeout((()=>{t.css(i),t.html(e),t=null,e=null,i=null}),1e3)}else t=null},handleCopyCodeSuccess:e=>{},handleAnchorClick:e=>{e=e.lineIndex,(e=t.value.$el.querySelector(`[data-v-md-line="${e}"]`))&&t.value.scrollToTarget({target:e,scrollContainer:f(".home")[0]})}}},render(){return(0,l.Wm)(l.HY,null,[(0,l.Wm)("div",{style:this.ifLarger&&this.articleTitles.length?{width:`calc(100% - ${this.markdownTitleWidth})`}:{width:"100%"},className:"title flex align-items-center justify-content-center"},[this.title]),(0,l.wy)((0,l.Wm)("div",{className:"relative markdown",style:{minHeight:this.markdownMinHeight}},[this.loading?null:(0,l.Wm)("div",{className:"flex height100"},[(0,l.Wm)((0,l.up)("v-md-preview"),{style:this.ifLarger&&this.articleTitles.length?{width:`calc(100% - ${this.markdownTitleWidth})`}:{width:"100%"},onClick:this.handelClick,"onCopy-code-success":this.handleCopyCodeSuccess,ref:"preview",text:this.htmlMarkStr},null),this.ifLarger?(0,l.Wm)((0,l.up)("navigator-title"),{ifLarger:this.ifLarger,markdownTitleWidth:this.markdownTitleWidth,articleTitles:this.articleTitles,onHandleAnchorClick:e=>{this.handleAnchorClick(e)}},null):null])]),[[(0,l.Q2)("loading"),this.loading]])])}},(0,w.Z)(i,[["__scopeId","data-v-419f8e35"]]))}}]);
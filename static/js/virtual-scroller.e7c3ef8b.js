"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[8775],{"Bx/C":function(e,t,i){i.d(t,{BP:function(){return d},K0:function(){return n},NP:function(){return c},Pc:function(){return o},Uj:function(){return r},_G:function(){return s},ar:function(){return a},e4:function(){return u},se:function(){return l},wm:function(){return h}}),i("60oc"),i("kvaN"),i("o5/U"),i("pacc"),i("vDqi");const r=[{suffix:"md",formatFun:e=>e},{suffix:"js",formatFun:e=>"```javascript\n"+e+"\n```"},{suffix:"ts",formatFun:e=>"```typescript\n"+e+"\n```"},{suffix:"jsx",formatFun:e=>"```jsx\n"+e+"\n```"},{suffix:"html",formatFun:e=>"```html\n"+e+"\n```"},{suffix:"css",formatFun:e=>"```css\n"+e+"\n```"},{suffix:"less",formatFun:e=>"```less\n"+e+"\n```"},{suffix:"scss",formatFun:e=>"```scss\n"+e+"\n```"},{suffix:"py",formatFun:e=>"```python\n"+e+"\n```"},{suffix:"json",formatFun:e=>"```json\n"+JSON.stringify({jsonData:e})+"\n```"},{suffix:"ejs",formatFun:e=>"```ejs\n"+e+"\n```"},{suffix:"vue",formatFun:e=>"```html\n"+e+"\n```"},{suffix:"txt",formatFun:e=>"```\n"+e+"\n```"}],s=e=>r.filter((t=>t.suffix===e)).length,n=e=>["jpg","png","gif","jpeg"].filter((t=>t===e)).length,o=(e,t=0,i)=>{if(0===(n=e.children("h3")).length)return 0<(r=e.children("a")).length?Object.freeze({name:r.text(),href:r.attr("href"),...r.attr("icon")?{icon:r.attr("icon")}:{}}):null;var r=n.text(),s=[],n={ifRender:!1,ifShow:!1},l=e.children("dl").children("dt");for(let e=0;e<l.length;e++){var a=o(l.eq(e));s.push(a)}return n.name=r,n.child=s,n},l=(e,t)=>Math.round(Math.random()*(t-e)+e),a=()=>window.location.origin+window.location.pathname,d=e=>new Promise((t=>{var i=new FileReader;i.readAsDataURL(e),i.onload=e=>{t(e.target.result)}})),c=(e=!0)=>{var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];if(e){let e="#";for(let i=0;i<6;i++)e+=t[Math.floor(Math.random()*t.length)];return e}return`rgb(${Math.floor(256*Math.random())},${Math.floor(256*Math.random())},${Math.floor(256*Math.random())})`},u=e=>{const t="data-loadtype",i="asyncloadjs";return new Promise(((r,s)=>{if(!document)return s(new Error("document not find"));let n=document.querySelector(`script[src="${e}"][${t}="${i}"]`);n&&(n.parentNode.removeChild(n),n=null),(n=document.createElement("script")).type="text/javascript",n.src=e,n.setAttribute(t,i),document.head.appendChild(n),n.onload=e=>{r()},n.onerror=e=>{s(new Error(e))}}))},h=e=>{const t="data-loadtype",i="asyncloadcss";return new Promise(((r,s)=>{if(!document)return s(new Error("document not find"));let n=document.querySelector(`link[href="${e}"][${t}="${i}"]`);n&&(n.parentNode.removeChild(n),n=null),(n=document.createElement("link")).href=e,n.rel="stylesheet",n.type="text/css",n.setAttribute(t,i),document.head.appendChild(n),n.onload=()=>{r()},n.onerror=e=>{s(new Error(e))}}))}},taby:function(e,t,i){i.d(t,{A:function(){return v}});var r=i("XEAi"),s=i("gw9Z"),n=i("n/QL");const o={class:"absolute toast-wrap"},l={class:"flex align-items-center line-height-1 toast-content"},a={style:{"margin-right":"20px"}},d=["onClick"],c=[(e=>((0,r.Qi)("data-v-c9ba59e6"),e=e(),(0,r.jt)(),e))((()=>(0,r.Lk)("path",{d:"M282.517333 213.376l-45.354666 45.162667L489.472 512 237.162667 765.461333l45.354666 45.162667L534.613333 557.354667l252.096 253.269333 45.354667-45.162667-252.288-253.44 252.288-253.482666-45.354667-45.162667L534.613333 466.624l-252.096-253.226667z","p-id":"1346"},null,-1)))],u={class:"width100 duration"};i("60oc");var h=i("wDM7"),f=i("oekR"),v=(t={setup(e){const t=(0,f.KR)([]),i=[],r=(e,r)=>{var s=t.value.findIndex((t=>t.id===e)),n=i.findIndex((e=>e===r));-1!==s&&t.value.splice(s,1),-1!==n&&i.splice(n,1),clearTimeout(r)};return{toastArr:t,addToast:({duration:e=3e3,durationBgColor:s="var(--global-primary-color)",showCloseBtn:n=!0,showDurationLine:o=!0,content:l})=>{const a=(0,h.A)();s={id:a,hiddenTime:e,durationBgColor:s,showCloseBtn:n,showDurationLine:o,content:l};const d=setTimeout((()=>{r(a,d)}),e);s.setTimeoutId=d,t.value.push(s),i.push(d)},closeToast:(e,t)=>{r(e,t)}}}},(0,i("uaZu").A)(t,[["render",function(e,t,i,h,f,v){return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.bF)(s.F,{duration:550,name:"nested"},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(h.toastArr,(e=>((0,r.uX)(),(0,r.CE)("div",{class:"toast overflow-hidden",key:e.id},[(0,r.Lk)("div",l,[(0,r.Lk)("div",a,(0,n.v_)(e.content),1),e.showCloseBtn?((0,r.uX)(),(0,r.CE)("svg",{key:0,onClick:t=>h.closeToast(e.id,e.setTimeoutId),class:"icon cursor-pointer",style:{width:"1.0205078125em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1045 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1345"},c,8,d)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",u,[e.showDurationLine?((0,r.uX)(),(0,r.CE)("div",{key:0,style:(0,n.Tr)({backgroundColor:e.durationBgColor,animationDuration:e.hiddenTime+"ms"}),class:"duration-line"},null,4)):(0,r.Q3)("",!0)])])))),128))])),_:1})])}],["__scopeId","data-v-c9ba59e6"]]))},"5VTU":function(e,t,i){i.r(t),i.d(t,{default:function(){return H}});var r=i("XEAi"),s=i("n/QL"),n=i("gw9Z");const o={class:"flex flex-direction-column relative virtual-scroller"},l={class:"flex align-items-center justify-content-center virtual-scroller-header"},a={style:{"margin-right":"10px"}},d={key:0},c={class:"flex-1 overflow-y-hidden"},u=(t=e=>((0,r.Qi)("data-v-688a7a9c"),e=e(),(0,r.jt)(),e))((()=>(0,r.Lk)("div",{style:{"margin-bottom":"20px"},class:"dynamic-scroller-slot flex align-items-center justify-content-center"},"🥵插槽头部🥵",-1))),h={class:"dynamic-scroller-item flex align-items-center justify-content-center"},f=["id"],v=["onClick"],m={style:{"margin-top":"20px"},class:"dynamic-scroller-slot flex align-items-center justify-content-center"},p=t((()=>(0,r.Lk)("div",{class:"flex align-items-center justify-content-center virtual-scroller-bottom"}," #footer ",-1)));i("60oc");var y=i("oekR");let g;function b(){var e,t;b.init||(b.init=!0,g=-1!==(0<(t=(e=window.navigator.userAgent).indexOf("MSIE "))?parseInt(e.substring(t+5,e.indexOf(".",t)),10):0<e.indexOf("Trident/")?(t=e.indexOf("rv:"),parseInt(e.substring(t+3,e.indexOf(".",t)),10)):0<(t=e.indexOf("Edge/"))?parseInt(e.substring(t+5,e.indexOf(".",t)),10):-1))}t={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){b(),(0,r.dY)((()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()}));var e=document.createElement("object");(this._resizeObject=e).setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",g&&this.$el.appendChild(e),e.data="about:blank",g||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!g&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};var z=(0,r.YY)("data-v-b329ee4c");(0,r.Qi)("data-v-b329ee4c");const S={class:"resize-observer",tabindex:"-1"};function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){var i;if(e)return"string"==typeof e?w(e,t):"Map"===(i="Object"===(i=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?w(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}(0,r.jt)(),t.render=z(((e,t,i,s,n,o)=>((0,r.uX)(),(0,r.Wv)("div",S)))),t.__scopeId="data-v-b329ee4c",t.__file="src/components/ResizeObserver.vue";var k=function(){function e(t,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.el=t,this.observer=null,this.frozen=!1,this.createObserver(i,r)}var t;return(t=[{key:"createObserver",value:function(e,t){var i,s=this;this.observer&&this.destroyObserver(),this.frozen||(this.options=e="function"==typeof e?{callback:e}:e,this.callback=function(e,t){s.options.callback(e,t),e&&s.options.once&&(s.frozen=!0,s.destroyObserver())},this.callback&&this.options.throttle&&(i=(this.options.throttleOptions||{}).leading,this.callback=function(e,t,i){function r(i){for(var r,a=arguments.length,d=new Array(1<a?a-1:0),c=1;c<a;c++)d[c-1]=arguments[c];o=d,s&&i===n||("function"==typeof(r=l.leading)&&(r=r(i,n)),s&&i===n||!r||e.apply(void 0,[i].concat(_(o))),n=i,clearTimeout(s),s=setTimeout((function(){e.apply(void 0,[i].concat(_(o))),s=0}),t))}var s,n,o,l=2<arguments.length&&void 0!==i?i:{};return r._clear=function(){clearTimeout(s),s=null},r}(this.callback,this.options.throttle,{leading:function(e){return"both"===i||"visible"===i&&e||"hidden"===i&&!e}})),this.oldResult=void 0,this.observer=new IntersectionObserver((function(e){var t=e[0];1<e.length&&(e=e.find((function(e){return e.isIntersecting})))&&(t=e),s.callback&&(e=t.isIntersecting&&t.intersectionRatio>=s.threshold)!==s.oldResult&&(s.oldResult=e,s.callback(e,t))}),this.options.intersection),(0,r.dY)((function(){s.observer&&s.observer.observe(s.el)})))}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&"number"==typeof this.options.intersection.threshold?this.options.intersection.threshold:0}}])&&function(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function x(e,t,i){(t=t.value)&&"undefined"!=typeof IntersectionObserver&&(t=new k(e,t,i),e._vue_visibilityState=t)}function T(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}z={beforeMount:x,updated:function(e,t,i){var r=t.value;!function e(t,i){if(t===i)return 1;if("object"===$(t)){for(var r in t)if(!e(t[r],i[r]))return;return 1}}(r,t.oldValue)&&(t=e._vue_visibilityState,r?t?t.createObserver(r,i):x(e,{value:r},i):T(e))},unmounted:T};var R=/(auto|scroll)/;function I(e,t){return getComputedStyle(e,null).getPropertyValue(t)}var D=function(e){return I(e,"overflow")+I(e,"overflow-y")+I(e,"overflow-x")};function L(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var t,i=function e(t,i){return null===t.parentNode?i:e(t.parentNode,i.concat([t]))}(e.parentNode,[]),r=0;r<i.length;r+=1)if(t=i[r],R.test(D(t)))return i[r];return document.scrollingElement||document.documentElement}}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var C={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(e){return["vertical","horizontal"].includes(e)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function A(){return this.items.length&&"object"!==O(this.items[0])}var M=!1;if("undefined"!=typeof window){M=!1;try{var E=Object.defineProperty({},"passive",{get:function(){M=!0}});window.addEventListener("test",null,E)}catch(t){}}let V=0;E={name:"RecycleScroller",components:{ResizeObserver:t},directives:{ObserveVisibility:z},props:{...C,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(null!==this.itemSize)return[];{var e,t={"-1":{accumulator:0}},i=this.items,r=this.sizeField,s=this.minItemSize;let n=1e4,o=0;for(let l=0,a=i.length;l<a;l++)(e=i[l][r]||s)<n&&(n=e),o+=e,t[l]={accumulator:o,size:e};return this.$_computedMinItemSize=n,t}},simpleArray:A,itemIndexByKey(){var{keyField:e,items:t}=this,i={};for(let r=0,s=t.length;r<s;r++)i[t[r][e]]=r;return i}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&this.itemSize},mounted(){this.applyPageMode(),this.$nextTick((()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0}))},activated(){const e=this.$_lastUpdateScrollPosition;"number"==typeof e&&this.$nextTick((()=>{this.scrollToPosition(e)}))},beforeUnmount(){this.removeListeners()},methods:{addView(e,t,i,r,s){return t=(0,y.IG)({id:V++,index:t,used:!0,key:r,type:s}),r=(0,y.Gc)({item:i,position:0,nr:t}),e.push(r),r},unuseView(e,t=!1){var i=this.$_unusedViews,r=e.nr.type;let s=i.get(r);s||(s=[],i.set(r,s)),s.push(e),t||(e.nr.used=!1,e.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){if(!this.$_scrollDirty&&(this.$_scrollDirty=!0,!this.$_updateTimeout)){const e=()=>requestAnimationFrame((()=>{this.$_scrollDirty=!1,this.updateVisibleItems(!1,!0).continuous||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))}));e(),this.updateInterval&&(this.$_updateTimeout=setTimeout((()=>{this.$_updateTimeout=0,this.$_scrollDirty&&e()}),this.updateInterval))}},handleVisibilityChange(e,t){this.ready&&(e||0!==t.boundingClientRect.width||0!==t.boundingClientRect.height?(this.$emit("visible"),requestAnimationFrame((()=>{this.updateVisibleItems(!1)}))):this.$emit("hidden"))},updateVisibleItems(e,t=!1){var i=this.itemSize,r=this.gridItems||1,s=this.itemSecondarySize||i,n=this.$_computedMinItemSize,o=this.typeField,l=this.simpleArray?null:this.keyField,a=this.items,d=a.length,c=this.sizes,u=this.$_views,h=this.$_unusedViews,f=this.pool,v=this.itemIndexByKey;let m,p,y,g,b,z;if(d)if(this.$_prerender)m=g=0,p=b=Math.min(this.prerender,a.length),y=null;else{var S,$=this.getScroll();if(t){let e=$.start-this.$_lastUpdateScrollPosition;if(e<0&&(e=-e),null===i&&e<n||e<i)return{continuous:!0}}this.$_lastUpdateScrollPosition=$.start,t=this.buffer,$.start-=t,$.end+=t;let e=0;if(this.$refs.before&&(e=this.$refs.before.scrollHeight,$.start-=e),this.$refs.after&&(n=this.$refs.after.scrollHeight,$.end+=n),null===i){let t=0,i=d-1,r=~~(d/2);for(;c[S=r].accumulator<$.start?t=r:r<d-1&&c[r+1].accumulator>$.start&&(i=r),(r=~~((t+i)/2))!==S;);for(r<0&&(r=0),m=r,y=c[d-1].accumulator,p=r;p<d&&c[p].accumulator<$.end;p++);for(-1===p?p=a.length-1:++p>d&&(p=d),g=m;g<d&&e+c[g].accumulator<$.start;g++);for(b=g;b<d&&e+c[b].accumulator<$.end;b++);}else t=(m=~~($.start/i*r))%r,m-=t,p=Math.ceil($.end/i*r),g=Math.max(0,Math.floor(($.start-e)/i*r)),b=Math.floor(($.end-e)/i*r),m<0&&(m=0),p>d&&(p=d),g<0&&(g=0),b>d&&(b=d),y=Math.ceil(d/r)*i}else m=p=g=b=y=0;p-m>1e3&&this.itemsLimitError(),this.totalSize=y;var _=m<=this.$_endIndex&&p>=this.$_startIndex;if(_)for(let t=0,i=f.length;t<i;t++)(z=f[t]).nr.used&&(e&&(z.nr.index=v[z.item[l]]),null==z.nr.index||z.nr.index<m||z.nr.index>=p)&&this.unuseView(z);var w,k=_?null:new Map;for(let e=m;e<p;e++){var x,T=a[e],R=l?T[l]:T;if(null==R)throw new Error(`Key is ${R} on item (keyField is '${l}')`);if(z=u.get(R),i||c[e].size){w=T[o];let t=h.get(w),n=!1;z?z.nr.used||(z.nr.used=!0,n=!0,t&&-1!==(x=t.indexOf(z))&&t.splice(x,1)):(_?z=t&&t.length?t.pop():this.addView(f,e,T,R,w):(x=k.get(w)||0,(!t||x>=t.length)&&(z=this.addView(f,e,T,R,w),this.unuseView(z,!0),t=h.get(w)),z=t[x],k.set(w,x+1)),u.delete(z.nr.key),z.nr.used=!0,z.nr.index=e,z.nr.key=R,z.nr.type=w,u.set(R,z),n=!0),z.item=T,n&&(e===a.length-1&&this.$emit("scroll-end"),0===e)&&this.$emit("scroll-start"),null===i?(z.position=c[e-1].accumulator,z.offset=0):(z.position=Math.floor(e/r)*i,z.offset=e%r*s)}else z&&this.unuseView(z)}return this.$_startIndex=m,this.$_endIndex=p,this.emitUpdate&&this.$emit("update",m,p,g,b),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:_}},getListenerTarget(){let e=L(this.$el);return!window.document||e!==window.document.documentElement&&e!==window.document.body?e:window},getScroll(){var{$el:e,direction:t}=this,t="vertical"===t;let i;if(this.pageMode){var r=e.getBoundingClientRect(),s=t?r.height:r.width;let n=-(t?r.top:r.left),o=t?window.innerHeight:window.innerWidth;n<0&&(o+=n,n=0),n+o>s&&(o=s-n),i={start:n,end:n+o}}else i=t?{start:e.scrollTop,end:e.scrollTop+e.clientHeight}:{start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return i},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!M&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let t;var i=this.gridItems||1;t=null===this.itemSize?0<e?this.sizes[e-1].accumulator:0:Math.floor(e/i)*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){var t,i,r,s="vertical"===this.direction?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let n,o,l;l=this.pageMode?(i="HTML"===(t=L(this.$el)).tagName?0:t[s.scroll],r=t.getBoundingClientRect(),r=this.$el.getBoundingClientRect()[s.start]-r[s.start],n=t,o=s.scroll,e+i+r):(n=this.$el,o=s.scroll,e),n[o]=l},itemsLimitError(){throw setTimeout((()=>{})),new Error("Rendered items limit reached")},sortViews(){this.pool.sort(((e,t)=>e.nr.index-t.nr.index))}}};const N={key:0,ref:"before",class:"vue-recycle-scroller__slot"},j={key:1,ref:"after",class:"vue-recycle-scroller__slot"};E.render=function(e,t,i,n,o,l){var a=(0,r.g2)("ResizeObserver"),d=(0,r.gN)("observe-visibility");return(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",{class:(0,s.C4)(["vue-recycle-scroller",{ready:o.ready,"page-mode":i.pageMode,["direction-"+e.direction]:!0}]),onScrollPassive:t[0]||(t[0]=(...e)=>l.handleScroll&&l.handleScroll(...e))},[e.$slots.before?((0,r.uX)(),(0,r.CE)("div",N,[(0,r.RG)(e.$slots,"before")],512)):(0,r.Q3)("v-if",!0),((0,r.uX)(),(0,r.Wv)((0,r.$y)(i.listTag),{ref:"wrapper",style:(0,s.Tr)({["vertical"===e.direction?"minHeight":"minWidth"]:o.totalSize+"px"}),class:(0,s.C4)(["vue-recycle-scroller__item-wrapper",i.listClass])},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.pool,(t=>((0,r.uX)(),(0,r.Wv)((0,r.$y)(i.itemTag),(0,r.v6)({key:t.nr.id,style:o.ready?{transform:`translate${"vertical"===e.direction?"Y":"X"}(${t.position}px) translate${"vertical"===e.direction?"X":"Y"}(${t.offset}px)`,width:i.gridItems?`${"vertical"===e.direction&&i.itemSecondarySize||i.itemSize}px`:void 0,height:i.gridItems?`${"horizontal"===e.direction&&i.itemSecondarySize||i.itemSize}px`:void 0}:null,class:["vue-recycle-scroller__item-view",[i.itemClass,{hover:!i.skipHover&&o.hoverKey===t.nr.key}]]},(0,r.Tb)(i.skipHover?{}:{mouseenter:()=>{o.hoverKey=t.nr.key},mouseleave:()=>{o.hoverKey=null}})),{default:(0,r.k6)((()=>[(0,r.RG)(e.$slots,"default",{item:t.item,index:t.nr.index,active:t.nr.used})])),_:2},1040,["style","class"])))),128)),(0,r.RG)(e.$slots,"empty")])),_:3},8,["style","class"])),e.$slots.after?((0,r.uX)(),(0,r.CE)("div",j,[(0,r.RG)(e.$slots,"after")],512)):(0,r.Q3)("v-if",!0),(0,r.bF)(a,{onNotify:l.handleResize},null,8,["onNotify"])],34)),[[d,l.handleVisibilityChange]])},E.__file="src/components/RecycleScroller.vue",t={name:"DynamicScroller",components:{RecycleScroller:E},provide(){return"undefined"!=typeof ResizeObserver&&(this.$_resizeObserver=new ResizeObserver((e=>{requestAnimationFrame((()=>{if(Array.isArray(e))for(const i of e)if(i.target&&i.target.$_vs_onResize){let e,r;var t;r=i.borderBoxSize?(e=(t=i.borderBoxSize[0]).inlineSize,t.blockSize):(e=i.contentRect.width,i.contentRect.height),i.target.$_vs_onResize(i.target.$_vs_id,e,r)}}))}))),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...C,minItemSize:{type:[Number,String],required:!0}},emits:["resize","visible"],data(){return{vscrollData:{active:!0,sizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:A,itemsWithSize(){var e=[],{items:t,keyField:i,simpleArray:r}=this,s=this.vscrollData.sizes,n=t.length;for(let a=0;a<n;a++){var o=t[a],l=r?a:o[i];let n=s[l];void 0!==n||this.$_undefinedMap[l]||(n=0),e.push({item:o,id:l,size:n})}return e}},watch:{items(){this.forceUpdate()},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)},itemsWithSize(e,t){var i=this.$el.scrollTop;let r=0,s=0;var n=Math.min(e.length,t.length);for(let o=0;o<n&&!(r>=i);o++)r+=t[o].size||this.minItemSize,s+=e[o].size||this.minItemSize;var o=s-r;0!=o&&(this.$el.scrollTop+=o)}},beforeCreate(){var e;this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_events={all:e=e||new Map,on:function(t,i){var r=e.get(t);r&&r.push(i)||e.set(t,[i])},off:function(t,i){(t=e.get(t))&&t.splice(t.indexOf(i)>>>0,1)},emit:function(t,i){(e.get(t)||[]).slice().map((function(e){e(i)})),(e.get("*")||[]).slice().map((function(e){e(t,i)}))}}},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},unmounted(){this.$_events.all.clear()},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$_events.emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(e=!1){(e||this.simpleArray)&&(this.vscrollData.sizes={}),this.$_events.emit("vscroll:update",{force:!0})},scrollToItem(e){var t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e,t=void 0){return t=this.simpleArray?null!=t?t:this.items.indexOf(e):e[this.keyField],this.vscrollData.sizes[t]||0},scrollToBottom(){if(!this.$_scrollingToBottom){this.$_scrollingToBottom=!0;const e=this.$el;this.$nextTick((()=>{e.scrollTop=e.scrollHeight+5e3;const t=()=>{e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame((()=>{e.scrollTop=e.scrollHeight+5e3,0===this.$_undefinedSizes?this.$_scrollingToBottom=!1:requestAnimationFrame(t)}))};requestAnimationFrame(t)}))}}}},t.render=function(e,t,i,n,o,l){var a=(0,r.g2)("RecycleScroller");return(0,r.uX)(),(0,r.Wv)(a,(0,r.v6)({ref:"scroller",items:l.itemsWithSize,"min-item-size":i.minItemSize,direction:e.direction,"key-field":"id","list-tag":e.listTag,"item-tag":e.itemTag},e.$attrs,{onResize:l.onScrollerResize,onVisible:l.onScrollerVisible}),{default:(0,r.k6)((({item:t,index:i,active:n})=>[(0,r.RG)(e.$slots,"default",(0,s._B)((0,r.Ng)({item:t.item,index:i,active:n,itemWithSize:t})))])),before:(0,r.k6)((()=>[(0,r.RG)(e.$slots,"before")])),after:(0,r.k6)((()=>[(0,r.RG)(e.$slots,"after")])),empty:(0,r.k6)((()=>[(0,r.RG)(e.$slots,"empty")])),_:3},16,["items","min-item-size","direction","list-tag","item-tag","onResize","onVisible"])},t.__file="src/components/DynamicScroller.vue",z={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},emits:["resize"],computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.vscrollData.keyField in this.item)return this.item[this.vscrollData.keyField];throw new Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(e,t){this.$el.$_vs_id=this.id,this.size||this.onDataUpdate(),this.$_sizeObserved&&(t=this.vscrollData.sizes[t],e=this.vscrollData.sizes[e],null!=t)&&t!==e&&this.applySize(t)},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const e in this.sizeDependencies)this.$watch((()=>this.sizeDependencies[e]),this.onDataUpdate);this.vscrollParent.$_events.on("vscroll:update",this.onVscrollUpdate)}},mounted(){this.finalActive&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_events.off("vscroll:update",this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch("item",(()=>{this.onDataUpdate()}),{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),this.$_forceNextVScrollUpdate!==this.id&&!e&&this.size||this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){this.$nextTick((()=>{var t,i;this.id===e&&(t=this.$el.offsetWidth,i=this.$el.offsetHeight,this.applyWidthHeight(t,i)),this.$_pendingSizeUpdate=null}))},applyWidthHeight(e,t){(t=~~("vertical"===this.vscrollParent.direction?t:e))&&this.size!==t&&this.applySize(t)},applySize(e){this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=e,this.emitResize&&this.$emit("resize",this.id)},observeSize(){!this.vscrollResizeObserver||this.$_sizeObserved||(this.vscrollResizeObserver.observe(this.$el),this.$el.$_vs_id=this.id,this.$el.$_vs_onResize=this.onResize,this.$_sizeObserved=!0)},unobserveSize(){this.vscrollResizeObserver&&this.$_sizeObserved&&(this.vscrollResizeObserver.unobserve(this.$el),this.$el.$_vs_onResize=void 0,this.$_sizeObserved=!1)},onResize(e,t,i){this.id===e&&this.applyWidthHeight(t,i)}},render(){return(0,r.h)(this.tag,this.$slots.default())}},z.__file="src/components/DynamicScrollerItem.vue",E=i("taby");var F=i("Bx/C"),U=i("wDM7"),P=i("SFuZ");const B=()=>(0,F.se)(400,800),W=(e=30)=>{var t=[];for(let i=0;i<e;i++)t.push({height:(0,F.se)(300,550),width:B(),id:(0,U.A)(),background:(0,F.NP)()});return t};C={components:{DynamicScroller:t,DynamicScrollerItem:z,toast:E.A},setup(){const e=(0,y.KR)([]),t=(0,y.KR)(!1),i=(0,y.KR)(0),r=(0,y.KR)(10),s=(0,y.KR)(1),n=(0,y.KR)(null),o=(0,y.KR)(null),l=(i,r=!1)=>new Promise((s=>{if(t.value)return s();t.value=!0,setTimeout((()=>{e.value=r?W(i):e.value.concat(W(i)),t.value=!1,s()}),1e3)}));return l(10).then(),{list:e,loading:t,scrollerRef:n,toastRef:o,scrollToIndex:i,listNum:r,addListNum:s,onSetSize:(t,i)=>{e.value[i].width=B(),e.value[i].height=(0,F.se)(600,1e3),e.value[i].background=(0,F.NP)()},onScrollEnd:()=>{o.value.addToast({content:"即将滚动到底部"})},onScrollTo:()=>{var t;null!==i.value&&(!(0,P.Et)(+i.value)||Number.isNaN(+i.value)?alert("请输入数字"):(t=+i.value)>e.value.length-1||t<0?alert("请输入正确数字范围"):n.value.scrollToItem(t))},onSetList:()=>{null!==r.value&&(!(0,P.Et)(+r.value)||Number.isNaN(+r.value)?alert("请输入数字"):l(+r.value,!0).then())},onAddList:()=>{null!==r.value&&(!(0,P.Et)(+r.value)||Number.isNaN(+r.value)?alert("请输入数字"):l(s.value).then((()=>{n.value.scrollToItem(e.value.length-1)})))}}}};var H=(0,i("uaZu").A)(C,[["render",function(e,t,i,y,g,b){const z=(0,r.g2)("DynamicScrollerItem");var S=(0,r.g2)("DynamicScroller"),$=(0,r.g2)("toast");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("div",l,[(0,r.Lk)("div",a,"当前记录条数: "+(0,s.v_)(y.list.length),1),y.loading?((0,r.uX)(),(0,r.CE)("button",d,"加载中...")):((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[(0,r.Lk)("button",{class:"virtual-scroller-header-btn",onClick:t[1]||(t[1]=(...e)=>y.onSetList&&y.onSetList(...e))},[(0,r.eW)("重置列表为"),(0,r.bo)((0,r.Lk)("input",{class:"num-input",onClick:(0,n.D$)((()=>{}),["stop"]),"onUpdate:modelValue":t[0]||(t[0]=e=>y.listNum=e)},null,512),[[n.Jo,y.listNum,void 0,{number:!0}]]),(0,r.eW)("条")]),(0,r.Lk)("button",{class:"virtual-scroller-header-btn",onClick:t[3]||(t[3]=(...e)=>y.onScrollTo&&y.onScrollTo(...e))},[(0,r.eW)("滚动到第"),(0,r.bo)((0,r.Lk)("input",{class:"num-input",onClick:(0,n.D$)((()=>{}),["stop"]),"onUpdate:modelValue":t[2]||(t[2]=e=>y.scrollToIndex=e)},null,512),[[n.Jo,y.scrollToIndex,void 0,{number:!0}]]),(0,r.eW)("条")]),(0,r.Lk)("button",{class:"virtual-scroller-header-btn",onClick:t[5]||(t[5]=(...e)=>y.onAddList&&y.onAddList(...e))},[(0,r.eW)("添加"),(0,r.bo)((0,r.Lk)("input",{class:"num-input",onClick:(0,n.D$)((()=>{}),["stop"]),"onUpdate:modelValue":t[4]||(t[4]=e=>y.addListNum=e)},null,512),[[n.Jo,y.addListNum,void 0,{number:!0}]]),(0,r.eW)("条记录")])],64))]),(0,r.Lk)("div",c,[(0,r.bF)(S,{ref:"scrollerRef",items:y.list,"min-item-size":500,buffer:1e3,class:"scroller",onScrollEnd:y.onScrollEnd},{before:(0,r.k6)((()=>[u])),default:(0,r.k6)((({item:e,index:t,active:i})=>[(0,r.bF)(z,{item:e,active:i,"size-dependencies":[e.width,e.hegiht],"data-index":t},{default:(0,r.k6)((()=>[(0,r.Lk)("div",h,[((0,r.uX)(),(0,r.CE)("div",{id:"item-"+t,class:"dynamic-scroller-item-content",key:e.id,style:(0,s.Tr)({width:e.width+"px",height:e.height+"px",background:e.background})},[(0,r.Lk)("div",null,"width: "+(0,s.v_)(e.width),1),(0,r.Lk)("div",null,"hegiht: "+(0,s.v_)(e.hegiht),1),(0,r.Lk)("div",null,"id: "+(0,s.v_)(e.id),1),(0,r.Lk)("div",null,"background: "+(0,s.v_)(e.background),1),(0,r.Lk)("div",null,"index: "+(0,s.v_)(t),1),(0,r.Lk)("div",null,"active: "+(0,s.v_)(i),1),(0,r.Lk)("button",{onClick:i=>y.onSetSize(e,t)},"重置当前size,变高点",8,v)],12,f))])])),_:2},1032,["item","active","size-dependencies","data-index"])])),after:(0,r.k6)((()=>[(0,r.Lk)("div",m,"🥵"+(0,s.v_)(y.loading?"loading....":"插槽底部")+"🥵",1)])),_:1},8,["items","onScrollEnd"])]),p,(0,r.bF)($,{ref:"toastRef"},null,512)])}],["__scopeId","data-v-688a7a9c"]])},kWh2:function(e,t,i){var r=i("dxB+"),s=i("hgw9"),n=i("wnEH"),o=i("vHVK")("toStringTag"),l=Object,a="Arguments"===n(function(){return arguments}());e.exports=r?n:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=l(e),o))?t:a?n(e):"Object"===(t=n(e))&&s(e.callee)?"Arguments":t}},"5u0C":function(e,t,i){var r=i("lMFB"),s=i("iAz1");e.exports=function(e,t,i){return i.get&&r(i.get,t,{getter:!0}),i.set&&r(i.set,t,{setter:!0}),s.f(e,t,i)}},"dxB+":function(e,t,i){var r={};r[i("vHVK")("toStringTag")]="z",e.exports="[object z]"===String(r)},"/uDU":function(e,t,i){var r=i("kWh2"),s=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return s(e)}},"0MaD":function(e){var t=TypeError;e.exports=function(e,i){if(e<i)throw new t("Not enough arguments");return e}},kvaN:function(e,t,i){var r=i("P6Ci"),s=i("VWI/"),n=i("/uDU"),o=i("0MaD"),l=(i=URLSearchParams).prototype,a=s(l.append),d=s(l.delete),c=s(l.forEach),u=s([].push);(s=new i("a=1&a=2&b=3")).delete("a",1),s.delete("b",void 0),s+""!="a=2"&&r(l,"delete",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return d(this,e);for(var r,s=[],l=(c(this,(function(e,t){u(s,{key:t,value:e})})),o(t,1),n(e)),h=n(i),f=0,v=0,m=!1,p=s.length;f<p;)r=s[f++],m||r.key===l?(m=!0,d(this,r.key)):v++;for(;v<p;)(r=s[v++]).key===l&&r.value===h||a(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},"o5/U":function(e,t,i){var r=i("P6Ci"),s=i("VWI/"),n=i("/uDU"),o=i("0MaD"),l=(i=URLSearchParams).prototype,a=s(l.getAll),d=s(l.has);!(s=new i("a=1")).has("a",2)&&s.has("a",void 0)||r(l,"has",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return d(this,e);for(var r=a(this,e),s=(o(t,1),n(i)),l=0;l<r.length;)if(r[l++]===s)return!0;return!1}),{enumerable:!0,unsafe:!0})},pacc:function(e,t,i){var r=i("S4+I"),s=i("VWI/"),n=(i=i("5u0C"),URLSearchParams.prototype),o=s(n.forEach);!r||"size"in n||i(n,"size",{get:function(){var e=0;return o(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);
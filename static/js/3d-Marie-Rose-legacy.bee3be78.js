(self.webpackChunkblog=self.webpackChunkblog||[]).push([[248],{MZFn:function(e){var n;e.exports=((n=function(){function e(e){return o.appendChild(e.dom),e}function t(e){for(var n=0;n<o.children.length;n++)o.children[n].style.display=n===e?"block":"none";i=e}var a,i=0,o=document.createElement("div"),r=(o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",(function(e){e.preventDefault(),t(++i%o.children.length)}),!1),(performance||Date).now()),d=r,l=0,c=e(new n.Panel("FPS","#0ff","#002")),s=e(new n.Panel("MS","#0f0","#020"));return self.performance&&self.performance.memory&&(a=e(new n.Panel("MB","#f08","#201"))),t(0),{REVISION:16,dom:o,addPanel:e,showPanel:t,begin:function(){r=(performance||Date).now()},end:function(){l++;var e,n=(performance||Date).now();return s.update(n-r,200),d+1e3<n&&(c.update(1e3*l/(n-d),100),d=n,l=0,a)&&(e=performance.memory,a.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)),n},update:function(){r=this.end()},domElement:o,setMode:t}}).Panel=function(e,n,t){var a=1/0,i=0,o=Math.round,r=o(window.devicePixelRatio||1),d=80*r,l=48*r,c=3*r,s=2*r,w=3*r,f=15*r,h=74*r,p=30*r,u=document.createElement("canvas"),m=(u.width=d,u.height=l,u.style.cssText="width:80px;height:48px",u.getContext("2d"));return m.font="bold "+9*r+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=t,m.fillRect(0,0,d,l),m.fillStyle=n,m.fillText(e,c,s),m.fillRect(w,f,h,p),m.fillStyle=t,m.globalAlpha=.9,m.fillRect(w,f,h,p),{dom:u,update:function(l,v){a=Math.min(a,l),i=Math.max(i,l),m.fillStyle=t,m.globalAlpha=1,m.fillRect(0,0,d,f),m.fillStyle=n,m.fillText(o(l)+" "+e+" ("+o(a)+"-"+o(i)+")",c,s),m.drawImage(u,w+r,f,h-r,p,w,f,h-r,p),m.fillRect(w+h-r,f,r,p),m.fillStyle=t,m.globalAlpha=.9,m.fillRect(w+h-r,f,r,o((1-l/v)*p))}}},n)},ArDV:function(e,n,t){"use strict";function a(e){return(0,i.dD)("data-v-11efe0cc"),e=e(),(0,i.Cn)(),e}t.r(n),t.d(n,{default:function(){return f}});var i=t("XEAi"),o={class:"relative canvas-wrap"},r=[a((function(){return(0,i._)("div",{id:"canvas"},null,-1)})),a((function(){return(0,i._)("div",{class:"absolute line-height-1 tips"},[(0,i._)("p",{style:{"margin-bottom":"10px"}},"这个是学习threejs大佬“暮志未晚”的,"),(0,i._)("p",null,[(0,i.Uk)("详情指路："),(0,i._)("a",{href:"http://www.wjceo.com/"},"http://www.wjceo.com/")])],-1)}))],d=t("JVck"),l=t("Womt"),c=t("iZKT"),s=(n=t("MZFn"),t.n(n)),w=t("z6iS"),f=(n={setup:function(){var e,n,t,a,o,r,f,h=new l.Clock;function p(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight)}function u(){var i;r.update(),i=h.getDelta(),f&&f.update(i),e.render(t,n),a.update(),requestAnimationFrame(u)}(0,i.bv)((function(){new c.XS,(e=new l.WebGLRenderer({antialias:!0,logarithmicDepthBuffer:!0})).setSize(window.innerWidth,window.innerHeight),e.shadowMap.enabled=!0,document.getElementById("canvas").appendChild(e.domElement),t=new l.Scene,(n=new l.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,30,60),n.lookAt(new l.Vector3(0,0,0)),t.add(n),o=new l.AmbientLight("#bbbbbb"),t.add(o),(o=new l.DirectionalLight("#ffffff")).position.set(40,60,10),o.shadow.camera.near=1,o.shadow.camera.far=400,o.shadow.camera.left=-50,o.shadow.camera.right=50,o.shadow.camera.top=50,o.shadow.camera.bottom=-50,o.shadow.mapSize.height=1024,o.shadow.mapSize.width=1024,o.castShadow=!0,n.add(o),function(){for(var e,n,a=new l.PlaneGeometry(1e3,1e3),i=new l.MeshLambertMaterial({color:3355443,side:l.DoubleSide}),o=((a=new l.Mesh(a,i)).rotation.x=-.5*Math.PI,a.position.y=-.1,a.receiveShadow=!0,t.add(a),new l.Group),r=[],c=0;c<1e3;c++)o.add((n=void 0,e=new l.MeshBasicMaterial({color:16777215*Math.random()}),n=.5*Math.random(),n=new l.BoxGeometry(n,n,n),(n=new l.Mesh(n,e)).position.set(100*Math.random()-50,-3,100*Math.random()-50),n.speed=Math.random(),n)),r.push({speed:Math.random(),y:-3});t.add(o),window.Worker||alert("你的电脑不支持web Workers");var s=new Worker("marie/worker.js");(new d.E).load("marie/scene.gltf",(function(e){e.scene.scale.set(.1,.1,.1),e.scene.traverse((function(e){e.isMesh&&(e.frustumCulled=!1,e.castShadow=!0)})),t.add(e.scene);var n=e.scene;new l.SkeletonHelper(n),(f=new l.AnimationMixer(n)).clipAction(e.animations[0]).play(),s.postMessage(r),s.onmessage=function(e){for(var n=0;n<e.data.length;n++)o.children[n].position.y=e.data[n].y}}))}(),a=new(s()),document.body.appendChild(a.dom),(r=new w.z(n,e.domElement)).target.set(0,15,0),u(),window.onresize=p}))}},(0,t("uaZu").Z)(n,[["render",function(e,n,t,a,d,l){return(0,i.wg)(),(0,i.iD)("div",o,r)}],["__scopeId","data-v-11efe0cc"]]))}}]);
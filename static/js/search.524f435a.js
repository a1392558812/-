"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[187],{sYlY:function(e,t){t.A={leftSidebarW:{type:String,default:"300px"},ifLarger:{type:Boolean,default:!0},ifShowMenu:{type:Boolean,default:!0},toggleMenu:{type:Function,default:()=>{}},headerH:{type:String,default:"70px"}}},Cco2:function(e,t,i){i.d(t,{A:function(){return F}});var l=i("XEAi"),n=(i("60oc"),i("oekR")),a=i("MLNC"),s=i("yaf4"),r=i("Ip76"),o=(t=i("jZ9z"),i("DTtR")),c=i("LNhG"),u=i("sYlY"),d={name:"left-sidebar-item",props:{grade:{type:Number,default:-1},rowDetails:{type:Object,default:()=>({})},menuList:{type:Array,default:()=>[]},firstLevelIndex:{type:Number,default:-1},ifShow:{type:Boolean,default:!0},nowActive:{type:[Number,null],default:null}},setup(e,{emit:t}){const i=(0,n.QW)(e).rowDetails,a=(0,l.EW)((()=>e.grade+1)),s=(0,l.EW)((()=>i.value&&i.value.children?i.value.children:[]));var r=(0,l.EW)((()=>s.value.length?"div":"a")),o=(0,l.EW)((()=>s.value.length?{}:{href:"/#/?indexPage="+i.value.indexPage})),c=(0,l.EW)((()=>({marginLeft:a.value+25+"px",display:i.value.ifShow?"block":"none"}))),u=(0,l.EW)((()=>"ifHadRender"in i.value&&i.value.ifHadRender&&"ifShow"in i.value)),d=(0,l.EW)((()=>{let e="cursor-pointer cell";return i.value.link?e+=" link-cell":e=e+" "+(s.value.length?"list-cell":"display-block item-cell"),i.value.itemActive&&(e+=" item-active"),e}));return{tag:r,currentGrade:a,renderList:s,hrefMap:o,className:d,titleStyleName:c,ifRender:u,listClick:(e,i,l)=>{e.stopPropagation(),t("listClick",e,i,l)},itemClick:(e,i,l,n)=>{e.stopPropagation(),e.preventDefault(),t("itemClick",e,i,l,n)}}},render(){var e=this.tag;return this.rowDetails&&this.rowDetails.name?(0,l.bF)(e,(0,l.v6)({class:this.className},this.hrefMap,{title:this.rowDetails.name,onClick:e=>{this.renderList.length?this.listClick(e,this.rowDetails,this.firstLevelIndex):this.itemClick(e,this.menuList,this.rowDetails,this.firstLevelIndex)},key:this.rowDetails.index}),{default:()=>[0===this.currentGrade&&this.nowActive===this.firstLevelIndex?(0,l.bF)("div",{class:"list-active"},null):null,(0,l.bF)("div",{onClick:e=>{this.renderList.length?this.listClick(e,this.rowDetails,this.firstLevelIndex):this.itemClick(e,this.menuList,this.rowDetails,this.firstLevelIndex)},class:"cell-item-title flex align-items-center justify-content-start"},[this.rowDetails.link?(0,l.bF)("div",{class:"cell-item-link"},[(0,l.eW)("链接")]):null,(0,l.bF)("span",null,[this.rowDetails.name]),this.rowDetails.topping?(0,l.bF)("div",{class:"topping"},[(0,l.eW)("置顶")]):null]),this.ifRender?(0,l.bF)("div",{style:this.titleStyleName},[this.renderList.map(((e,t)=>(0,l.bF)((0,l.g2)("left-sidebar-item"),{rowDetails:e,menuList:this.renderList,nowActive:this.nowActive,key:t,ifShow:this.rowDetails.ifShow,firstLevelIndex:this.firstLevelIndex,grade:this.currentGrade,onListClick:this.listClick,onItemClick:this.itemClick},null)))]):null]}):null}},h=i("uaZu"),f=(0,h.A)(d,[["__scopeId","data-v-10bae500"]]),v=i("gw9Z"),g=i("n/QL");const m={ref:"target",style:{"z-index":"1"},class:"relative cell list-cell"},p={class:"relative width100 height100 flex align-items-center justify-content-space-between"},k={class:"relative"},w={class:"input relative"},b={class:"icon absolute align-center-y",style:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3269"},L=[(e=>((0,l.Qi)("data-v-2a3afca0"),e=e(),(0,l.jt)(),e))((()=>(0,l.Lk)("path",{d:"M416 192C537.6 192 640 294.4 640 416S537.6 640 416 640 192 537.6 192 416 294.4 192 416 192M416 128C256 128 128 256 128 416S256 704 416 704 704 576 704 416 576 128 416 128L416 128zM832 864c-6.4 0-19.2 0-25.6-6.4l-192-192c-12.8-12.8-12.8-32 0-44.8s32-12.8 44.8 0l192 192c12.8 12.8 12.8 32 0 44.8C851.2 864 838.4 864 832 864z","p-id":"3270"},null,-1)))],C={key:0,class:"absolute bg-white drop-down"},y=["href","onClick"];var x=i("KLu4"),S=i("XdTV"),A=(d={name:"LeftSidebarSearch",components:{commonmBtn:i("kF+e").A},props:{list:{type:Array,default:()=>[]},toggleMenu:{type:Function,default:()=>{}}},setup(e,{emit:t}){const i=(0,n.KR)(""),l=(0,n.KR)([]),s=(0,a.rd)();var r=(0,n.KR)(null);const o=(0,n.KR)(!1),c=()=>{e.toggleMenu(!1),s.push({path:"/search",query:{key:encodeURI(i.value)?i.value:""}})};return(0,x.X2F)(r,(e=>{o.value=!1})),(0,S.rN)(i,(()=>{if(""===i.value)l.value=[];else{let t=10;const n=[],a=e=>{if(e.children&&t)for(let s=0;s<e.children.length&&t;s++){e.children[s].children&&a(e.children[s]);var l=i.value.trim().toLowerCase();e.children[s]&&e.children[s].name&&-1!==e.children[s].name.trim().toLowerCase().indexOf(l)&&(t--,n.push(e.children[s]))}};for(let i=0;i<e.list.length&&t;i++)a(e.list[i]);n.length?(5<=n.length&&n.push({name:"更多....",goSearch:!0}),l.value=n):l.value=[{name:"暂无搜索结果",noResult:!0}]}}),{debounce:600}),{inputValue:i,target:r,searchResult:l,ifShowSearchDropDown:o,goToDetail:(e,i)=>{if(i.preventDefault(),!e.noResult)return e.goSearch?c():(s.push({path:"/",query:{indexPage:e.indexPage}}),e.link?t("searchLinkClick",e.link):void t("searchItemClick",e.url))},search:c}}},(0,h.A)(d,[["render",function(e,t,i,n,a,s){var r=(0,l.g2)("commonm-btn");return(0,l.uX)(),(0,l.CE)("div",m,[(0,l.Lk)("div",p,[(0,l.Lk)("div",k,[(0,l.Lk)("div",w,[((0,l.uX)(),(0,l.CE)("svg",b,L)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.inputValue=e),class:"display-block search-input",type:"text",onFocus:t[1]||(t[1]=e=>n.ifShowSearchDropDown=!0)},null,544),[[v.Jo,n.inputValue]])]),n.searchResult.length&&n.ifShowSearchDropDown?((0,l.uX)(),(0,l.CE)("ul",C,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.searchResult,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,g.C4)(["cursor-pointer drop-down-item",e.goSearch?"flex align-items-center justify-content-center more-content":""])},[(0,l.Lk)("a",{class:"drop-down-item-label",href:"/#/?indexPage="+e.indexPage,onClick:function(t){n.goToDetail(e,t)}},(0,g.v_)(e.name),9,y)],2)))),128))])):(0,l.Q3)("",!0)]),(0,l.bF)(r,{onClick:n.search},{default:(0,l.k6)((()=>[(0,l.eW)(" 搜索 ")])),_:1},8,["onClick"])])],512)}],["__scopeId","data-v-2a3afca0"]])),D=i("8w0y");r.Ay.use(t.A),r.Ay.use(o.A),r.Ay.use(c.A),d={name:"LeftSidebar",components:{leftSidebarItem:f,leftSidebarSearch:A},props:{...u.A},setup(e,{emit:t}){const i=(0,s.Pj)(),o=(0,l.EW)((()=>i.state.menuList)),c=(0,a.rd)(),u=(0,a.lq)();let d=null;const h=(0,n.KR)(null),f=(0,n.KR)(null),v=()=>{d&&d.destroy(),d=null};return(0,l.wB)((()=>e.ifLarger),(e=>{i.dispatch(D.XK).then((()=>{e&&o.value.length?(0,l.dY)().then((()=>{v(),d=new r.Ay(h.value,{click:!0,observeDOM:!0,bounce:!1,scrollbar:{fade:!1,interactive:!0,scrollbarTrackClickable:!0},mouseWheel:{speed:20,invert:!1,easeTime:300}})})):v()}))}),{immediate:!0}),(0,l.xo)((()=>{v()})),{menuList:o,nowActive:f,listContentRef:h,sidebarClassName:(0,l.EW)((()=>{let t="left-sidebar flex-shrink-0 bg-white height100";return e.ifLarger?""+t:t+" absolute "+(e.ifShowMenu?"translateX-0":"translateX-100")})),leftSidebarItemClick:(l,n,a,s)=>{if(u.query.indexPage!==a.indexPage){if(f.value=s,i.dispatch(D.Dq,a),e.toggleMenu(!1),c.push({path:"/",query:{indexPage:a.indexPage}}),a.link)return t("linkClick",a.link);t("itemClick",a.url)}},leftSidebarListClick:(e,t,l)=>{i.dispatch(D.g5,t),f.value=l}}},render(){return(0,l.bF)("div",{class:this.sidebarClassName},[this.menuList.length?(0,l.bF)("div",{class:"flex height100 relative flex-direction-column left-sidebar-content"},[(0,l.bF)(A,{class:"search",toggleMenu:this.toggleMenu,onSearchLinkClick:e=>{this.$emit("linkClick",e)},onSearchItemClick:e=>{this.$emit("itemClick",e)},list:this.menuList},null),(0,l.bF)("div",{key:this.ifLarger,class:`flex-1 flex-shrink-0 ${this.ifLarger?"overflow-y-hidden":"overflow-y-auto"} relative list-wrap`},[(0,l.bF)("div",{ref:e=>{this.listContentRef=e},class:"list-content height100 "+(this.ifLarger?"overflow-y-hidden":"")},[(0,l.bF)("div",{style:{padding:"0 0 150px 0"}},[this.menuList.map(((e,t)=>(0,l.bF)(f,{rowDetails:e,key:t,grade:-1,nowActive:this.nowActive,menuList:this.menuList,url:[e.name],firstLevelIndex:t,onItemClick:(e,t,i,l)=>{this.leftSidebarItemClick(e,t,i,l)},onListClick:(e,t,i)=>{this.leftSidebarListClick(e,t,i)}},null)))])])])]):null])}};const R=()=>{(0,v.$9)((e=>({a55d4ab6:e.leftSidebarW})))},I=d.setup;d.setup=I?(e,t)=>(R(),I(e,t)):R;var F=(0,h.A)(d,[["__scopeId","data-v-6dd7049a"]])},"6LA4":function(e,t,i){i.r(t),i.d(t,{default:function(){return k}}),i("60oc");var l=i("XEAi"),n=i("n/QL"),a=i("oekR"),s=i("MLNC"),r=i("yaf4"),o=i("Cco2"),c=(t=i("sYlY"),i("8w0y"));const u={style:{color:"var(--global-text-color)"},class:"bg-white relative width100 height100 flex flex-direction-row"},d={key:0,class:"width100 height100 flex flex-direction-column"},h={class:"search-title width100 flex align-items-center justify-content-center"},f={class:"flex align-items-baseline"},v=(e=>((0,l.Qi)("data-v-2d5db689"),e=e(),(0,l.jt)(),e))((()=>(0,l.Lk)("p",{style:{"margin-right":"10px"}}," 搜索结果 ",-1))),g={class:"search-total"},m={class:"search-content flex-1"},p=["href","onClick"];t={__name:"index",props:t.A,setup(e){const t=(0,r.Pj)(),i=(0,s.lq)(),k=(0,s.rd)(),w=(0,l.EW)((()=>t.state.menuList)),b=(0,a.KR)([]);let L=decodeURI(i.query.key);return(0,l.wB)(i,(()=>{t.dispatch(c.XK).then((()=>{if(""===(L=decodeURI(i.query.key)))b.value=[{name:"请输入关键字",noResult:!0}];else{const e=[],t=i=>{i.children&&i.children.forEach((i=>{i.children&&t(i),i&&i.name&&!i.children&&-1!==i.name.trim().toLowerCase().indexOf(L.trim().toLowerCase())&&e.push(i)}))};w.value.forEach(t),b.value=e.length?e:[{name:"暂无搜索结果",noResult:!0}]}}))}),{immediate:!0}),(e,t)=>{var i=(0,l.gN)("loading");return(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",u,[(0,l.bF)(o.A,{"left-sidebar-w":e.leftSidebarW,"if-show-menu":e.ifShowMenu,"if-larger":e.ifLarger,"header-h":e.headerH,"toggle-menu":e.toggleMenu},null,8,["left-sidebar-w","if-show-menu","if-larger","header-h","toggle-menu"]),w.value.length?((0,l.uX)(),(0,l.CE)("div",d,[(0,l.Lk)("div",h,[(0,l.Lk)("div",f,[v,(0,l.Lk)("p",g," (共计"+(0,n.v_)(b.value.length)+"条) ",1)])]),(0,l.Lk)("ul",m,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(b.value,((e,t)=>((0,l.uX)(),(0,l.CE)("li",{key:t,class:"search-item"},[(0,l.Lk)("a",{class:"search-item-label cursor-pointer",href:"/#/?indexPage="+e.indexPage,onClick:function(t){var i=e;t.preventDefault(),i.noResult||(i.link?window.open(i.link):k.push({path:"/",query:{indexPage:i.indexPage}}))}},(0,n.v_)(e.name),9,p)])))),128))])])):(0,l.Q3)("",!0)])),[[i,!w.value.length]])}}};var k=(0,i("uaZu").A)(t,[["__scopeId","data-v-2d5db689"]])}}]);
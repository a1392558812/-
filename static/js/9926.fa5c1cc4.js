"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[9926],{UsRR:function(e,t,n){var i=n("XEAi"),l=n("FUKi");t.A=(0,i.$V)({loader:()=>new Promise((e=>{const t=Promise.all([n.e(341),n.e(7855)]).then(n.bind(n,"SF5z"));setTimeout((()=>{e(t)}),1e3)})),errorComponent:()=>(0,i.bF)("div",null,[(0,i.eW)("加载错误")]),loadingComponent:()=>(0,i.bF)("div",{style:"font-size: 12px; font-weight: 900; height: 100%;",class:"flex width100 align-items-center justify-content-center"},[(0,i.bF)("div",{class:"width100 height100 relative loading-wrap"},[(0,i.bF)(l.A,{style:"background: transparent",showModal:!0},{default:()=>[(0,i.bF)("div",{class:"width100 height100 flex align-items-center justify-content-center"},[(0,i.eW)("加载中...")])]})])])})},nblF:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var i=n("XEAi"),l=(n("60oc"),n("oekR")),s=n("gw9Z"),o=(t=n("wZee"),t=n.n(t),n("GbPD")),a=n.n(o),r=(o=n("AsZ1"),o=n.n(o),n("3vcW")),d=n("nTDo"),c=n("UsRR"),u=n("FUKi"),p=n("EVdn");a().use(o(),{Prism:t()}),a().use((0,r.A)()),a().use((0,d.A)()),a().xss.extend({onIgnoreTag:(e,t,n)=>{if("iframe"===e)return`<div>${t}</div>`;{const n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return(e=t).replace(/[&<>"']/g,(e=>n[e]))}}});const h="playground-wrap-loading";o={components:{VMdPreview:a()},props:{text:{type:String,default:""},ifLarger:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=(0,l.KR)(null),o=(0,l.KR)("");let a,r=[],d=[],g=!0;const m=()=>{clearTimeout(a),d.length&&d.forEach((e=>{e.app&&e.app.unmount&&(e.app.unmount(),e.app=null)})),a=null,d=[],r=[]};return(0,i.wB)((()=>e.text),((e,t)=>{e!==t&&e&&(m(),t=window.$("vue3-sfc").parse(e,!1).replaceWith(((e,t)=>(t=window.$(t).html(),e="playground-"+e,r.push({str:t,idSelector:e}),`<div style="position: relative; height: 600px; margin: 0.85em 0;">\n              <div class=${h} style="width: 100%; height: 100%; z-index: 0; position: absolute; left: 0; top: 0"></div>\n              <div style="position: relative; height: 100%; z-index: 1; display: block; transform: translateZ(0px); transform-style: preserve-3d;" id="${e}"></div>\n            </div>`))).printHtml(),r.length?(o.value=t,(0,i.dY)((()=>{p("."+h).css("display","block"),(0,s.XX)((0,i.bF)((0,i.bF)(u.A,{style:"font-weight: bold; font-size: 12px; background: transparent"},{default:()=>[(0,i.bF)("div",{class:"width100 height100 flex align-items-center justify-content-center"},[(0,i.eW)("加载中...")])]}),{showModal:!0}),p("."+h)[0]),a=setTimeout((()=>{r.length=1,r.forEach(((e,t)=>{let n=p("#"+e.idSelector);if(n[0]){let t={},i=(window.$("vue3-file").parse(e.str,!1).each(((e,n)=>{let i=(n=window.$(n)).attr("name");"app.vue"===i.toLowerCase()&&(i="App.vue"),t[i]=n.html()})),(0,s.Ef)(c.A,{name:e.idSelector,key:new Date,componentsFiles:t,playGroundPlaneWidth:"100%",playGroundPlaneReplHeight:"100%",customCode:{importCode:"",useCode:'console.log("customCode--🥵", app)'}}));i.mount(n[0]),d.push({app:i}),p("."+h).css("display","none"),t=null,i=null,n=null}else n.html('<div style="font-size: 16px; font-weight: blod; height: 100%" class="flex align-items-center justify-content-center">组件解析失败，请刷新重试...</div>'),n=null,p("."+h).css("display","none"),m()})),g=!1}),g?0:2e3)}))):o.value=e)}),{immediate:!0}),(0,i.xo)((()=>{m()})),{vMdPreviewRef:n,markdowmText:o,getVMdPreviewRef:e=>{n.value=e,t("getVMdPreviewRef",e)},onHandleCopyCodeSuccess:e=>{t("copy-code-success",e)},onHandelClick:e=>{let n=p(e.target);if(n.hasClass("v-md-copy-code-btn")){let e=n.html(),t=(n.css({whiteSpace:"nowrap"}),{width:n.width(),height:n.height(),lineHeight:n.css("line-height"),whiteSpace:"nowrap"});n.html("复制成功"),n.css({width:"5em",height:"2em",lineHeight:"1.5em",transition:"all 0.3s"}),setTimeout((()=>{n.css(t),n.html(e),n=null,e=null,t=null}),1e3)}else n=null;t("click",e)}}},render(){return(0,i.bF)(a(),(0,i.v6)({ref:this.getVMdPreviewRef,text:this.markdowmText},this.$attrs,{"onCopy-code-success":e=>this.onHandleCopyCodeSuccess(e),onClick:e=>{this.onHandelClick(e)}}),null)}};var g=(0,n("uaZu").A)(o,[["__scopeId","data-v-a1496a12"]])}}]);
"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[1093],{L44E:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var o=n("XEAi"),r=n("gw9Z");t=e=>((0,o.Qi)("data-v-1872ebea"),e=e(),(0,o.jt)(),e);const a={class:"diff-warp overflow-y-auto"},s={class:"flex justify-content-space-between"},l={class:"flex-1 flex-direction-column align-items-center justify-content-center"},i=t((()=>(0,o.Lk)("p",{class:"text-align-center"},"str1（编辑）: ",-1))),u=t((()=>(0,o.Lk)("div",{style:{"border-bottom":"1px solid #000"}},"预览【 ↓ 】：",-1))),c={class:"flex-1 flex-direction-column align-items-center justify-content-center",style:{"border-left":"1px solid #000","border-right":"1px solid #000"}},p=t((()=>(0,o.Lk)("p",{class:"text-align-center"},"str2（编辑）: ",-1))),d=t((()=>(0,o.Lk)("div",{style:{"border-bottom":"1px solid #000"}},"预览【 ↓ 】：",-1))),m={class:"flex-1 flex-direction-column align-items-center justify-content-center"},f=t((()=>(0,o.Lk)("p",{class:"text-align-center"},"str1与str2对比: ",-1))),v=t((()=>(0,o.Lk)("textarea",{class:"width100 diff-textarea",disabled:""},null,-1))),h=t((()=>(0,o.Lk)("div",{style:{"border-bottom":"1px solid #000"}},"预览【 ↓ 】：",-1)));function g(){}g.prototype={diff:function(e,t){var n=(u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).callback,o=("function"==typeof u&&(n=u,u={}),this.options=u,this);function r(e){return n?(setTimeout((function(){n(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var a=(t=this.removeEmpty(this.tokenize(t))).length,s=e.length,l=1,i=a+s,u=(u.maxEditLength&&(i=Math.min(i,u.maxEditLength)),null!=(u=u.timeout)?u:1/0),c=Date.now()+u,p=[{oldPos:-1,lastComponent:void 0}],d=this.extractCommon(p[0],t,e,0);if(p[0].oldPos+1>=s&&a<=d+1)return r([{value:this.join(t),count:t.length}]);var m=-1/0,f=1/0;function v(){for(var n=Math.max(m,-l);n<=Math.min(f,l);n+=2){var i=void 0,u=p[n-1],c=p[n+1],v=(u&&(p[n-1]=void 0),!1),h=(c&&(h=c.oldPos-n,v=c&&0<=h&&h<a),u&&u.oldPos+1<s);if(v||h){if(i=!h||v&&u.oldPos+1<c.oldPos?o.addToPath(c,!0,void 0,0):o.addToPath(u,void 0,!0,1),d=o.extractCommon(i,t,e,n),i.oldPos+1>=s&&a<=d+1)return r(function(e,t,n,o,r){for(var a,s=[];t;)s.push(t),a=t.previousComponent,delete t.previousComponent,t=a;s.reverse();for(var l=0,i=s.length,u=0,c=0;l<i;l++){var p,d=s[l];d.removed?(d.value=e.join(o.slice(c,c+d.count)),c+=d.count,l&&s[l-1].added&&(p=s[l-1],s[l-1]=s[l],s[l]=p)):(!d.added&&r?(p=(p=n.slice(u,u+d.count)).map((function(e,t){return(t=o[c+t]).length>e.length?t:e})),d.value=e.join(p)):d.value=e.join(n.slice(u,u+d.count)),u+=d.count,d.added||(c+=d.count))}var m=s[i-1];return 1<i&&"string"==typeof m.value&&(m.added||m.removed)&&e.equals("",m.value)&&(s[i-2].value+=m.value,s.pop()),s}(o,i.lastComponent,t,e,o.useLongestToken));(p[n]=i).oldPos+1>=s&&(f=Math.min(f,n-1)),a<=d+1&&(m=Math.max(m,n+1))}else p[n]=void 0}l++}if(n)!function e(){setTimeout((function(){if(i<l||Date.now()>c)return n();v()||e()}),0)}();else for(;l<=i&&Date.now()<=c;){var h=v();if(h)return h}},addToPath:function(e,t,n,o){var r=e.lastComponent;return r&&r.added===t&&r.removed===n?{oldPos:e.oldPos+o,lastComponent:{count:r.count+1,added:t,removed:n,previousComponent:r.previousComponent}}:{oldPos:e.oldPos+o,lastComponent:{count:1,added:t,removed:n,previousComponent:r}}},extractCommon:function(e,t,n,o){for(var r=t.length,a=n.length,s=e.oldPos,l=s-o,i=0;l+1<r&&s+1<a&&this.equals(t[l+1],n[s+1]);)l++,s++,i++;return i&&(e.lastComponent={count:i,previousComponent:e.lastComponent}),e.oldPos=s,l},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var y=new g,w=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,k=/\S/;function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(t=new g).equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!k.test(e)&&!k.test(t)},t.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&w.test(t[n])&&w.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t},(t=new g).tokenize=function(e){var t=[],n=(e=this.options.stripTrailingCr?e.replace(/\r\n/g,"\n"):e).split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var o=0;o<n.length;o++){var r=n[o];o%2&&!this.options.newlineIsToken?t[t.length-1]+=r:(this.options.ignoreWhitespace&&(r=r.trim()),t.push(r))}return t},(P=new g).tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)},(P=new g).tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var b=Object.prototype.toString,C=new g;C.useLongestToken=!0,C.tokenize=t.tokenize,C.castInput=function(e){var t=(n=this.options).undefinedReplacement,n=void 0===(n=n.stringifyReplacer)?function(e,n){return void 0===n?t:n}:n;return"string"==typeof e?e:JSON.stringify(function e(t,n,o,r,a){var s,l;for(n=n||[],o=o||[],r&&(t=r(a,t)),s=0;s<n.length;s+=1)if(n[s]===t)return o[s];if("[object Array]"===b.call(t)){for(n.push(t),l=new Array(t.length),o.push(l),s=0;s<t.length;s+=1)l[s]=e(t[s],n,o,r,a);return n.pop(),o.pop(),l}if(t&&t.toJSON&&(t=t.toJSON()),"object"===x(t)&&null!==t){n.push(t),l={},o.push(l);var i,u=[];for(i in t)t.hasOwnProperty(i)&&u.push(i);for(u.sort(),s=0;s<u.length;s+=1)l[i=u[s]]=e(t[i],n,o,r,i);n.pop(),o.pop()}else l=t;return l}(e,null,null,n),n,"  ")},C.equals=function(e,t){return g.prototype.equals.call(C,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))},(P=new g).tokenize=function(e){return e.slice()},P.join=P.removeEmpty=function(e){return e};var L=n("oekR"),P=(t=n("GbPD"),n.n(t)),T=(t=n("YDpD"),t=n.n(t),n("FIf5")),S=(T=n.n(T),n("3vcW")),j=n("nTDo");P().use(t(),{Hljs:T()}),P().use((0,S.A)()),P().use((0,j.A)()),t={components:{markdown:{name:"Markdown",components:{VMdPreview:P()},props:{markdownText:{type:String,default:""}},setup(e){return{preview:(0,L.KR)(null)}},render(){return(0,o.bF)((0,o.g2)("v-md-preview"),{ref:"preview",text:this.markdownText},null)}}},setup(){const e=(0,L.KR)('let array = [1, 2, 3, 4, 5, 6, 7]\narray.reduce((accumulate, item, index, metaArray   ) => {\n  console.log("累积器：", accumulate)\n  console.log("当前项：", item)\n  console.log("当前索引：", index)\n  console.log("原数组：", metaArray)\n  return accumulate + item2\n }, 9)\n'),t=(0,L.KR)('  let array = [1, 2, 3, 4, 5, 6, 7]\narray.reduce((accumulate,     item, index, metaArray) => {\n  console.log("累积器1：", accumulate)\n   console.log("当前项1：", item)\n console.log("当前索引:", index)\n  console.log("原数组1：", metaArray)\n  return accumulate + item\n}, 9)\n');var n=(0,o.EW)((()=>e.value.replaceAll(" ","<span>&#8194;</span>"))),r=(0,o.EW)((()=>t.value.replaceAll(" ","<span>&#8194;</span>"))),a=(0,o.EW)((()=>{return[""].concat((n=e.value,o=t.value,y.diff(n,o,void 0))).reduce(((e,t)=>{let n=e;return t.added?n+=`<span style="background: green;">${t.value.replaceAll(" ","<span>&#8194;</span>")}</span>`:t.removed?n+=`<span style="background: red">${t.value.replaceAll(" ","<span>&#8194;</span>")}</span>`:n+=t.value.replaceAll(" ","<span>&#8194;</span>"),n}));var n,o}));return{computedStr1:n,computedStr2:r,str1:e,str2:t,str3:a}}};var A=(0,n("uaZu").A)(t,[["render",function(e,t,n,g,y,w){var k=(0,o.g2)("markdown");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.Lk)("div",s,[(0,o.Lk)("div",l,[i,(0,o.bo)((0,o.Lk)("textarea",{class:"width100 diff-textarea","onUpdate:modelValue":t[0]||(t[0]=e=>g.str1=e)},null,512),[[r.Jo,g.str1]]),u,(0,o.bF)(k,{class:"markdown",style:{"white-space":"pre-wrap"},markdownText:g.computedStr1},null,8,["markdownText"])]),(0,o.Lk)("div",c,[p,(0,o.bo)((0,o.Lk)("textarea",{class:"width100 diff-textarea","onUpdate:modelValue":t[1]||(t[1]=e=>g.str2=e)},null,512),[[r.Jo,g.str2]]),d,(0,o.bF)(k,{class:"markdown",style:{"white-space":"pre-wrap"},markdownText:g.computedStr2},null,8,["markdownText"])]),(0,o.Lk)("div",m,[f,v,h,(0,o.bF)(k,{class:"markdown",style:{"white-space":"pre-wrap"},markdownText:g.str3},null,8,["markdownText"])])])])}],["__scopeId","data-v-1872ebea"]])}}]);
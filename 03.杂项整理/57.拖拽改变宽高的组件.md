## 拖拽改变宽高的组件

<iframe width="100%" height="500px" frameborder="1" scrolling="auto" src="https://code.juejin.cn/pen/7368764668296298550"></iframe>

```html
<template>
  <div
    class="resizable-component"
    :ref="(el) => slotDomData.wrapRef = el"
    :style="{
      width: slotDomData.componentWidth + 'px',
      height: slotDomData.componentHeight + 'px'
    }">
    <div
      class="draggable-handle"
      ref="handle"
      @mousedown="startDragging"
      @touchstart="startDragging"
    ></div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
const slotDomData = ref({
  wrapRef: null,
  isDragging: false,
  startX: 0,
  startY: 0,
  startWidth: 0,
  startHeight: 0,
  componentWidth: 200,
  componentHeight: 200
})

const startDragging = (event) => {
  event.preventDefault();
  slotDomData.value.isDragging = true;
  slotDomData.value.startX = event.clientX || event.touches[0].clientX;
  slotDomData.value.startY = event.clientY || event.touches[0].clientY;
  console.log('slotDomData.value.wrapRef', slotDomData.value.wrapRef)
  slotDomData.value.startWidth = slotDomData.value.wrapRef.offsetWidth;
  slotDomData.value.startHeight = slotDomData.value.wrapRef.offsetHeight;
  document.addEventListener('mousemove', handleDragging);
  document.addEventListener('touchmove', handleDragging);
  document.addEventListener('mouseup', stopDragging);
  document.addEventListener('touchend', stopDragging);
}
const handleDragging = (event) => {
  if (!slotDomData.value.isDragging) return;
  const deltaX = (event.clientX || event.touches[0].clientX) - slotDomData.value.startX;
  const deltaY = (event.clientY || event.touches[0].clientY) - slotDomData.value.startY;
  slotDomData.value.componentWidth = Math.max(50, slotDomData.value.startWidth + deltaX);
  slotDomData.value.componentHeight = Math.max(50, slotDomData.value.startHeight + deltaY);
}

const stopDragging = (event) => {
  slotDomData.value.isDragging = false;
  document.removeEventListener('mousemove', handleDragging);
  document.removeEventListener('touchmove', handleDragging);
  document.removeEventListener('mouseup', stopDragging);
  document.removeEventListener('touchend', stopDragging);
}
</script>

<style scoped>
.resizable-component {
  position: relative;
  border: 1px solid #ccc;
  overflow: hidden;
}

.draggable-handle {
  position: absolute;
  width: 10px;
  height: 10px;
  bottom: 0;
  right: 0;
  background-color: #3498db;
  color: #fff;
  cursor: pointer;
  user-select: none;
}
</style>
```
## 泛型约束

```typescript
interface Person {
  name: string;
}
// extends：扩展;延长;扩大;使延期;使伸长;扩大…的范围(或影响),extend的第三人称单数
// 即通过extends关键字可以对类型进行进一步拓展约束范围
// 简单的理解，就是“使...必须包含....”， 则接收的类型参数T，必须包含类型Person所要求的
const test = <T extends Person>(str: T) => str;
test({ name: 'Awen' }); // Ok name是必传的
test({ name: 'Awen', age: 666 }); // Ok，age是额外传递的，即使类型Person不要求age参数
```

```typescript
type Msg<T> = T extends { msg: unknown } ? T['msg'] : never;
const msg1: Msg<{ msg: string }> = '666';
const msg2: Msg<{ msg: number }> = 666;
const msg: Msg<{ msg: '你好啊' }> = '你好啊';
```

```typescript
type Square = {
  kind: 'square';
  x: number;
  y: number;
};
type Circle = {
  kind: 'circle';
  radius: number;
};

type GeneratorKindFunction<T extends { kind: string }> = {
  [K in T['kind']]: (obj: T extends { kind: K } ? T : never) => number;
};
type newType = GeneratorKindFunction<Square | Circle>;

/**
 * type newType = { square: (str: Square) => number; circle: (obj: Circle) => number; }
 *
 */
```

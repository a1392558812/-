## css优化策略

- ### 内联首屏关键CSS

  - 通过内联`css`关键代码能够使浏览器在下载完`html`后就能立刻渲染

    而如果外部引用`css`代码，在解析`html`结构过程中遇到外部`css`文件，才会开始下载`css`代码，再渲染

    所以，`CSS`内联使用使渲染时间提前

    注意：但是较大的`css`代码并不合适内联（初始拥塞窗口、没有缓存），而其余代码则采取外部引用方式

- ### 异步加载CSS

  - 在`CSS`文件请求、下载、解析完成之前，`CSS`会阻塞渲染，浏览器将不会渲染任何已处理的内容

    前面加载内联代码后，后面的外部引用`css`则没必要阻塞浏览器渲染。这时候就可以采取异步加载的方案

    - js异步回调引入css
    - 设置link标签media属性为noexis，浏览器会认为当前样式表不适用当前类型，会在不阻塞页面渲染的情况下再进行下载。加载完成后，将`media`的值设为`screen`或`all`，从而让浏览器开始解析CSS

    * ```html
      <link rel="stylesheet" href="mystyles.css" media="noexist" onload="this.media='all'">
      ```

- ### 资源压缩

  - emmmmmmmmmmmm没啥好说的，打包gzip啊，分包啊，路由切割啊

- ### 合理使用选择器

  - 经量不去嵌套，大概俩层即可
  - 独一无二的的选择器无需嵌套，比如id选择器、专属的className

- ### 不要使用@import

  -  `@import`会影响浏览器的并行下载，使得页面在加载时增加额外的延迟，增添了额外的往返耗时 
  -  而且多个`@import`可能会导致下载顺序紊乱 

- ### css的操作

  - 比如元素的移动，提升z-index，定位父级relative,开辟独立的渲染区域
  - 减少重绘重拍，比如将某元素设置为display:none，再设置其他的css
  - 用transtrom替代top、left定位的动画
  - 减少无所谓的异步引入的css覆盖
  - 等
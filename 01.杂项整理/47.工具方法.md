## 工具方法

```js
// 只提取汉字
GetChinese(strValue) { // eslint-disable-line
    if (strValue !== null && strValue !== '') {
        const reg = /[\u4e00-\u9fa5]/g;
        return strValue.match(reg).join('');
    }
    return '';
}
// 去掉部字符串里面所有的符号
RemoveSymbol(str) {
   return str.replace(/[^\u4e00-\u9fa5\w]/g,"")
}
```

* 事件总线

  * 不止可以在`vue`中使用，其他项目可以

  * 事件总线订阅与发布

    ```js
    // EventBus.js
    export class EventBus {
      constructor() {
        this.list = {}
      }
    
      $on(listenerName, callback) { 
        if (!this.list[listenerName]) { // 没有listenerName监听器则创建监听
          this.list[listenerName] = []
        }
        this.list[listenerName].push(callback) 
      }
    
      $emit(listenerName, data = null) {
        let list = this.list[listenerName]
        if(!list|| !list.length) return false
        // 遍历发布消息
        list.forEach(listenerFun => listenerFun(data))
      }
    }
    ```

  * 挂载

    ```js
    // main.js
    const Bus = require('./EventBus.js')
    Vue.prototype.$bus=new Bus()
    ```

  * 使用

    ```js
    // 发布
    this.$bus.$emit('🐮🐎',{data:'🐮🐎'})
    // 订阅
    this.$bus.$on('🐮🐎',(result)=>{})
    ```


